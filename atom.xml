<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>随手记</title>
  
  <subtitle>不积跬步无以至千里</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-09-10T09:01:53.127Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>马建</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>阿里ACP云计算题库</title>
    <link href="http://yoursite.com/2019/09/10/%E9%98%BF%E9%87%8CACP%E4%BA%91%E8%AE%A1%E7%AE%97%E9%A2%98%E5%BA%93/"/>
    <id>http://yoursite.com/2019/09/10/阿里ACP云计算题库/</id>
    <published>2019-09-10T04:42:10.000Z</published>
    <updated>2019-09-10T09:01:53.127Z</updated>
    
    <content type="html"><![CDATA[<p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">1. 阿里云的云盾会检查通过公共互联网登录云服务器ECS的来源IP，登录方式包括SSH和远程桌面，当来自某个IP的登录请求出现多次密码错误的情况时，会发出”ECS遭遇密码暴力破解”的报警，当收到这个报警后，最安全的处理方法应该是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.通知自己业务平台的所有用户立即修改密码，并通过技术手段杜绝简单密码</span></li><li><span style="color:#333">B.这个报警无关紧要，可以忽略</span></li><li><strong><span style="color:#4CAF50">C.立即更新云服务器ECS实例的系统用户的密码，并启用安全组防火墙，只允许特定IP连接ECS实例</span></strong></li><li><span style="color:#333">D.立即登录云服务器ECS实例，检查登录日志，如果没有异常登录成功的记录，可直接忽略</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>当某个IP的尝试多次登录云服务器ECS的时候，为了防止密码被破解，建议立即修改云服务器ECS的密码，并启动安全组防火墙，只允许特定IP登录该ECS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">2. 您基于阿里云的云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，您自己部署的数据库的服务能力越来越不足，表现在并发连接数不足，磁盘的IOPS不能满足业务需要等，可以采用阿里云的<strong>____</strong>产品来解决这些问题。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><span style="color:#333">B.表格存储</span></li><li><strong><span style="color:#4CAF50">C.云数据库RDS</span></strong></li><li><span style="color:#333">D.大数据分析ODPS</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说遇到了自己部署的数据库的服务能力越来越不足的问题，所以可以通过云数据库RDS来解决问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">3. 作为一个互联网初创企业的技术负责人，小A在早期选择了阿里云的云服务器ECS并将Java应用程序、数据库MySQL等部署在了一台云服务器ECS实例上。随着业务发展和用户量增加，发现部署在这台ECS实例上数据库性能出现瓶颈。为了最快速度解决该问题，同时提高系统安全性和稳定性，您建议选择阿里云的<strong>____</strong>产品。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.负载均衡SLB</span></li><li><span style="color:#333">D.专有云VPC</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>这台ECS实例上数据库性能出现瓶颈，所以需要选择阿里云的RDS解决性能问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">4. 在公共云的环境中，阿里云负责云计算基础设施的安全（如: IDC环境、物理服务器运维、云产品虚拟化层等），用户需要对自己购买的云产品进行必要的安全优化和防护设置，以下几种客户的行为中您认为最安全的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.为了管理方便，将云服务器ECS实例的管理员密码修改为123456</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例购买成功后，立即通过管理控制台启用该ECS实例的安全组防火墙，并设置为只允许某管理IP远程登录</span></strong></li><li><span style="color:#333">C.为了减少沟通成本，公司的5个管理员都用root帐号登录云服务器ECS实例</span></li><li><span style="color:#333">D.为了方便在家办公的同事更新数据，对云数据库RDS实例开通了公网IP，并允许所有IP连接</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>上云实践中推荐：云服务器器ECS实例购买成功后，立即启⽤安全组防火墙,并对公网只开通必要的服务端口。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">5. 阿里云内容分发网络CDN系统能够实现内容加速的功能，需要智能DNS解析的支持，以下<strong>____</strong>功能不是智能DNS解析系统具备的。</font></p><ul><li><span style="color:#333">A.可以根据不同的访问者IP把同一个域名分别解析成不同的IP地址</span></li><li><strong><span style="color:#4CAF50">B.智能DNS解析系统具备网页内容缓存的功能，用户首次访问时从源站抓取数据，之后的请求优先从缓存中读取</span></strong></li><li><span style="color:#333">C.可以根据预先配置好的IP段位置信息，将用户请求指向离客户最近的服务器</span></li><li><span style="color:#333">D.如果用户在多个机房放置相同的镜象站点，可以让不同的地方客户访问不同的站点，实现负载均衡</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>目前智能DNS解析是不支持页内容缓存的功能的。参考链接：<a href="https://help.aliyun.com/document_detail/29730.html?spm=a2c4g.11186623.6.574.8d1a14caIdTcob" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/29730.html?spm=a2c4g.11186623.6.574.8d1a14caIdTcob</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">6. 阿里云对象存储OSS的图片处理服务中，所有对图片的转换参数都会加在图片文件的URL后面，使URL变得冗长，不方便管理与阅读。为了简化操作，OSS图片处理服务提供了<strong>___</strong>功能，可以将常见的转换参数保存起来多次使用。</font></p><ul><li><strong><span style="color:#4CAF50">A.样式</span></strong></li><li><span style="color:#333">B.方案</span></li><li><span style="color:#333">C.短网址</span></li><li><span style="color:#333">D.管道</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>参考链接：<a href="https://help.aliyun.com/document_detail/48884.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/48884.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">7. 开通阿里云对象存储OSS服务后，您首先需要使用fOSS管理控制台或OpenAPI创建Bucket来存储文件。创建Bucket时“所属地域”这个属性必须要指定，特别是您的云服务器ECS实例需要通过内网访问OSS Bucket时，必须选择与ECS实例相同的地域，以下有关“所属地域”的说法<strong><strong>_</strong></strong>是正确的。</font></p><ul><li><span style="color:#333">A.Bucket创建后，“所属地域”属性可随时更改</span></li><li><strong><span style="color:#4CAF50">B.Bucket创建后，“所属地域”属性不可更改</span></strong></li><li><span style="color:#333">C.Bucket创建后，如果未上传任何文件，则“所属地域”属性可以更改</span></li><li><span style="color:#333">D.Bucket创建后，要想修改“所属地域”属性，需申请特殊权限</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>Bucket创建后，所属地域不可更改。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">8. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。使用阿里云OSS进行数据存储前，需要先建立创建一个或者多个存储空间，这个存储空间在OSS里叫<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.key</span></li><li><span style="color:#333">B.value</span></li><li><span style="color:#333">C.object</span></li><li><strong><span style="color:#4CAF50">D.bucket</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>基础知识，顾名思义是Bucket。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">9. 阿里云对象存储服务（Object Storage Service，简称 OSS），是阿里云提供的海量、安全、低成本、高可靠的云存储服务。用户操作OSS的基本数据单元是什么？</font></p><ul><li><strong><span style="color:#4CAF50">A.Object</span></strong></li><li><span style="color:#333">B.Bucket</span></li><li><span style="color:#333">C.Service</span></li><li><span style="color:#333">D.安全组</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS的基本数据单元是对象/文件（Object）。参考链接：<a href="https://help.aliyun.com/document_detail/31817.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31817.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">10. 阿里云的负载均衡SLB包含了几个主要的部分：来自外部的访问请求、Listener、LoadBalancer、BackendServer等，关于Listener的说法中正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.主要包括用户定制的负载均衡策略和转发规则</span></strong></li><li><span style="color:#333">B.提供对外服务的ECS实例集合</span></li><li><span style="color:#333">C.是指负载均衡SLB实例</span></li><li><span style="color:#333">D.通过配置监控规则，可以生成负载均衡SLB实例的监控指标</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>Listener：用户定制的监听器，定义了负载均衡策略和转发规则。参考链接：<a href="https://yq.aliyun.com/articles/311875" target="_blank" rel="noopener">https://yq.aliyun.com/articles/311875</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">11. 在使用阿里云负载均衡SLB产品时，如果从负载均衡服务中移除ECS实例，直接将ECS实例从负载均衡实例中移除，可能会造成业务闪段。建议先执行以下哪个步骤？</font></p><ul><li><strong><span style="color:#4CAF50">A.将ECS实例权重修改为0</span></strong></li><li><span style="color:#333">B.先停止ECS实例上web服务</span></li><li><span style="color:#333">C.在管理控制台里将ECS实例停止</span></li><li><span style="color:#333">D.将负载均衡的健康检查功能关闭</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目问的是：直接将ECS实例从负载均衡实例中移除，可能会造成业务中断。因为有部分用户的请求可能这台ECS此时正在处理，所以如何保证业务不中断也能把ECS给下线（从负载均衡中移除）了。所以最好的办法就是”将ECS实例权重修改为0“。这样ECS就不会再被分配新的请求了，同时待权重修改之前的请求处理完成了，就可以把该ECS直接从负载均衡中移除了。文档释义：将负载均衡后端ECS的权重置零，相当于将该ECS手工下线，用于对相应ECS进行重启、配置调整等主动运维。而由于该状态下，业务数据是无法经负载均衡转发到该服务器的，所以健康检查相应的自然会显示异常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">12. 在阿里云上创建专有网络VPC时，VPC会自动为用户创建1条系统路由，这条路由的作用是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.没有任何作用</span></li><li><span style="color:#333">B.用于专有网络外的云产品实例访问专有网络内的云产品实例</span></li><li><strong><span style="color:#4CAF50">C.用于专有网络内的云产品实例访问专有网络外的云服务（该云服务支持VPC内的云产品实例直接访问）</span></strong></li><li><span style="color:#333">D.用于打通用户所有的专有网</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>以100.64.0.0/10为目标网段的路由条目，用于VPC内的云产品通信。参考链接：<a href="https://help.aliyun.com/document_detail/49002.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/49002.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">13. 阿里云的云盾补丁管理服务里发布的补丁来自<strong><strong>_</strong></strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云自己研发</span></strong></li><li><span style="color:#333">B.应用厂商官方发布</span></li><li><span style="color:#333">C.开源社区网友的贡献</span></li><li><span style="color:#333">D.操作系统厂商官方发布</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云盾依靠积累的安全大数据，每天自动分析0day，第一时间会进行补丁自研，若开通补丁管理功能，可直接进行修复，防止损失的扩大，一般自研补丁，均快于官方，在漏洞爆发和官方未发布补丁的窗口期，把黑客拦截在外。参考链接：<a href="https://cn.aliyun.com/product/vipaegis或https://cn.aliyun.com/product/vipaegis" target="_blank" rel="noopener">https://cn.aliyun.com/product/vipaegis或https://cn.aliyun.com/product/vipaegis</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">14. 阿里云绿网是云盾体系内的业务防护模块，它的作用是保护网站内容的安全，提前发现不符合政策规定的信息。以下对绿网功能的描述最准确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.自动判别文本内容和图片是否合规，支持API批量检测图片</span></strong></li><li><span style="color:#333">B.只支持文本内容的识别</span></li><li><span style="color:#333">C.可以限制服务器对外访问的资源，防止ECS云主机中毒后破坏内容的完整性</span></li><li><span style="color:#333">D.用来限制访问ECS云主机的源IP，防止黑客篡改内容</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>支持API批量检测图片和识别的文字，参考链接：<a href="https://help.aliyun.com/document_detail/70430.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/70430.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">15. 当客户开通云盾安骑士功能后经常能收到一些安全的报警信息，但是没有时间处理，为了避免安全风险的发生，客户还可以选择云盾的<strong><strong>___</strong></strong>服务，让阿里云专业的工程师代为处理。</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><strong><span style="color:#4CAF50">B.安全管家</span></strong></li><li><span style="color:#333">C.内容安全（原名：绿网）</span></li><li><span style="color:#333">D.DDoS高防IP</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>安全管家有专业技术人员可以帮你运维机实例，参考链接：<a href="https://help.aliyun.com/document_detail/31742.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31742.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">16. 某视频手机应用，日均活跃用户为两百万，可以使用阿里云的哪一款或几款产品来解决用户对视频，图片，音频的大量访问？</font></p><ul><li><strong><span style="color:#4CAF50">A.OSS+CDN</span></strong></li><li><span style="color:#333">B.VPC</span></li><li><span style="color:#333">C.云盾+云监控</span></li><li><span style="color:#333">D.PTS</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：来解决用户对视频，图片，音频的大量访问。所以选择OSS和CDN。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">17. 阿里云内容分发网络CDN在实际应用中，CDN效果的好坏与是否正确使用非常相关。 以下<strong><strong>___</strong></strong>场景不适合使用CDN。</font></p><ul><li><strong><span style="color:#4CAF50">A.重复访问率不高的个人网盘业务</span></strong></li><li><span style="color:#333">B.纯静态页的企业门户网站</span></li><li><span style="color:#333">C.短视频分发网站</span></li><li><span style="color:#333">D.手机APP的升级包下载站</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>重复访问率不高的个人网盘业务的回源次数太高，不适合使用CDN。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">18. 阿里云弹性伸缩(Auto Scaling)中，可以配置伸缩规则来定义具体的扩展和收缩操作。以下<strong>____</strong>是伸缩规则。</font></p><ul><li><strong><span style="color:#4CAF50">A.加入或移出3个云服务器ECS实例</span></strong></li><li><span style="color:#333">B.配置周期性任务，每天13:00点定时触发</span></li><li><span style="color:#333">C.自动创建云服务器ECS实例时，使用的配置以及镜像</span></li><li><span style="color:#333">D.是否将不健康的云服务器ECS实例移出</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>伸缩规则（Scaling Rule）定义了具体的扩展或收缩操作，例如加入或移出N个实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">19. 您在阿里云两个在不同地域创建了专有网络VPC，如果希望实现两个VPC之间的私网通信，采用<strong>____</strong>产品可以实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.通过高速通道实现VPC之间的私网通信</span></strong></li><li><span style="color:#333">B.通过路由器创建新的路由条目打通</span></li><li><span style="color:#333">C.通过安全组创建新的访问规则打通</span></li><li><span style="color:#333">D.无需任何操作，同一个帐号下的不同VPC本来就是内网连通的</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目问的是希望实现两个VPC之间的私网通信，所以需要通过高速通道实现VPC之间的私网通信。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">20. 当收到阿里云的云盾检测出的安全报警信息后，正确的处理方法是<strong><strong>_</strong></strong>。</font></p><ul><li><span style="color:#333">A.无需理会，阿里云的云盾会搞定一切</span></li><li><span style="color:#333">B.屏蔽报警信息，一点都不重要</span></li><li><strong><span style="color:#4CAF50">C.云盾只是一个产品，不能处理一切风险。当用户收到报警信息后需判断具体的风险点，主动修复。如:安装杀毒软件、修改管理密码、升级应用软件等</span></strong></li><li><span style="color:#333">D.云盾报警是非常可怕的，应立即向公安机关报案</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>云盾检测出的安全报警信息后，用户需要认证对待，判断具体的风险点并尽早主动修复。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">21. 阿里云内容分发网络CDN在基本配置之上为用户开放了很多优化功能，包括：页面优化、智能压缩、过滤参数、拖拽播放等。以下关于这些优化功能的描述，错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.可以压缩与去除页面中无用的空行、回车等内容，有效缩减页面大小</span></li><li><span style="color:#333">B.支持多种内容格式的智能压缩，有效减少用户传输内容的大小</span></li><li><strong><span style="color:#4CAF50">C.可以提高站点的整体安全性，防止源站服务器帐号被爆力破解</span></strong></li><li><span style="color:#333">D.可实现视频、音频点播的随机拖拽播放功能</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>提高站点的整体安全性不属于CDN性能优化的一部分，参考链接（性能优化部分）：<a href="https://www.alibabacloud.com/help/zh/docdetail/64935.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/64935.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">22. 阿里云的云盾数据风控可以很好地解决WEB应用中常见的垃圾注册、刷库等业务风险识别的难题， 要想使用这项服务首先得进行业务数据的采集，对于WEB应用系统，可以采用<strong><strong>_</strong></strong>方式来采集信息。</font></p><ul><li><strong><span style="color:#4CAF50">A.JavaScript</span></strong></li><li><span style="color:#333">B.SDK</span></li><li><span style="color:#333">C.JavaScript和SDK</span></li><li><span style="color:#333">D.HTML5</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>数据风控目前只支持在Web中插入指定的JS代码，其他的暂时还不支持，参考链接：<a href="https://help.aliyun.com/document_detail/44822.html?spm=5176.10695662.1996646101.searchclickresult.9b7e2313t5UoAq" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/44822.html?spm=5176.10695662.1996646101.searchclickresult.9b7e2313t5UoAq</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">23. 阿里云的云盾数据风控是通过领先的行为收集技术和机器学习模型，解决账号、活动、支付等关键业务环节存在的欺诈威胁，最终实验降低企业损失。该项服务是基于阿里巴巴的<strong><strong>__</strong></strong>能力开发的。</font></p><ul><li><span style="color:#333">A.BGP网络</span></li><li><span style="color:#333">B.弹性计算</span></li><li><strong><span style="color:#4CAF50">C.大数据风控</span></strong></li><li><span style="color:#333">D.DDoS攻防经验</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>云盾数据风控是基于阿里大数据风控服务能力，通过领先的行为收集技术和机器学习模型，解决账号、活动、支付等关键业务环节存在的欺诈威胁，降低企业经济损失。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">24. 在使用阿里云的负载均衡SLB实例时，做了如下健康检查的配置：响应超时时间为5秒，健康检查间隔为2秒，不健康阀值为3，健康阀值为3。即对于确认一个云服务器ECS实例是健康的，需要连续三次得到正常响应。如果某后端云服务器ECS实例当前状态是不健康的，现在对该实例进行修复，可以通过健康检查确认该实例是健康的时间窗是多久？</font></p><ul><li><span style="color:#333">A.19秒</span></li><li><span style="color:#333">B.21秒</span></li><li><span style="color:#333">C.5秒</span></li><li><strong><span style="color:#4CAF50">D.7秒</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目问的是：后端云服务器ECS实例当从不健康状态，到通过健康检查确认其健康状态的时间窗的时长，所以此题时间窗=(健康检查成功响应时间1S x 健康阈值3S) + 健康检查间隔2S x (健康阈值31)=7S，参考链接：<a href="https://help.aliyun.com/knowledge_detail/39455.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39455.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">25. 在使用阿里云的负载均衡SLB实例时，做了如下健康检查的配置：响应超时时间为5秒，健康检查间隔为2秒，不健康阀值为3，健康阀值为3，即对于确认一个后端云服务器ECS实例是不健康的，需要连续三次健康检查超时。则在某后端云服务器ECS实例状态异常后，被负载均衡SLB实例从后端服务器中移出的时间窗为是多久？</font></p><ul><li><strong><span style="color:#4CAF50">A.19秒</span></strong></li><li><span style="color:#333">B.21秒</span></li><li><span style="color:#333">C.5秒</span></li><li><span style="color:#333">D.7秒</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目问的是：ECS被负载均衡SLB实例从后端服务器中移出的时间窗为是多久。即后端云服务器ECS实例从健康状态，到健康检查不健康状态的时间窗的时长，此题时间窗= (健康检查成功响应时间5S x 健康阈值3) + 检查间隔2S x (健康阈值3  1)=19S，参考链接：<a href="https://help.aliyun.com/knowledge_detail/39455.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39455.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">26. 如果用户的在使用阿里云对象存储OSS产品时，产生的外网下行流量比较多，可以使用阿里云内容分发网络CDN产品来降低用户的外网流量成本。组合方案中CDN的公网流量成本比OSS的低，同时CDN向OSS回源时产生的流量费也比访客直接访问OSS低。</font></p><ul><li><strong><span style="color:#4CAF50">A.对 </span></strong></li><li><span style="color:#333">B.错 </span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目所表达的意思是因为有了CDN，就不需要频繁回源OSS，但是假如是用户每次都请求OSS的话就需要频繁回源OSS，这个时候，CDN向OSS回源的产生的流量费相比于直接访问要低很多。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">27. 阿里云内容分发网络CDN和传统厂商的CDN相比具有稳定快速、节约成本和简单易用三个特点。以下关于阿里云CDN节约成本的描述错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.资源弹性扩展，按实际使用量付费，接入即可实现跨运营商、跨地域的全网覆盖</span></li><li><span style="color:#333">B.先使用后付费,提供按流量或峰值带宽两种计费方式，满足不同业务需求</span></li><li><span style="color:#333">C.对于网站突发流量，无需用户干预，自动作出响应和调整,有效减少源站压力</span></li><li><strong><span style="color:#4CAF50">D.同一地域的CDN和云服务ECS实例之间，不收回源流量费</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>CDN回源的地址可以使回源域名，也可以是回源IP，这个时候访问的是ECS的公网IP，不管是否是同一个地域都会产生回源流量费。参考链接：<a href="https://blog.csdn.net/lsj960922/article/details/83411210" target="_blank" rel="noopener">https://blog.csdn.net/lsj960922/article/details/83411210</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">28. 关于阿里云CDN加速域名的“停用”和“删除”，表述正确的是？</font></p><ul><li><span style="color:#333">A.停用加速域名会自己停止相关域名的解析</span></li><li><span style="color:#333">B.删除加速域名时，被加速域名的解析记录也会同时被自己恢复为加速前的内容</span></li><li><span style="color:#333">C.”停用“该加速域名后，该条加速域名信息仍保留，针对加速域名的请求系统不会再做自动回源处理</span></li><li><strong><span style="color:#4CAF50">D.“删除”该加速域名后，将删除该加速域名的全部相关记录，对于仅需要暂停使用该加速域名，推荐选择“停用”方式</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>“停用”该加速域名后，该条加速域名信息仍保留，针对加速域名的请求系统将做自动回源处理。参考链接：<a href="https://yq.aliyun.com/ask/59575?spm=5176.10695662.1996646101.searchclickresult.76dd287flGFI9H" target="_blank" rel="noopener">https://yq.aliyun.com/ask/59575?spm=5176.10695662.1996646101.searchclickresult.76dd287flGFI9H</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">29. 关于阿里云CDN缓存数据更新的建议和描述，错误的是<strong>___</strong>？</font></p><ul><li><span style="color:#333">A.缓存刷新指的是强制将分发节点上缓存的资源标记为过期，当用户再次对该资源发起请求时，节点会回源拉取资源，并缓存一份更新后的资源在分发节点</span></li><li><span style="color:#333">B.同名更新时，可以从控制台提交刷新请求，或者使用API，完成主动刷新</span></li><li><span style="color:#333">C.同名更新时，如果不主动刷新，只能等待缓存文件到期后才能回源拉取最新的文件</span></li><li><strong><span style="color:#4CAF50">D.阿里云CDN支持对同名更新的实时更新，用户只要做相关配置后，不必主动提交请求，便可以实现自动刷新</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>阿里云CDN支持对同名更新的实时更新，用户只要做相关配置后，在您不主动提交请求的时候，CSN不会自动去实现刷新请求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">30. 云盾反欺诈服务是阿里巴巴的什么能力开发的？</font></p><ul><li><span style="color:#333">A.BGP网络</span></li><li><span style="color:#333">B.DDos攻防经验</span></li><li><strong><span style="color:#4CAF50">C.大数据风控服务</span></strong></li><li><span style="color:#333">D.弹性计算</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>云盾反欺诈服务是阿里巴巴的大数据风控服务能力开发。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39305.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39305.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">31. 某企业托管到传统IDC机房的服务器（包括windows和Linux两种操作系统），每天晚上有来自很多国家的IP地址对其管理密码进行尝试破解。为此管理员小王很是担心，因为工作需要，远程管理端口必须对公网开放。 小王听说阿里云的云盾可以帮助客户提升安全防护的能力，想把系统迁到阿里云上。在阿里云上开通<strong><strong>_</strong></strong>功能可以减少密码被暴力破解的可能。</font></p><ul><li><span style="color:#333">A.内容安全（原名：绿网）</span></li><li><strong><span style="color:#4CAF50">B.安骑士</span></strong></li><li><span style="color:#333">C.DDoS基础防护</span></li><li><span style="color:#333">D.态势感知</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中问的是防止密码破解，这个是安骑士的功能点。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">32. 您希望在阿里云上构建一个安全隔离的网络环境，并且在这个网络环境中可以按自己的需求进行网络拓扑的设计和私网IP地址网段的划分，可以采用<strong>____</strong>产品来满足这个需求。</font></p><ul><li><span style="color:#333">A.弹性伸缩</span></li><li><span style="color:#333">B.高速通道</span></li><li><strong><span style="color:#4CAF50">C.专有网络VPC</span></strong></li><li><span style="color:#333">D.专线</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中问的是需要实现网络的拓扑的设计和私网IP地址网段的划分，所以需要通过专有网络VPC来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">33. BGP(边界网关协议)主要用于互联网AS(自治系统)之间的互联，BGP的最主要功能在于控制路由的传播和选择最好的路由，阿里云的云服务器ECS产品支持的多线BGP接入,解决的主要问题是<strong>___</strong>。</font></p><ul><li><span style="color:#333">A.提升全网内容分发效率；</span></li><li><strong><span style="color:#4CAF50">B.避免跨运营商的网络访问的速度瓶颈；</span></strong></li><li><span style="color:#333">C.解决网络边界内容缓存的问题；</span></li><li><span style="color:#333">D.解决网络带宽的问题；</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>使用BGP协议还可以使网络具有很强的扩展性可以将IDC网络与其他运营商互联，轻松实现单IP多线路，做到所有互联运营商的用户访问都很快。所以解决的是跨运营商的网络访问的速度瓶颈问题，参考链接：<a href="https://help.aliyun.com/knowledge_detail/40677.html?spm=5176.11065259.1996646101.searchclickresult.6f84264bNJbVX5" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40677.html?spm=5176.11065259.1996646101.searchclickresult.6f84264bNJbVX5</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">34. 您的业务将面临一个新的挑战，要进行一次大型的促销，但无法预估业务增长的幅度，但您了解云服务器ECS实例的CPU利用率如果超过了70%，业务的响应速度将会有大幅度的下降，目前您的web应用部署在一组阿里云的云服务器ECS实例上，前端采用一个公网的负载均衡SLB作为流量入口。采用<strong>____</strong>方式可以最高效并最节省地来应对这个场景。</font></p><ul><li><span style="color:#333">A.制作部署web服务的云服务器ECS实例的镜像,基于该镜像创建足够多的新的云服务器ECS实例,并加入到负载均衡SLB的集群中,提前做好准备</span></li><li><strong><span style="color:#4CAF50">B.采用弹性伸缩Auto Scaling服务,设定伸缩规则,当CPU利用率超过70%的时候自动增加新的服务器ECS实例加入到负载均衡SLB的集群当中,CPU利用率低于30%的时候释放多余的云服务器ECS实例</span></strong></li><li><span style="color:#333">C.制作部署web服务的云服务器ECS实例的镜像,基于该镜像创建部分新的云服务器ECS实例,并加入到负载均衡SLB的集群中,并由运维人员实时监控CPU的利用率,如果超过70%就立刻申请新的云服务器ECS实例加入到负载均衡的集群中</span></li><li><span style="color:#333">D.采用弹性伸缩Auto Scaling服务,设定伸缩规则,当CPU利用率超过70%的时候自动增加新的云服务器ECS实例加入到负载均衡SLB的集群当中</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说到高效并最节省，所以不仅需要应对CPU超过70%的情况，还需要考虑节省，所以设置了,CPU利用率低于30%的时候释放多余的云服务器ECS实例来节省成本。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">35. 某企业使用公共云的云服务器进行文件处理，出于改善性能的考虑，将正在使用的1核2G云服务器的配置提升至2核8G，这种操作在云计算中被称为<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.垂直扩展</span></strong></li><li><span style="color:#333">B.自动扩展</span></li><li><span style="color:#333">C.水平扩展</span></li><li><span style="color:#333">D.资源编排</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说的是升级ECS的配置，所以称之为垂直扩展，假如是通过弹性伸缩来完成的拓展，称之为水平扩展。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">36. 由于业务的流量增长，您需要对您的阿里云的云服务ECS实例的带宽进行临时升级操作，以下的描述中错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.可以按天进行升级，升级后如果云服务器ECS续费，仍然按照原基础带宽进行续费</span></li><li><strong><span style="color:#4CAF50">B.不支持按天升级，升级之后按升级之后的带宽进行续费</span></strong></li><li><span style="color:#333">C.可以在当前生命周期内，设定时间段区间内临时增加带宽</span></li><li><span style="color:#333">D.可以多次叠加操作，支持随时操作，不受任何操作影响</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>ECS的带宽是带宽支持临时升级操作，但是临时升级只能升级到云服务的有效期的结束时间，所以在升级之后仍然按照升级之前的带宽进行续费。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">37. 您在创建阿里云的云服务器ECS实例时必须要选择<strong>____</strong>来指定新建的云服务器ECS实例的系统盘的配置？</font></p><ul><li><span style="color:#333">A.IP地址</span></li><li><strong><span style="color:#4CAF50">B.镜像</span></strong></li><li><span style="color:#333">C.安全组</span></li><li><span style="color:#333">D.区域</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>ECS的系统盘的配置需要通过镜像来新建完成。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">38. 用户在阿里云以外的服务器上安装“安骑士客户端”后，通过<strong><strong>_</strong></strong>方式与指定的阿里云官网帐号关联。</font></p><ul><li><strong><span style="color:#4CAF50">A.在管理控制台生成的安装验证key</span></strong></li><li><span style="color:#333">B.用户帐号ID</span></li><li><span style="color:#333">C.用户的AccessKey</span></li><li><span style="color:#333">D.用户名和密码</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>安装“安骑士客户端”后，需要通过管理控制台的Key来完成和阿里云官网账号的关联，参考链接：<a href="https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.1b40c39ajjHSE1" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.1b40c39ajjHSE1</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">39. 用户在阿里云以外的服务器上安装“云安全中心客户端”后，通过<strong><strong>_</strong></strong>方式与指定的阿里云官网帐号关联。</font></p><ul><li><strong><span style="color:#4CAF50">A.在管理控制台生成的安装验证key</span></strong></li><li><span style="color:#333">B.用户帐号ID</span></li><li><span style="color:#333">C.用户的AccessKey</span></li><li><span style="color:#333">D.用户名和密码</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>安装“云安全中心客户端”后，需要通过管理控制台的Key来完成和阿里云官网账号的关联，参考链接：<a href="https://www.aliyun.com/ss/?t=h&amp;k=key&amp;rangeinfo=h_pid_28498" target="_blank" rel="noopener">https://www.aliyun.com/ss/?t=h&amp;k=key&amp;rangeinfo=h_pid_28498</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">40. 采用云计算服务与传统自建IT系统不同，相比传统自建方式，云计算带来了巨大的便利性。以阿里云服务器ECS为例，这些便利性中不包括<strong><strong>_</strong></strong>。</font></p><ul><li><span style="color:#333">A.用户按照需要获得计算量而不是按照峰值设计</span></li><li><strong><span style="color:#4CAF50">B.用户无需参与任何安全管理工作</span></strong></li><li><span style="color:#333">C.用户无需再去维护和管理硬件</span></li><li><span style="color:#333">D.获得服务器实例在几分钟内而不是数天数周</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目问的是便利性不包括，安全管理工作还是需要用户参加的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">41. 您的特定业务要暂时停止一段时间，为了节省成本希望暂时不使用或者释放这些业务的云服务器ECS实例，但希望能够继续保留现有的云服务器ECS实例系统盘上运行的服务和数据， 通过<strong><strong>_</strong></strong>可以最节省高效地实现。</font></p><ul><li><span style="color:#333">A.直接释放该云服务器ECS实例，阿里云会自动为用户保留数据</span></li><li><strong><span style="color:#4CAF50">B.制作该云服务器ECS实例的自定义镜像，并释放该实例</span></strong></li><li><span style="color:#333">C.直接释放该云服务器ECS实例，自动镜像可以保证需要保留的应用和数据还能找回来</span></li><li><span style="color:#333">D.暂停该云服务器ECS实例</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目要求节省成本希望暂时不使用或者释放这些业务的云服务器ECS实例，所以需要保存这些ECS的数据，所以制作镜像后再释放实例满足题目的要求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">42. 为了提升您在阿里云上部署的应用的可用性，可以在多可用区创建云服务器ECS实例并进行应用的部署，同时可以与<strong>____</strong>产品搭配使用，可以实现高可用的架构。</font></p><ul><li><span style="color:#333">A.云监控</span></li><li><span style="color:#333">B.弹性伸缩Auto Scaling</span></li><li><span style="color:#333">C.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">D.负载均衡SLB</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中要求可以在多可用区部署ECS，所以需要通过负载均衡SLB来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">43. 阿里云的云盾DDoS高防IP是阿里云在“基础DDoS防护”之上提供的高级防护产品，支持四层和七层的抗攻击能力， 以下关于云盾DDoS高防IP的功能描述错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.支持弹性按天计费</span></li><li><strong><span style="color:#4CAF50">B.DDoS防护阈值弹性调整，您可以随时升级更高级别的防护，调整过程服务中断时间不超过5分钟</span></strong></li><li><span style="color:#333">C.提供实时精准的流量报表及攻击详情，让您及时准确获得当前服务详情</span></li><li><span style="color:#333">D.防护多种DDoS类型攻击，包括但不限于以下攻击类型 ICMP Flood、UDP Flood、TCP Flood、SYN Flood、ACK Flood 等</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>调整DDoS防护阈值并不会导致服务的中断。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">44. A电商平台近几年业务增长很快，访问量持续保持每年提升300%，平台运营团队因此获得了公司的年度特别奖励。在高兴之余运营团队发现平台系统带宽的支出是以每年500%的比例增长的，如果能有效降低这块成本可以提升整体的运营质量。此时，该公司选择阿里云的<strong>____</strong>服务，效果会最明显。</font></p><ul><li><span style="color:#333">A.支持多可用区的云数据库RDS</span></li><li><strong><span style="color:#4CAF50">B.内容分发网络CDN</span></strong></li><li><span style="color:#333">C.对象存储OSS</span></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说”系统带宽的支出是以每年500%的比例增长的”，说明服务很占用带宽资源，可以通过内容分发网络CDN来减少服务器的带宽输出。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">45. 阿里云的专有网络VPC中用于连接VPC内的各个交换机的设备是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.路由器</span></strong></li><li><span style="color:#333">B.路由表</span></li><li><span style="color:#333">C.云服务器ECS</span></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>路由器和交换机 路由器(VRouter)是专有网络的枢纽。作为专有网络中重要的功能组件,它可以连接VPC内的各个交换机,同时也是连接VPC和其他网络的网关设备。参考链接：<a href="https://helpcdn.aliyun.com/document_detail/34217.html" target="_blank" rel="noopener">https://helpcdn.aliyun.com/document_detail/34217.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">46. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。在安全性方面OSS服务本身具备了防DDoS攻击和自动黑洞清洗的功能，如果采用传统IT的解决方案，实现和OSS类似的防DDos功能，需要做什么投入<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.只需要在存储服务器内安装特定的安全软件</span></li><li><strong><span style="color:#4CAF50">B.需要购买专业的流量清洗和黑洞设备，同时按预期的防护能力购买相应的IDC入口带宽</span></strong></li><li><span style="color:#333">C.购买多台存储服务器，同时启用，可实现相同级别的抗DDoS功能</span></li><li><span style="color:#333">D.专业的存储服务器都自带了防DDoS功能，无需客户购买</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目问的是传统IT的解决方案需要实现防DDos功能，所以需要购购买专业的流量清洗和黑洞设备，同时按预期的防护能力购买相应的IDC入口带宽。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">47. 阿里云的云服务器ECS实例的磁盘快照是某一个时间点上某一个磁盘的数据拷贝。以下针对云服务器ECS实例的磁盘快照的描述正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.快照被存放在用户自己的磁盘中</span></li><li><span style="color:#333">B.自定义快照名称可以以auto开头</span></li><li><strong><span style="color:#4CAF50">C.快照存放在OSS上</span></strong></li><li><span style="color:#333">D.只有系统盘支持自动快照</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>快照不会自动保存到已有的OSS Bucket。快照存放的位置与您自建的OSS Bucket相互独立，您无需为快照创建新的Bucket。总结就是快照保存在独立于你自建的OSS空间内。参考链接：<a href="https://help.aliyun.com/knowledge_detail/52045.html?spm=a2c4g.11186631.6.808.45387acerez4Rq" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/52045.html?spm=a2c4g.11186631.6.808.45387acerez4Rq</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">48. 阿里云对象存储OSS为每个存储空间Bucket自动分配一个内网地址和一个外网地址，如果正确使用内网地址，一方面可以实现OSS Bucket与云服务器ECS实例之间的流量免费，另一方面云服务器ECS实例通过内网访问OSS Bucket的网络质量较好，能够有效的提升部署在ECS实例上的应用的上传和下载质量。以下关于OSS Bucket内网地址的描述正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.如果ECS实例使用OSS Bucket内网地址，只能访问与ECS实例在同一地域且在同一可用区的OSS Bucket</span></li><li><span style="color:#333">B.只要ECS实例和OSS Bucket属于同一用户，ECS实例就可以通过内网访问OSS Bucket</span></li><li><span style="color:#333">C.从公共云上的任意一台ECS实例都可以通过内网访问任何地域的OSS Bucket</span></li><li><strong><span style="color:#4CAF50">D.如果ECS实例需要访问OSS Bucket的内网地址，只能访问与ECS实例在同一地域的Bucket</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>ECS需要通过内网访问OSS的Bucket的话，需要和此Bucket处于同一地域。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">49. 在互联网环境中，云服务器ECS要想被别的应用或网民访问到，就必须开通相应的“端口”，比如常见的HTTP应用工作在80端口，FTP应用工作在21端口，以下是某管理员对云服务器ECS配置的策略，请您选出最安全的一种方法<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例购买成功后，立即从管理控制台启用了安全组防火墙，并对公网只开通必要的服务端口</span></strong></li><li><span style="color:#333">B.用户打算在1台云服务器ECS实例上搭建多个应用，为了方便管理，采用了默认的设置，开放全部端口</span></li><li><span style="color:#333">C.云服务器ECS实例购买成功后，立即从管理控制台启用了安全组防火墙，对公网开放的端口范围是从0到1024</span></li><li><span style="color:#333">D.云服务器ECS实例购买成功后，立即从管理控制台启用了安全组防火墙，对公网开放全部端口，ECS实例对外只能访问80端口</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>按照企业上云的最佳安全策略，应该是需要用到ECS的指定的服务端口才去开通必要的服务端口。避免由于端口暴露导致ECS的安全问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">50. 某企业使用公共云搭建了一个门户网站，目前访问缓慢。为了提升网站的响应速度，又购置了多台云服务器，希望新增加的服务器和原有服务器一起对外提供服务，需要哪种技术配合实现这个方案<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.CDN（内容分发网络）</span></li><li><span style="color:#333">B.容器服务</span></li><li><span style="color:#333">C.VPC（虚拟专用网）服务</span></li><li><strong><span style="color:#4CAF50">D.负载均衡</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说”希望新增加的服务器和原有服务器一起对外提供服务”的技术，所以选择把新加的机器作为负载均衡SLB后端的机器一起提供服务，所以选择负载均衡SLB。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">51. 云计算一个重要特点是弹性，阿里云的用户可以根据业务需求和策略实现计算资源的自动调整。在业务量高峰时增加ECS实例来提升系统的处理能力，在业务量低谷时自动减少ECS实例以节约成本。针对此场景，阿里云的<strong>____</strong>产品可以和云服务器ECS实例配合使用实现弹性计算。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">B.弹性伸缩Auto Scaling</span></strong></li><li><span style="color:#333">C.云数据库RDS</span></li><li><span style="color:#333">D.专有网络VPC</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说需要自动根还有业务量来自动调节ECS实例的数目，所以需要选择弹性伸缩Auto Scaling。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">52. 云计算以多种形式对外提供服务，比如提供给消费者的服务是运行在云计算基础设施上的应用程序，消费者可以在各种设备上通过瘦客户端界面访问，如浏览器（例如基于Web的邮件），不需要管理或控制任何云计算基础设施，包括网络、服务器、操作系统、存储，甚至独立的应用能力等等，仅需要对应用进行有限的、特殊的配置。这种服务形式被称作<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.PaaS(平台即服务)</span></li><li><span style="color:#333">B.DaaS(数据存储即服务)</span></li><li><strong><span style="color:#4CAF50">C.SaaS(软件即服务)</span></strong></li><li><span style="color:#333">D.IaaS(基础设施即服务)</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说了是消费者通过瘦客户端界面访问，提到客户端那就相当于日常使用的软件，所以选择SaaS(软件即服务)。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">53. 用户通过网络使用软件，无需购买软硬件、建设机房等，而改用向提供商租用基于Web的软件，来管理企业经营活动，且无需对软件进行维护，服务提供商会全权管理和维护软件。这种模式是云计算提供的<strong>____</strong>服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.SaaS(软件即服务)</span></strong></li><li><span style="color:#333">B.DaaS(数据即服务)</span></li><li><span style="color:#333">C.IaaS(基础设施即服务)</span></li><li><span style="color:#333">D.PaaS(平台即服务)</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说了是基于Web的软件，消费者只需要通过网络使用软件，不需要管理和维护软件，所以选择SaaS(软件即服务)。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">54. 阿里云云服务器ECS是一种简单高效、处理能力可弹性伸缩的计算服务，帮助您快速构建更稳定、安全的应用，提升运维效率，降低 IT 成本。ECS属于<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.SaaS(软件即服务)</span></li><li><strong><span style="color:#4CAF50">B.IaaS(基础设施即服务)</span></strong></li><li><span style="color:#333">C.PaaS(平台即服务)</span></li><li><span style="color:#333">D.DaaS(数据即服务)</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>IaaS也就是基础设施即服务（InfrastructureasaService）。IaaS公司会提供场外服务器，存储和网络硬件，也可以选择租用。节省了维护成本和办公场地，公司可以在任何时候利用这些硬件来运行其应用。比如阿里云的ECS，亚马逊的EC2，腾讯云的CVM，都属于IaaS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">55. 云计算以多种形式对外提供服务，比如提供给消费者的服务是把客户开发或者购买的应用程序部署到云计算基础设施上。消费者不需要管理或控制底层的云基础设施，包括网络、服务器、操作系统、存储等，但能够控制部署的应用程序，也可能控制运行应用程序的托管环境配置。这种服务形式被称作<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.SaaS(软件即服务)</span></li><li><span style="color:#333">B.DaaS(数据即服务)</span></li><li><span style="color:#333">C.IaaS(基础设施即服务)</span></li><li><strong><span style="color:#4CAF50">D.PaaS(平台即服务)</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说了消费者不需要控制底层的设施，但是可以控制运行应用程序的托管环境配置，且平台包括网络、服务器、操作系统、存储等。所以属于平台服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">56. 云计算以多种形式对外提供服务，比如可以提供给消费者处理能力、存储、网络和其他基本的计算资源，消费者能够利用这些计算资源部署和运行任意软件，包括操作系统和应用程序，但不能管理或控制任何云计算基础设施。这种服务形式被称作<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.SaaS(软件即服务)</span></li><li><span style="color:#333">B.PaaS(平台即服务)</span></li><li><strong><span style="color:#4CAF50">C.IaaS(基础设施即服务)</span></strong></li><li><span style="color:#333">D.DaaS(数据即服务)</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说了：利用这些计算资源部署和运行任意软件，包括操作系统和应用程序，说到”计算资源”了，所以就是提供基础的云计算服务，即基础设施即服务，具体可以结合参考链接中的产品举例理解区分：<a href="https://yq.aliyun.com/articles/560829" target="_blank" rel="noopener">https://yq.aliyun.com/articles/560829</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">57. 某企业利用某公共云服务，租用了若干台虚拟机，并把这些虚拟机放在一个隔离的虚拟网络中，可以完全掌控自己的虚拟网络，包括选择自有 IP 地址范围、划分网段、配置路由表和网关等，这个虚拟网络在公共云服务中通常称作<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.NFV服务</span></li><li><span style="color:#333">B.VPN服务</span></li><li><span style="color:#333">C.SDN服务</span></li><li><strong><span style="color:#4CAF50">D.VPC服务</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说需要构建隔离的虚拟网络，所以需要用到阿里云专用网络VPC服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">58. 您的阿里云专有网络VPC创建后，需要完成<strong>____</strong>操作之后，才能够在专有网络内创建其他的云产品实例，如云服务器、负载均衡和云数据库等.</font></p><ul><li><span style="color:#333">A.配置网段地址</span></li><li><strong><span style="color:#4CAF50">B.创建交换机</span></strong></li><li><span style="color:#333">C.设置路由表</span></li><li><span style="color:#333">D.创建路由器</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>在阿里云专有网络VPC创建后，路由器也是随着VPC一起自动创建的，所以不需要手动创建了。这个时候需要继续创建交换机才能在交换机中创建其他云产品。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">59. D公司基于阿里云对象存储OSS和云服务器ECS构建了一个应用网站。初期采用OSS的原因是看上了它的大容量存储和能在多台ECS之间共享读写文件的功能，后来因业务需要逐渐增加了事务性的数据交互需求，在多个请求共同写OSS上的同一个文件时会互相覆盖，为此管理员很发愁。遇到这种情况可以选用阿里云的哪个云服务直接解决<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.增加更多的云服务器ECS</span></li><li><span style="color:#333">B.内容分发网络CDN</span></li><li><span style="color:#333">C.选用负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">D.选用关系型云数据库RDS解决</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说因为增加了事务性的数据交互需求，导致在同时写一个文件的时候会相互覆盖，这个时候需要选择关系型数据库RDS来解决事务性的交互需求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">60. 阿里云的负载均衡SLB提供对多台云服务器进行流量分发的服务，支持四层和七层的流量转发。其中七层流量转发是通过<strong>____</strong>实现的。</font></p><ul><li><span style="color:#333">A.LVS</span></li><li><span style="color:#333">B.Nginx</span></li><li><strong><span style="color:#4CAF50">C.Tengine</span></strong></li><li><span style="color:#333">D.Heartbeat</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>流量转发四层是通过LVS实现，七层是通过Tengine实现</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">61. 阿里云的负载均衡SLB提供对多台云服务器进行流量分发的服务，支持四层和七层的流量转发。其中四层流量转发是通过<strong>____</strong>实现的。</font></p><ul><li><strong><span style="color:#4CAF50">A.LVS</span></strong></li><li><span style="color:#333">B.Tengine</span></li><li><span style="color:#333">C.Nginx</span></li><li><span style="color:#333">D.Heartbeat</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>流量转发四层是通过LVS实现，七层是通过Tengine实现</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">62. 阿里云的云服务器ECS产品支持的多线BGP接入，解决的主要问题是<strong>____</strong>.</font></p><ul><li><span style="color:#333">A.提升全网内容分发效率</span></li><li><strong><span style="color:#4CAF50">B.避免跨运营商的网络访问的速度瓶颈</span></strong></li><li><span style="color:#333">C.解决网络边界内容缓存的问题</span></li><li><span style="color:#333">D.其他都是</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云多线BGP（中国电信、联通、移动、教育网等）接入，确保全国用户访问畅通，提升用户访问的质量。所以解决的是避免跨运营商的网络访问的速度瓶颈。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">63. 如果在配置阿里云的负载均衡SLB实例的监听时，开启了“获取真实访问IP”，针对7层服务可以通过http头部中的<strong>____</strong>字段获取来访者真实IP。</font></p><ul><li><span style="color:#333">A.Authorization</span></li><li><span style="color:#333">B.Connection</span></li><li><span style="color:#333">C.Etag</span></li><li><strong><span style="color:#4CAF50">D.XForwardedFor</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>在负载均衡SLB中，可以通过XForwardedFor的方式获取访问者真实IP。参考链接：<a href="https://help.aliyun.com/document_detail/100972.html?spm=5176.11065259.1996646101.searchclickresult.6d656c30x7VJQG" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/100972.html?spm=5176.11065259.1996646101.searchclickresult.6d656c30x7VJQG</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">64. 阿里云对象存储OSS是按使用收费的服务，为了防止用户在OSS上的数据被其他人盗链而产生不必要的支出，OSS设计了防盗链功能，以下有关OSS防盗链实现机制的说法正确的是<strong>____</strong>?</font></p><ul><li><span style="color:#333">A.基于SSL密钥实现</span></li><li><span style="color:#333">B.基于HTTP的Authorization实现</span></li><li><span style="color:#333">C.基于IP黑、白名单机制</span></li><li><strong><span style="color:#4CAF50">D.基于HTTP header中表头字段referer实现</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>对象存储OSS的防盗链是基于HTTP或HTTPS header中包含Referer字段来实现的。参考链接：<a href="https://help.aliyun.com/document_detail/32021.html?spm=5176.10695662.1996646101.searchclickresult.64af13a2RWVt4S" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32021.html?spm=5176.10695662.1996646101.searchclickresult.64af13a2RWVt4S</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">65. 某视频直播公司采用阿里云弹性伸缩（Auto Scaling）来实现动态添加或者减少云服务器ECS实例，来应对业务量的变化。由于该公司的系统刚上线不久，没有历史数据做参考，同时也不能预估业务量的变化，他们希望通过ECS实例资源的使用情况（比如CPU利用率、系统负载Load等）来弹性伸缩计算资源。他们应该选择以下哪种伸缩模式<strong>____</strong>?</font></p><ul><li><span style="color:#333">A.lazy模式</span></li><li><span style="color:#333">B.定时模式</span></li><li><span style="color:#333">C.固定数量模式</span></li><li><strong><span style="color:#4CAF50">D.动态模式</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>因为公司不能正确预估业务量的变化，所以需要用动态模式来自动伸缩ECS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">66. 以下<strong>____</strong>安全功能需要单独购买，不是在创建阿里云的云服务器ECS实例的同时可以免费获得的。</font></p><ul><li><span style="color:#333">A.木马查杀</span></li><li><span style="color:#333">B.基础DDoS防护</span></li><li><span style="color:#333">C.防暴力破解</span></li><li><strong><span style="color:#4CAF50">D.DDoS高防IP</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>DDoS高防IP是需要付费购买的功能。基础DDoS防护是可以免费开通的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">67. 阿里云的云服务器ECS实例的安全组实现了类似虚拟防火墙的功能，用于设置单个或多个云服务器ECS实例的网络访问策略。对于云服务器安全组使用的说法正确的是<strong>____</strong> 。</font></p><ul><li><span style="color:#333">A.每个ECS实例只能属于一个安全组</span></li><li><span style="color:#333">B.每个ECS实例可以加入多个安全组，无数量上限</span></li><li><strong><span style="color:#4CAF50">C.ECS实例必须加入安全组</span></strong></li><li><span style="color:#333">D.ECS实例可以不加入安全组</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>每个ECS实例最多可以加入 5 个安全组，且ECS至少加入一个安全组、<a href="https://help.aliyun.com/knowledge_detail/87018.html?spm=5176.2000002.0.0.14222621oEcXv4" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/87018.html?spm=5176.2000002.0.0.14222621oEcXv4</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">68. 您已经成功购买了阿里云的弹性公网IP（EIP），需要通过管理控制台进行弹性公网IP的绑定，但是界面提示没有找到相应的云服务器ECS实例，可能是<strong>____</strong>原因引起的。</font></p><ul><li><span style="color:#333">A.您所申请的EIP所在地域的某个可用区内没有经典网络的云服务器ECS实例</span></li><li><span style="color:#333">B.您所申请的EIP所在地域的专有网络VPC内在某个可用区内的没有云服务器ECS实例</span></li><li><strong><span style="color:#4CAF50">C.您所申请的EIP所在的地域内的专有网络VPC内没有云服务器ECS实例</span></strong></li><li><span style="color:#333">D.您所申请的EIP所在的地域内没有经典网络的云服务器ECS实例</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：绑定弹性公网IP却提示没有找到相应的云服务器ECS实例。弹性公网IP的限制有：ECS实例的网络类型必须是专有网络、ECS实例的地域必须和EIP的地域相同。所以选择：您所申请的EIP所在的地域内的专有网络VPC内没有云服务器ECS实例。参考链接：<a href="https://help.aliyun.com/document_detail/54479.html?spm=a2c4g.11186623.6.543.37205a4f4vAvhz" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/54479.html?spm=a2c4g.11186623.6.543.37205a4f4vAvhz</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">69. 您的业务增长，会出现现有的阿里云的云服务器ECS实例的系统盘存储资源不足的问题，阿里云提供了系统盘扩容的功能帮您解决系统盘存储资源不足的问题。下列关于扩容系统盘的操作说法错误的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.扩容系统盘之后您实例的IP地址会发生变化</span></strong></li><li><span style="color:#333">B.其他都是错误的</span></li><li><span style="color:#333">C.通过更换实例的系统盘来实现系统盘的扩容</span></li><li><span style="color:#333">D.扩容系统盘的时候需要停止您的实例，因此会短暂中断您的业务</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>扩容系统盘是需要ECS处于停止的状态，所以会中断ECS中的业务，但是扩容系统盘之后不会导致实例的IP地址发生变化。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">70. 某企业使用负载均衡SLB将用户的访问请求分发到多台云服务器ECS实例上，同时为了应对业务波动带来的计算资源需求的变化，选用了阿里云弹性伸缩（Auto Scaling）对后端云服务器ECS实例进行动态的添加或者删除。基于对业务状况的判断，他们定义了两种伸缩模式的任务，一种是定时任务，即在指定的时间点执行伸缩活动，另一种是报警任务，即根据云监控的返回信息自动触发伸缩活动。假设在某一时间点，定时任务和报警任务同时满足执行条件，以下说法正确的是<strong>____</strong> ？</font></p><ul><li><span style="color:#333">A.两个伸缩活动同时执行</span></li><li><strong><span style="color:#4CAF50">B.同时只会有一个伸缩活动执行，两种任务并没有优先级的区分</span></strong></li><li><span style="color:#333">C.同时只会有一个伸缩活动执行，报警任务触发的伸缩活动优先执行</span></li><li><span style="color:#333">D.同时只会有一个伸缩活动执行，定时任务触发的伸缩活动优先执行</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>两者是没有优先级之分，两个同时触发会随机执行。请以我们的答案为准。这个答案我们都是确认过的，所以不用质疑哦，这个暂时没有官方文档释义支持。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">71. 您发现在创建云服务器ECS实例的磁盘快照时所需的时间每次都不同，关于这个现象说法错误的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.因为磁盘容量大小不同，导致快照创建的时间不同</span></li><li><span style="color:#333">B.第一次给磁盘创建快照是一个全量的过程，会把整个磁盘都做成快照，所以第一次快照制作的时间比较长</span></li><li><span style="color:#333">C.第一次快照之后的磁盘快照是增量创建，只会对磁盘增加的数据和修改的数据做快照，所以第一次之后的快照制作的时间相对短一些</span></li><li><strong><span style="color:#4CAF50">D.磁盘快照生成的时候磁盘本身的读写性能发生了变化</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>阿里云提供的磁盘本身的读写性能是稳定的，并不会发生了变化，创建一份快照的所需时间主要取决于磁盘容量大小。根据快照的增量原理，磁盘的第一份快照为全量快照，耗时较久。再次创建快照，相对耗时较短，但依然取决于和上一份快照之间的数据变化量。变化越大，耗时越久。参考链接：<a href="https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.41243e7fSh5imI" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.41243e7fSh5imI</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">72. 阿里云负载均衡SLB可以通过流量分发扩展部署在后端服务器中的应用系统对外服务的能力，通过消除单点故障提升应用系统的可用性，必须和阿里云提供的<strong>____</strong>配合使用。</font></p><ul><li><span style="color:#333">A.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS</span></strong></li><li><span style="color:#333">C.专有网络VPC</span></li><li><span style="color:#333">D.云监控</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB必须和云服务器ECS配合使用。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">73. <a href="http://www.bestcar.com是一个刚建立的汽车资讯车友交流网站。主站用Php搭建，有10GB的图片素材，部分JS文件。目前购买一台ECS放置所有程序代码，并在ECS上安装MySQL数据库。随着用户访问量的不断增长，访问网站的速度越来越慢，图片加载慢，网站响应慢。用户上传的图片每周增长50GB。以下哪种产品组合方案可以同时解决大量图片存储和快速访问两个问题_______" target="_blank" rel="noopener">www.bestcar.com是一个刚建立的汽车资讯车友交流网站。主站用Php搭建，有10GB的图片素材，部分JS文件。目前购买一台ECS放置所有程序代码，并在ECS上安装MySQL数据库。随着用户访问量的不断增长，访问网站的速度越来越慢，图片加载慢，网站响应慢。用户上传的图片每周增长50GB。以下哪种产品组合方案可以同时解决大量图片存储和快速访问两个问题_______</a>_ ？</font></p><ul><li><span style="color:#333">A.采用OSS+ECS组合</span></li><li><span style="color:#333">B.采用OSS+MTS组合</span></li><li><span style="color:#333">C.采用OSS+RDS组合</span></li><li><strong><span style="color:#4CAF50">D.采用OSS+CDN组合</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说了需要需要同时解决大量图片存储和快速访问，解决大量图片所以需要用OSS来存储，实现快速访问所以需要用CDN来配合加速访问。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">74. 您的业务将面临一个新的挑战，要进行一次大型的促销，但无法预估业务增长的幅度，但您了解云服务器ECS实例的CPU利用率如果超过了70%，业务的响应速度将会有大幅度的下降，目前您的web应用部署在一组阿里云的云服务器ECS实例上，前端采用一个公网的负载均衡SLB作为流量入口。采用<strong>____</strong>方式可以最高效并最节省地来应对这个场景。</font></p><ul><li><span style="color:#333">A.制作部署web服务的云服务器ECS实例的镜像，基于该镜像创建足够多的新的云服务器ECS实例，并加入到负载均衡SLB的集群中，提前做好准备</span></li><li><strong><span style="color:#4CAF50">B.采用弹性伸缩Auto Scaling服务，设定伸缩规则，当CPU利用率超过70%的时候自动增加新的服务器ECS实例加入到负载均衡SLB的集群当中，CPU利用率低于30%的时候释放多余的云服务器ECS实例</span></strong></li><li><span style="color:#333">C.制作部署web服务的云服务器ECS实例的镜像，基于该镜像创建部分新的云服务器ECS实例，并加入到负载均衡SLB的集群中，并由运维人员实时监控CPU的利用率，如果超过70%就立刻申请新的云服务器ECS实例加入到负载均衡的集群中</span></li><li><span style="color:#333">D.采用弹性伸缩Auto Scaling服务，设定伸缩规则，当CPU利用率超过70%的时候自动增加新的云服务器ECS实例加入到负载均衡SLB的集群当中</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说无法预估业务增长的幅度，且需要”最高效最节省”，所以没有办法准确的预计需要用的ECS的数量，所以需要用到弹性伸缩的动态伸缩模式，且需要在CUP利用率比较低的时候自动减少ECS来释放多余的ECS节省成本。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">75. 您已经有一台运行状态的云服务器ECS实例，并完成了所需的应用软件的部署。如果您希望创建一个部署同样软件的新的云服务器ECS实例，可以采用<strong>____</strong>方式最高效的获得。</font></p><ul><li><span style="color:#333">A.上传本地制作好的镜像，并基于该镜像创建一台新的云服务器ECS实例</span></li><li><span style="color:#333">B.基于现有的云服务器ECS实例的系统盘制作快照，并基于该快照生成新的云服务器ECS实例</span></li><li><span style="color:#333">C.直接生成一台新的云服务器ECS实例，并进行所需软件的部署</span></li><li><strong><span style="color:#4CAF50">D.基于现有的云服务器ECS实例的系统盘制作自定义镜像，并基于该自定义镜像生成新的云服务器ECS实例</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说需要创建一个部署同样软件的新的云服务器ECS实例，所以需要通过制作镜像来实现快速复制，</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">76. 阿里云弹性伸缩（Auto Scaling）经常会和云服务器ECS、负载均衡SLB、云数据库RDS等产品配合使用，以下说法中正确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.弹性伸缩必须和云服务器ECS一起使用</span></li><li><strong><span style="color:#4CAF50">B.弹性伸缩可以单独使用，不依赖于其他任何产品</span></strong></li><li><span style="color:#333">C.弹性伸缩必须和云数据库RDS一起使用</span></li><li><span style="color:#333">D.弹性伸缩必须和负载均衡SLB一起使用</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云弹性伸缩(Auto Scaling)可以单独使用，无需搭配其他云产品一起使用。参考链接：<a href="https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">77. 互联网络设备之间的数据传输需要特定的规范，这个规范的专业述语被称为“协议”，有一种协议的发明对互联网的产生起了决定性的作用，通过这个协议可以使数万台的计算机连接在一起，这个协议的名称是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.HTTP</span></li><li><span style="color:#333">B.UDP</span></li><li><span style="color:#333">C.SOAP</span></li><li><strong><span style="color:#4CAF50">D.TCP/IP</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>Internet使用TCP/IP协议实现了全球范围的计算机网络的互连。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">78. 阿里云对象存储OSS提供了海量的存储能力。当用户需要将一些Object从一个Bucket复制到另外一个Bucket，且不改变内容时，可以使用OSS OpenAPI的CopyObject实现。使用CopyObjec来复制文件可以节省<strong>____</strong>成本。</font></p><ul><li><span style="color:#333">A.存储成本</span></li><li><strong><span style="color:#4CAF50">B.网络带宽</span></strong></li><li><span style="color:#333">C.API请求次数</span></li><li><span style="color:#333">D.没有节约成本</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>CopyObject接口用于在存储空间（Bucket ） 内或同地域的Bucket之间拷贝文件（Object），所以不需要使用带宽再次上传至OSS，可以节省OSS的网络带宽。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">79. 阿里云弹性伸缩(Auto Scaling)，是根据用户的业务需求和策略，自动调整其弹性计算资源的管理服务。支持用户添加已有的云服务器ECS实例，但该云服务器ECS实例的状态必须为<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.已停止</span></li><li><strong><span style="color:#4CAF50">B.运行中</span></strong></li><li><span style="color:#333">C.准备中</span></li><li><span style="color:#333">D.已创建</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性伸缩手动添加ECS，ECS的状态必须为运行中。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">80. 某公司有一个阿里云官网账号，并通过此账号申请使用了阿里云的负载均衡SLB实例，公司的账号的管理员创建了子账号，并将负载均衡SLB实例的只读权限授予该子账号，该子账号的拥有者可以查看SLB服务，但是无法对其进行修改。上述授权操作使用了阿里云的<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.RAM (Resource Access Management)</span></strong></li><li><span style="color:#333">B.资源编排</span></li><li><span style="color:#333">C.DAC（Discretionary Access Control）</span></li><li><span style="color:#333">D.MAC（Mandatory Access Control）</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>提及到”子账号”，所以需要通过阿里云的RAM (Resource Access Management) ，即用户身份管理与资源访问控制服务。参考链接：<a href="https://help.aliyun.com/document_detail/28627.html?spm=5176.11065259.1996646101.searchclickresult.69ec47ecbFOnAe" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28627.html?spm=5176.11065259.1996646101.searchclickresult.69ec47ecbFOnAe</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">81. 当云服务器ECS实例选择了CentOS系统时，本地为Windows操作系统，采用<strong>____</strong>方式无法正确的登录该ECS实例。</font></p><ul><li><span style="color:#333">A.阿里云管理控制台</span></li><li><span style="color:#333">B.SecureCRT</span></li><li><span style="color:#333">C.Putty</span></li><li><strong><span style="color:#4CAF50">D.Windows自带的远程桌面客户端</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>Windows自带的远程桌面客户端只能连接Windows系统的远程界面，不能连接Centos系统（Linux系统）。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">82. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。用OSS管理的文件可以很方便地对外提供分享，分享前点击文件后面的“获取地址”文字链接即可得到当前文件的地址，这个分享使用的是<strong>____</strong>应用层（七层）协议。</font></p><ul><li><strong><span style="color:#4CAF50">A.HTTP</span></strong></li><li><span style="color:#333">B.TCP</span></li><li><span style="color:#333">C.FTP</span></li><li><span style="color:#333">D.SMTP</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS的分享文件使用的是HTTP应用层（七层）的协议。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">83. 使用阿里云弹性伸缩(Auto Scaling)来实现计算资源的弹性配置时，做了如下设置：伸缩组的属性中设置MinSize=6，MaxSize=8，伸缩规则为“减少5台ECS”， 伸缩配置也进行了正常的配置。该伸缩组当前的云服务器ECS实例数为8台，通过设置定时任务来执行，执行一次后，会减少<strong>____</strong>云服务器ECS实例。</font></p><ul><li><span style="color:#333">A.5台</span></li><li><span style="color:#333">B.1台</span></li><li><strong><span style="color:#4CAF50">C.2台</span></strong></li><li><span style="color:#333">D.0台</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>注意：MinSize=6，所以执行定时任务每次减少5台，但是最少需要有6台机器，所以执行一次后最多只能减少2台。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">84. 云盾是阿里云整体安全体系的一部分，为云上客户和阿里云自身提供多方面的安全保障功能。以下关于云盾的描述，正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.是一款软件产品，用户开通云产品后需要安装才能使用</span></li><li><span style="color:#333">B.是一款硬件产品</span></li><li><strong><span style="color:#4CAF50">C.是阿里云为用户提供的，包括安全漏洞检测、网页木马检测以及主机入侵检测、防DDoS攻击等功能的一站式安全服务</span></strong></li><li><span style="color:#333">D.云盾的所有功能都需要付费使用</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>云盾是阿里巴巴集团多年来安全技术研究积累的成果，结合阿里云云计算平台强大的数据分析能力。为中小网站提供如安全漏洞检测、网页木马检测以及面向云服务器用户提供的主机入侵检测、防DDOS等一站式安全服务。云盾的功能产品部分是可以免费使用的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">85. 当您的阿里云的云服务器ECS实例处于<strong>____</strong>状态时，通过API查询云服务器状态时，返回状态是running。</font></p><ul><li><span style="color:#333">A.启动中</span></li><li><strong><span style="color:#4CAF50">B.运行中</span></strong></li><li><span style="color:#333">C.更换系统中</span></li><li><span style="color:#333">D.重置中</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>ECS状态是running对应的是运行中的状态。启动中的状态是：Starting。注意区别。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">86. 您希望通过华北2（北京）地域的阿里云专有网络VPC中的云服务器ECS实例通过内网访问OSS，但是连接osscnbeijinginternal.aliyuncs.com（华北2（北京）地域的通用内网地址）失败，可以通过<strong>____</strong>解决。</font></p><ul><li><span style="color:#333">A.只能通过外网地址进行访问</span></li><li><span style="color:#333">B.其他方式都不能解决</span></li><li><span style="color:#333">C.换其他地域的内网地址进行访问，如华北1（青岛）地域的通用内网地址（osscnqingdaointernal.aliyuncs.com）</span></li><li><strong><span style="color:#4CAF50">D.通过VPC专用的OSS内网地址进行访问，vpc100osscnbeijing.aliyuncs.com</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>在VPC的环境中ECS连接osscnbeijinginternal.aliyuncs.com这个地址不通。这个是因为OSS针对VPC是有一套自己的内网地址，所以需要用北京：vpc100osscnbeijing.aliyuncs.com，参考链接：<a href="https://help.aliyun.com/knowledge_detail/38740.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/38740.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">87. 阿里云的负载均衡SLB是对多台后端服务器进行流量分发的服务。以下关于负载均衡SLB的说法正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.通过Tengine提供四层负载均衡</span></li><li><span style="color:#333">B.可以不需要云服务器ECS实例就实现负载均衡服务</span></li><li><strong><span style="color:#4CAF50">C.通过集群提供服务，具有高可靠性</span></strong></li><li><span style="color:#333">D.通过LVS提供七层负载均衡</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>通过集群提供服务,具有高可用性(也可以说是可靠性)，四层负载均衡是通过LVS来实现的，七层负载均衡是通过Tengine来实现的。负载均衡必须和云服务器ECS配合使用。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">88. 阿里云的云服务器ECS产品的应用非常广泛，既可以单独的作为Web服务器，也可以与其他阿里云产品配合提供多媒体解决方案。在多媒体、大流量的APP或网站应用场景下，云服务器ECS实例与阿里云的<strong>____</strong>产品搭配，可大幅减少用户访问的等待时间并降低带宽费用。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><span style="color:#333">B.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">C.内容分发网络CDN</span></strong></li><li><span style="color:#333">D.弹性伸缩Auto Scaling</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说了大幅减少用户访问的等待时间并降低带宽费用，意思就是加速访问，节省带宽，所以需要内容分发网络CDN来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">89. 阿里云会为每个云服务器ECS实例分配一个私网IP。以下关于云服务器ECS实例的私网IP说法正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.私网IP不可以用于SLB的负载均衡</span></li><li><span style="color:#333">B.同一地域内实例之间通过私网IP进行的通讯流量是收费的</span></li><li><strong><span style="color:#4CAF50">C.不要在操作系统内部自行变更私网IP，否则可能会导致私网通讯中断</span></strong></li><li><span style="color:#333">D.私网不允许同一帐号下的云服务器ECS实例之间或者云服务器ECS实例与其他云服务之间互访</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>私网IP是可以用于SLB的负载均衡，同一地域内实例之间通过私网IP进行的通讯是不收取流量费的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">90. 某用户是做香蕉销售生意的，所有的在线平台和数据都放在阿里云的云服务器ECS实例和云数据库RDS实例中，现在CEO想对香蕉销售额的变化趋势做一个监控，并在订单量发生较大变化时能收到预警信息，可以使用阿里云的<strong>____</strong>产品实现，并在管理控制台中展现结果。</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><span style="color:#333">B.阿里绿网</span></li><li><span style="color:#333">C.云服务器ECS</span></li><li><strong><span style="color:#4CAF50">D.云监控</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说需要在管理控制台中展现云产品的监控预警信息，所以需要用到阿里云的云监控。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">91. 使用阿里云弹性伸缩（Auto Scaling）时，创建了伸缩组，指定了“伸缩最小实例数（台）”为5，“伸缩最大实例数（台）”为8，设定了正确的伸缩配置，并添加了伸缩规则为“增加3台ECS实例”，创建了基于该伸缩规则的定时任务（运行时间设置为1小时后）。当前伸缩组中有效的ECS实例个数为3，马上启用该伸缩组，以下说法正确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.会在定时任务触发时按照伸缩配置自动创建3个ECS实例，添加到伸缩组</span></li><li><span style="color:#333">B.会在伸缩组启用时，按照伸缩配置自动创建7个ECS实例，添加到伸缩组</span></li><li><strong><span style="color:#4CAF50">C.会在伸缩组启用时，按照伸缩配置自动创建2个ECS实例，添加到伸缩组</span></strong></li><li><span style="color:#333">D.会在定时任务触发时按照伸缩配置自动创建2个ECS实例，添加到伸缩组</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>【会在定时任务触发时按照伸缩配置自动创建3个ECS实例】，【会在伸缩组启用时按照伸缩配置自动创建2个ECS实例】，两个选项都是正确的。所以这个是阿里云官方的题目的问题，假如考试遇到这个原题的话直接选择【会在伸缩组启用时按照伸缩配置自动创建2个ECS实例】，然后再举手示意考场老师题目问题。特此确认。防止产生误解。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">92. 您的操作系统为Windows的阿里云的云服务器ECS实例，通过远程登录发现黑屏，不可能是<strong>____</strong>原因造成的。</font></p><ul><li><span style="color:#333">A.CPU资源耗尽</span></li><li><span style="color:#333">B.内存空间不足</span></li><li><span style="color:#333">C.系统宕机</span></li><li><strong><span style="color:#4CAF50">D.密码输入错误</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>云服务器ECS实例黑屏说明是ECS的状态不正常导致的，密码输入错误是不会导致云服务器ECS实例出现异常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">93. 某在线教育网站是基于云服务器ECS+负载均衡SLB+弹性伸缩（Auto Scaling）的方案实现的，在保证系统稳定、客户体验良好的前提下，大大节省了资源成本和运维成本。现在他们想把用户的访问信息（如来源IP、访问页面URL、停留时长等）保存下来进行分析，支持一些市场活动。以下说法中错误的是<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.伸缩组中的每台ECS实例，均保存各自处理的用户访问信息，这些ECS实例上的数据随时可以访问、分析，这种方案简单高效、稳定可靠，同时节省成本</span></strong></li><li><span style="color:#333">B.将用户相关的访问信息实时或者准实时的同步到对象存储OSS中，供后续使用</span></li><li><span style="color:#333">C.将用户相关的访问信息实时或者准实时的保存到云数据库RDS MySQL版中去，后续的查询、分析均通过RDS实现</span></li><li><span style="color:#333">D.将用户相关的访问信息实时或者准实时的同步到云数据库Memcache版（原OCS）中去，后续通过应用访问OCS，或者按照一定规则将OCS中的数据持久化，然后使用持久化后的数据</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为涉及到多台ECS且将ECS挂载到到了负载均衡的后端，上云最佳实践中，不能在每台ECS中各自保存用户的访问信息，这样会导致之后的请求的数据不同步，最佳的解决方案是将用户的信息保存到统一的云产品（比如云数据库RDS）中，所有的ECS都通过该云产品来调用访问用户信息。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">94. 某保险公司的线上平台每天在线订单量超过20万笔，一年来频繁受到大流量攻击（超过10G），使服务断断续续，严重影响了公司的品牌和业务量。如果该客户使用阿里云的<strong>____</strong>产品可以抵御这类攻击，保证业务的高可用性。</font></p><ul><li><strong><span style="color:#4CAF50">A.DDoS高防IP</span></strong></li><li><span style="color:#333">B.态势感知</span></li><li><span style="color:#333">C.DDoS基础防护</span></li><li><span style="color:#333">D.服务器安全托管</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>DDoS基础防护只能防护5GB以下的DDoS攻击，超过5GB的DDoS攻击需要用到DDoS高防IP。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">95. 您希望通过管理控制台进行阿里云的专有网络VPC内的云服务器ECS实例的私网IP地址的修改，但发现操作的菜单不可用，可能是<strong>____</strong>原因引起的。</font></p><ul><li><span style="color:#333">A.该云服务器ECS实例所在的VPC类型是默认专有网络</span></li><li><span style="color:#333">B.该云服务器ECS实例没有绑定EIP</span></li><li><strong><span style="color:#4CAF50">C.没有针对该云服务器ECS实例进行停止操作，且该云服务器ECS实例不是停止状态</span></strong></li><li><span style="color:#333">D.该云服务器ECS实例不是运行状态</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>修改私网IP需要保证ECS处于已停止的状态，参考链接：<a href="https://help.aliyun.com/document_detail/27733.html?spm=5176.11065259.1996646101.searchclickresult.45a35cbfsFVrbb" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27733.html?spm=5176.11065259.1996646101.searchclickresult.45a35cbfsFVrbb</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">96. 如果您希望在使用阿里云云服务器ECS时，为了定义更灵活的网络拓扑，并按需选择私网IP地址范围并进行网段的划分，应该使用<strong>____</strong>产品。</font></p><ul><li><span style="color:#333">A.VPN</span></li><li><span style="color:#333">B.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">C.专有网络VPC</span></strong></li><li><span style="color:#333">D.云服务器ECS</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中需要实现：网络拓扑，网段划分，所以需要专有网络VPC来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">97. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务。负载均衡SLB实例和后端提供服务的云服务器ECS实例必须具有相同的<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.地域（Region）</span></strong></li><li><span style="color:#333">B.规格配置（CPU、内存等）</span></li><li><span style="color:#333">C.可用区（Zone）</span></li><li><span style="color:#333">D.带宽设置</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>负载均衡SLB实例和云服务器ECS搭配使用的时候，两者必须是在同一个地域。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">98. 使用阿里云的负载均衡SLB时，为了实现跨地域（Region）的高可用性，可以在不同的地域（Region）创建多个负载均衡SLB实例，通过<strong>____</strong>的方式对外提供服务。</font></p><ul><li><span style="color:#333">A.DNS多播</span></li><li><span style="color:#333">B.DNS最小连接数</span></li><li><strong><span style="color:#4CAF50">C.DNS轮询</span></strong></li><li><span style="color:#333">D.DNS广播</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>实现不同地域的多个负载均衡SLB的负载，需要通过DNS轮询来实现，参考链接：<a href="https://help.aliyun.com/knowledge_detail/39752.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39752.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">99. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠 的云存储服务。与自建存储对比，OSS在可靠性、安全、成本和数据处理能力等几个方面都具有优势。以下<strong>____</strong>不是OSS在数据处理能力方面表现出来的优势。</font></p><ul><li><strong><span style="color:#4CAF50">A.提供大规模的数据分析能力</span></strong></li><li><span style="color:#333">B.提供实时缩放图片的处理功能</span></li><li><span style="color:#333">C.提供实时的“图片水印”的图片处理功能</span></li><li><span style="color:#333">D.提供实时的“文字水印”的图片处理功能</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>对象存储OSS并不具备大规模的数据分析能力。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">100. 您在阿里云的某台云服务器ECS实例上运行的服务出现响应缓慢的情况，通过云监控发现目前该ECS实例的带宽利用率已经达到80%以上。在不希望对云服务器ECS实例重启的前提下，可以尝试通过<strong>____</strong>操作来缓解服务响应缓慢的问题。</font></p><ul><li><span style="color:#333">A.其他三个都不需要</span></li><li><strong><span style="color:#4CAF50">B.升级ECS实例的带宽</span></strong></li><li><span style="color:#333">C.为ECS实例增加磁盘</span></li><li><span style="color:#333">D.升级ECS实例的CPU和内存</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说了是因为带宽利用率太高，导致了解服务响应缓慢的问题，所以需要通过升级ECS实例的带宽的方式减轻带宽压力。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">101. 想要实现同一个阿里云帐号下的不同云服务器ECS实例之间的网络访问控制，可以通过阿里云管理控制台提供的<strong>____</strong>功能实现。</font></p><ul><li><span style="color:#333">A.云盾</span></li><li><strong><span style="color:#4CAF50">B.安全组</span></strong></li><li><span style="color:#333">C.绿网</span></li><li><span style="color:#333">D.防火墙</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说不同云服务器ECS实例之间的网络访问控制，注意是网络访问控制，所以需要通过安全组来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">102. 阿里云的负载均衡SLB中的证书（Certificate）用于HTTPS协议，在需要使用加密协议时，用户可以将证书上传至负载均衡SLB实例中，在创建HTTPS协议监听时绑定证书，提供HTTPS服务。目前阿里云的负载均衡SLB只支持<strong>____</strong>格式的证书。</font></p><ul><li><strong><span style="color:#4CAF50">A.PEM</span></strong></li><li><span style="color:#333">B.P7B</span></li><li><span style="color:#333">C.PFX</span></li><li><span style="color:#333">D.DER</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>负载均衡只支持PEM格式的证书。参考链接：<a href="https://help.aliyun.com/document_detail/85968.html?spm=a2c4g.11186623.6.598.56dd6327YGkPhK" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85968.html?spm=a2c4g.11186623.6.598.56dd6327YGkPhK</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">103. 如果您在创建Linux操作系统的云服务器ECS实例的同时选择增加了数据盘，以下关于系统盘和数据盘的说法中错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.云服务器支持对数据盘进行二次分区</span></li><li><strong><span style="color:#4CAF50">B.如果您使用第三方工具对系统盘进行二次分区操作，不会发生什么异常</span></strong></li><li><span style="color:#333">C.可以根据业务需要，对数据盘进行多分区配置</span></li><li><span style="color:#333">D.系统需要先格式化数据盘，然后挂载数据盘</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>使用第三方工具对系统盘进行二次分区操作，可能会导致云服务器ECS出现异常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">104. 当您通过Open API进行阿里云的云服务器ECS实例的磁盘挂载的时候，发现不能成功挂载，可能是由于<strong>____</strong>原因引起的。</font></p><ul><li><span style="color:#333">A.云服务器ECS实例的状态为已停止</span></li><li><span style="color:#333">B.云服务器ECS实例的状态为运行中</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的状态为启动中</span></strong></li><li><span style="color:#333">D.磁盘的状态为待挂载</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>只有在稳定（运行中，已停止）状态才能挂载磁盘，其他状态都不行。参考链接：<a href="https://help.aliyun.com/document_detail/25446.html?spm=5176.11065259.1996646101.searchclickresult.24c753fcUln2Lm" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25446.html?spm=5176.11065259.1996646101.searchclickresult.24c753fcUln2Lm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">105. 用户在阿里云以外的服务器上安装“安骑士客户端”后，通过<strong>____</strong>方式与指定的阿里云官网帐号关联。</font></p><ul><li><strong><span style="color:#4CAF50">A.在管理控制台生成的安装验证key</span></strong></li><li><span style="color:#333">B.用户帐号ID</span></li><li><span style="color:#333">C.用户的AccessKey</span></li><li><span style="color:#333">D.用户名和密码</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>安装“安骑士客户端”后，需要用在管理控制台生成的安装验证key与指定的阿里云官网帐号关联。参考链接：<a href="https://help.aliyun.com/document_detail/28457.html?spm=5176.11065259.1996646101.searchclickresult.175f4e360Grii0" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28457.html?spm=5176.11065259.1996646101.searchclickresult.175f4e360Grii0</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">106. 您希望基于已有的磁盘快照在青岛可用区A的云服务器ECS实例创建一个新的块存储磁盘，您可以使用<strong>____</strong>快照创建该磁盘。</font></p><ul><li><strong><span style="color:#4CAF50">A.以上都不行</span></strong></li><li><span style="color:#333">B.青岛可用区A的某个ECS实例的系统盘快照1</span></li><li><span style="color:#333">C.北京可用区A的某个ECS实例的数据盘快照</span></li><li><span style="color:#333">D.香港可用区A的某个ECS实例的数据盘快照</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中要求的是在ECS上面新挂载一块数据盘，所以可以使用和它同一个可用区的非系统盘快照来创建。所以三个选项都是不符合要求的。系统盘快照，不能用来作为创建新的数据盘。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">107. 您需要创建一个新的云服务器ECS实例进行一个10天的临时性的测试时，采用<strong>____</strong>方式去开通云服务器ECS实例是最经济的模式。</font></p><ul><li><strong><span style="color:#4CAF50">A.按量付费</span></strong></li><li><span style="color:#333">B.包年包月</span></li><li><span style="color:#333">C.预付费模式</span></li><li><span style="color:#333">D.其他都不对</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>临时使用ECS，并不需要长期租赁，所以使用按量付费的模式最经济最合适。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">108. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。如果您有一个网站是纯静态页的，或者是对某复杂网站做过动静分离，您可以直接将静态网页通过OSS提供服务，不仅如此，OSS还可以与<strong>____</strong>产品结合起来提供加速服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.内容分发网络CDN</span></strong></li><li><span style="color:#333">B.云服务器ECS</span></li><li><span style="color:#333">C.高性能计算 HPC</span></li><li><span style="color:#333">D.专有网络 VPC</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目是说到了加速服务。所以需要通过内容分发网络CDN来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">109. C公司是一个互联网金融创业企业，自去年下半年开始公司上线的P2P理财项目规模增长了500倍，日参与融资和理财的客户数量超过8万人。一边是业务规模快速增长，一边是用户体验停滞不前。经过架构师团队仔细评审后发现核心问题是APP客户端经常因本地DNS篡改导致连不上服务器，以及敏感的内容不敢用传统CDN分发导致访问速度慢。 C公司可以选择阿里云的<strong>____</strong>产品组合解决这两个问题。</font></p><ul><li><span style="color:#333">A.阿里云的云解析和内容分发网络CDN</span></li><li><span style="color:#333">B.阿里云的云解析和对象存储OSS</span></li><li><strong><span style="color:#4CAF50">C.阿里云HTTPDNS和内容分发网络CDN</span></strong></li><li><span style="color:#333">D.阿里云HTTPDNS和对象存储OSS</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>HTTPDNS 是面向移动开发者推出的一款域名解析产品，具有域名防劫持、精准调度等特性。主要是用在客户端的时候请求URL防止域名劫持的情况。参考链接：<a href="https://help.aliyun.com/document_detail/30102.html?spm=a2c4g.11186623.6.542.6ff85a20JIneW1" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/30102.html?spm=a2c4g.11186623.6.542.6ff85a20JIneW1</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">110. PFX是使用二进制的格式保存的个人证书，一般出现在Windows Server中，现在想把该格式的证书上传到阿里云的负载均衡SLB实例，以下说法正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.负载均衡SLB支持PFX格式的证书，可以将其直接上传</span></li><li><span style="color:#333">B.负载均衡SLB不支持PFX格式的证书，只能先将其转换成P7B格式，再上传</span></li><li><strong><span style="color:#4CAF50">C.负载均衡SLB不支持PFX格式的证书，只能先将其转换成PEM格式，再上传</span></strong></li><li><span style="color:#333">D.负载均衡SLB不支持PFX格式的证书，只能先将其转换成DER格式，再上传</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>负载均衡只支持PEM格式的证书。假如是PFX格式或其他部分格式，需要现将其转换成PEM格式再上传。参考链接：<a href="https://help.aliyun.com/document_detail/85968.html?spm=a2c4g.11186623.6.598.56dd6327YGkPhK" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85968.html?spm=a2c4g.11186623.6.598.56dd6327YGkPhK</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">111. 您基于阿里云的云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，您的运维工作不断增加，包括数据库的备份、主备数据库之间的数据同步等问题，可以采用阿里云的<strong>____</strong>产品来快速解决该问题。</font></p><ul><li><span style="color:#333">A.表格存储</span></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.开放搜索服务OpenSearch</span></li><li><span style="color:#333">D.对象存储OSS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说了因为业务量的上涨导致自部署的Mysql数据库工作量越来越大，所以需要云数据库RDS来快速解决这些问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">112. 您通过阿里云的云监控服务为某台云服务器ECS实例的磁盘使用率设置了1条报警规则：统计周期为5分钟，磁盘使用率平均值超过80%，连续探测5次超过阈值后就报警。如果您的磁盘平均使用率超过80%后，至少需要几分钟后可以收到报警<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.40分钟</span></li><li><strong><span style="color:#4CAF50">B.0分钟</span></strong></li><li><strong><span style="color:#4CAF50">C.20分钟</span></strong></li><li><span style="color:#333">D.30分钟</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>连续五次超过阈值就报警，问的是最少的时间。所以可以假设刚启动云监控就开始第一次探测超过阈值。所以后面一共只需要四个探测周期就可以报警了。所以时间为5分钟*4次=20分钟。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">113. 阿里云的云盾态势感知能从多个维度监控用户云上资源的安全状况，包括网络层、主机层、数据库层、应用层，甚至还提供安全情报功能，目前态势感知可以通过<strong>____</strong>方式向用户发送报警信息。</font></p><ul><li><strong><span style="color:#4CAF50">A.包括手机短信和电子邮件</span></strong></li><li><span style="color:#333">B.只有手机短信</span></li><li><span style="color:#333">C.只有电子邮件</span></li><li><span style="color:#333">D.包括手机短信、电子邮件和旺旺</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>目前态势感知（现已改名为云安全中心）的告警设置仅支持：短信、邮件、钉钉机器人、站内信。目前不支持旺旺告警，参考链接：<a href="https://help.aliyun.com/document_detail/111648.html?spm=a2c4g.11186623.6.611.6501472eRnjgMn" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/111648.html?spm=a2c4g.11186623.6.611.6501472eRnjgMn</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">114. B公司基于阿里云对象存储OSS和云服务器ECS实例构建了一个mp3音乐下载站点，用户在该网站注册后可获得mp3文件的下载链接。 最近一周OSS的公网流量突然增长了一倍，但注册用户数只增加了5%，经仔细分析后发现很多下载请求不是用户从该网站直接下载，而是来自某搜索引擎。您认为该网站采取<strong>____</strong>措施可以快速降低这种风险。</font></p><ul><li><span style="color:#333">A.增加负载均衡SLB，多一层防护</span></li><li><strong><span style="color:#4CAF50">B.通过OSS Bucket 属性里的“防盗链设置”功能做来源限制</span></strong></li><li><span style="color:#333">C.将音乐下载站点改成HTTPS访问</span></li><li><span style="color:#333">D.将音乐文件从OSS搬迁到云服务器ECS实例的数据盘</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说了是因为其他非自己的站点的下载导致OSS的公网流量增长，所以需要用到对象存储OSS的防盗链功能来杜绝其他站点的下载。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">115. SQL注入是一种常见的应用层攻击，一般是通过构建特殊的输入作为参数传入Web应用程序，盗取或破坏应用的数据。请您指出SQL注入攻击最终破坏或盗取的对象是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.数据库</span></strong></li><li><span style="color:#333">B.服务器上的机密文件</span></li><li><span style="color:#333">C.WEB应用</span></li><li><span style="color:#333">D.服务器的图片</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>SQL注入顾名思义攻击者非法操作数据库的数据。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">116. 您基于阿里云的云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，您自己部署的数据库的服务能力越来越不足，表现在并发连接数不足，磁盘的IOPS不能满足业务需求等，可以采用阿里云的<strong>____</strong>产品来解决这些问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.云数据库RDS</span></strong></li><li><span style="color:#333">B.对象存储OSS</span></li><li><span style="color:#333">C.大数据分析ODPS</span></li><li><span style="color:#333">D.表格存储</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说了自己部署的Mysql数据库服务能力不足，所以需要选择云数据库RDS来解决这个问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">117. 阿里云对象存储OSS为用户提供保存访问日志记录的功能。Bucket的拥有者可以通过OSS管理控制台，为其所拥有的Bucket开启访问日志记录功能。当一个Bucket A开启访问日志记录功能后，OSS自动将访问这个Bucket的请求日志，以小时为单位，按照固定的命名规则，生成一个Object写入用户指定的Bucket B。以下关于OSS日志记录说法正确的<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.Bucket A和Bucket B可以属于不同的用户</span></li><li><strong><span style="color:#4CAF50">B.Bucket A和Bucket B可以是同一个Bucket，也可以是不同的Bucket，但必须属于同一个用户</span></strong></li><li><span style="color:#333">C.Bucket A和Bucket B必须是同一个Bucket</span></li><li><span style="color:#333">D.Bucket A和Bucket B必须是不同的Bucket</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>源Bucket和目标Bucket可以是同一个Bucket，也可以是不同的Bucket，但必须属于同一个账号下的同一地域内。您也可以将多个源Bucket的Log都保存在同一个目标Bucket内（建议指定不同的TargetPrefix）。参考链接：<a href="https://help.aliyun.com/document_detail/31868.html?spm=5176.87240.400427.35.1f104614aqA0Yf" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31868.html?spm=5176.87240.400427.35.1f104614aqA0Yf</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">118. 某视频公司，使用负载均衡SLB将用户的访问请求分发到30台云服务器ECS实例上去，由这些配置相同的ECS实例来响应用户的请求。每天晚上20:00到次日凌晨2:00期间，业务量会大幅增加，基本上会比其他时间段增加1倍左右，为了能正常响应游戏用户的请求，从成本和容易实现的角度，以下哪种解决办法最可取<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.使用自定义的镜像，手工创建30台云服务器ECS实例，在每天晚上20:00前，手工增加到SLB中去，次日凌晨2:00再从SLB中移除</span></li><li><span style="color:#333">B.使用阿里云弹性伸缩（Auto Scaling），通过合适的配置，自动提升每台ECS实例的规格</span></li><li><span style="color:#333">C.基于自定义的镜像创建30台云服务器ECS实例，添加到SLB中去，通过设置权重，让这些ECS实例在每天晚上20:00到次日凌晨2:00之间可以响应用户需求，其他时间段权重修改为0</span></li><li><strong><span style="color:#4CAF50">D.使用阿里云弹性伸缩（Auto Scaling），通过合适的配置，自动增加ECS实例或者减少ECS实例</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目要求成本和容易的角度，所以是通过动态伸缩更加简单和节省成本。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">119. 与传统的软件运行和维护模式相比，云计算要求硬件资源和软件资源能够更好地共享，任何一个企业用户都能够按照自己的需求对SaaS软件进行客户化配置而不影响其他用户的使用。云计算环境中能够满足上述需求的技术是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.VPC技术</span></li><li><strong><span style="color:#4CAF50">B.多租户技术</span></strong></li><li><span style="color:#333">C.计算资源隔离技术</span></li><li><span style="color:#333">D.CDN技术</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>简单说就是充分利用计算机资源，将资源共享给多个需要租用的用户，且每个用户之间数据是隔离的。参考链接：<a href="https://www.cnblogs.com/pingfan21/p/7478242.html" target="_blank" rel="noopener">https://www.cnblogs.com/pingfan21/p/7478242.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">120. 开通阿里云对象存储OSS服务后，您首先需要使用OSS管理控制台或OpenAPI创建Bucket来存储文件。创建Bucket时“所属地域”这个属性必须要指定， 特别是您的云服务器ECS实例需要通过内网访问OSS Bucket时，必须选择与 ECS实例相同的地域，以下有关“所属地域”的说法<strong>____</strong>是正确的。</font></p><ul><li><span style="color:#333">A.Bucket创建后，如果未上传任何文件，则“所属地域”属性可以更改</span></li><li><span style="color:#333">B.Bucket创建后，要想修改“所属地域”属性，需申请特殊权限</span></li><li><span style="color:#333">C.Bucket创建后，“所属地域”属性可随时更改</span></li><li><strong><span style="color:#4CAF50">D.Bucket创建后，“所属地域”属性不可更改</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>云产品创建了以后，地域的不可以改变的，所以Bucket创建后，“所属地域”属性不可更改的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">121. 以下创建ECS镜像时，<strong>____</strong>步骤的描述有错？</font></p><ul><li><span style="color:#333">A.输入的自定义镜像描述，不可以为空</span></li><li><span style="color:#333">B.选择全部快照，可以看到快照的列表</span></li><li><strong><span style="color:#4CAF50">C.输入自定义镜像名称，可以为空</span></strong></li><li><span style="color:#333">D.登陆阿里云的控制台来创建ECS镜像</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>您输入自定义镜像名称,不能为空</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">122. 当阿里云用户想要通过API进行ECS实例删除的操作的时候，必须保证ECS实例状态为<strong>____</strong>，才可以进行删除操作，删除后实例的状态变为<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.Stopped；Deleted</span></strong></li><li><span style="color:#333">B.Stopped；Starting</span></li><li><span style="color:#333">C.Stopping；Deleted</span></li><li><span style="color:#333">D.Stopping；Starting</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>删除云服务器ECS必须保证ECS实例状态为已停止 Stopped，删除了以后状态为已删除：Deleted。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">123. 下列<strong>____</strong>参数代表的是负载均衡SLB实例的唯一标识？</font></p><ul><li><strong><span style="color:#4CAF50">A.LoadBalancerId</span></strong></li><li><span style="color:#333">B.RegionId</span></li><li><span style="color:#333">C.Address</span></li><li><span style="color:#333">D.LoadBalancerName</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>负载均衡实例ID即LoadBalancerId是来区分不同负载均衡SLB实例的唯一标识。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">124. 在对ECS实例进行续费操作时，无法实现以下<strong>____</strong>操作？</font></p><ul><li><span style="color:#333">A.增加CPU规格</span></li><li><span style="color:#333">B.带宽升级</span></li><li><span style="color:#333">C.增加内存空间</span></li><li><strong><span style="color:#4CAF50">D.无需重启即可享受升级后的配置</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>ECS升级CPU或内存等配置需要重启才可享受升级后的配置。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">125. 下列关于ECS连接实例的说法错误的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.Windows 2008默认允许最多2个session远程连接</span></li><li><span style="color:#333">B.可以通过两种方式连接和管理用户实例：远程连接客户端和阿里云ECS控制台</span></li><li><span style="color:#333">C.Linux或Mac OS X环境连接Linux实例，直接使用ssh命令</span></li><li><strong><span style="color:#4CAF50">D.如果用户使用远程连接的工具访问ECS实例，使用公网和私网IP的实例都能被远程连接</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>用户使用远程连接工具访问ECS实例，只有在ECS开通公网的情况才能访问。只有用户在阿里云的控制台上，才能实现题目中的使用公网和私网IP的实例都能被远程连接。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">126. 用户通过ECS管理控制台查看其拥有的某个区域拥有的所有ECS实例的步骤包括<strong>____</strong>：a. 进入ECS管理控制台;b.选择地域；c.选择ECS实例管理，则正确的排列顺序是？</font></p><ul><li><span style="color:#333">A.b;a;c</span></li><li><span style="color:#333">B.a;b;c</span></li><li><strong><span style="color:#4CAF50">C.a;c;b</span></strong></li><li><span style="color:#333">D.c;b;a</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>正确的操作顺序是，登录进入ECS管理控制台，选择对应的ECS实例管理，最后再选择地域。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">127. 如果用户需要创建SLB实例，为了能够真正的实现应用的负载分担，那么要保证至少要有<strong>____</strong>个ECS实例？</font></p><ul><li><span style="color:#333">A.5个</span></li><li><strong><span style="color:#4CAF50">B.2个</span></strong></li><li><span style="color:#333">C.3个</span></li><li><span style="color:#333">D.1个</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>因为题目中强调了需要真正实现负载的分担，所以至少需要两台ECS配合才能实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">128. 下列关于RDS内网连接说法错误的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.用户可以在RDS内网和外网间切换</span></li><li><strong><span style="color:#4CAF50">B.RDS实例内外网切换不会影响其他与RDS实例的连接</span></strong></li><li><span style="color:#333">C.ECS可以使用内网地址连接RDS实例</span></li><li><span style="color:#333">D.用户可以在RDS管理控制台的实例基本信息中查看当前实例使用的连接方式</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>RDS实例内外网切换会影响其他与RDS实例的连接。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">129. 在OSS服务中，单个object的大小限制为<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.24.4TB</span></li><li><span style="color:#333">B.50TB</span></li><li><strong><span style="color:#4CAF50">C.48.8TB</span></strong></li><li><span style="color:#333">D.没有容量上限</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>单个Object的大小限制是48.8T，但是每个Bucket的容量是没有上限的哦。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">130. 下列关于SLB API ServerCertificate的说法错误的是<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.一次可以上传多份证书</span></strong></li><li><span style="color:#333">B.证书和PrivateKey一定要对应</span></li><li><span style="color:#333">C.一次只能上传一个PrivateKey</span></li><li><span style="color:#333">D.返回结果为成功或者错误码</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>目前使用UploadServerCertificate接口一次只能上传一份服务器证书和对应的私钥。参考链接：<a href="https://help.aliyun.com/document_detail/104125.html?spm=a2c4g.11186623.6.1285.6d946f7dZr67Du" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/104125.html?spm=a2c4g.11186623.6.1285.6d946f7dZr67Du</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">131. VPC实例的状态变为<strong>____</strong>之后，表示VPC创建成功，可以进行下一步的管理操作。</font></p><ul><li><span style="color:#333">A.Standby</span></li><li><span style="color:#333">B.Running</span></li><li><strong><span style="color:#4CAF50">C.Available</span></strong></li><li><span style="color:#333">D.Inavailable</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>VPC没有runing状态，目前只有Pending：配置中和Available：可用两种状态。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">132. 关于OSS域名绑定描述正确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.OSS域名绑定（CNAME）功能目前仅支持OSS以二级域名访问方式进行绑定。</span></li><li><span style="color:#333">B.OSS域名绑定时的访问方式为（Bucket name）.${zone}.aliyuncs.com</span></li><li><strong><span style="color:#4CAF50">C.以上都不对</span></strong></li><li><span style="color:#333">D.OSS cname绑定的域名必须经过阿里云备案</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>OSS域名绑定（CNAME）功能目前仅支持OSS以三级域名访问方式进行绑定。即您的OSS访问方式为（Bucket name）.${region}.aliyuncs.com。OSS cname绑定的域名不是必须经过阿里云备案而是必须经过工信部的备案。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39614.html?spm=5176.11065259.1996646101.searchclickresult.25bc5b688Dgl4u" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39614.html?spm=5176.11065259.1996646101.searchclickresult.25bc5b688Dgl4u</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">133. SLB LoadBalancer中<strong>____</strong>接口是用来修改SLB实例的计费方式的？</font></p><ul><li><strong><span style="color:#4CAF50">A.ModifyLoadBalancerInternetSpec</span></strong></li><li><span style="color:#333">B.CreateLoadBalancer</span></li><li><span style="color:#333">C.SetLoadBalancerStatus</span></li><li><span style="color:#333">D.SetLoadBalancerName</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>使用ModifyLoadBalancerInternetSpec修改公网负载均衡实例的计费方式。参考链接：<a href="https://help.aliyun.com/document_detail/27578.html?spm=5176.10695662.1996646101.searchclickresult.7960437bKJYEDv" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27578.html?spm=5176.10695662.1996646101.searchclickresult.7960437bKJYEDv</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">134. 当ECS处于以下<strong>____</strong>状态时可以挂载磁盘?</font></p><ul><li><span style="color:#333">A.更换系统中</span></li><li><span style="color:#333">B.启动中</span></li><li><span style="color:#333">C.重置中</span></li><li><strong><span style="color:#4CAF50">D.已停止</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>挂载云盘（磁盘）需要实例状态必须为 运行中（Running）或者 已停止（Stopped），不能为 已锁定（Locked）。参考链接：<a href="https://help.aliyun.com/document_detail/25446.html?spm=5176.10695662.1996646101.searchclickresult.6c505e81rYpgQN" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25446.html?spm=5176.10695662.1996646101.searchclickresult.6c505e81rYpgQN</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">135. 阿里云OSS图片处理服务，绑定域名名需要做线上验证，其中一步是下载验证文件并上传到您域名的<strong>____</strong>下，此步骤为验证您对绑定域名的所有权。</font></p><ul><li><span style="color:#333">A.有效率</span></li><li><strong><span style="color:#4CAF50">B.根目录</span></strong></li><li><span style="color:#333">C.顶级目录</span></li><li><span style="color:#333">D.子目录</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>线上验证是将下载的验证文件放置于域名的根目录下来完成验证绑定域名的所有权。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">136. 实现VPC中ECS服务器切换/迁移到同VPC下的其他交换机，包括以下几步，请选择正确的顺序<strong>____</strong>：1.打开云服务器管理控制台；2.找到对应的需要切换/迁移的云服务器；3. 选择您所需的交换机，同时指定新交换机下的IP；4. 修改云服务器的私网地址；</font></p><ul><li><span style="color:#333">A.1，2，3，4</span></li><li><span style="color:#333">B.1，2，4，3</span></li><li><strong><span style="color:#4CAF50">C.1，3，2，4</span></strong></li><li><span style="color:#333">D.1，3，4，2</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目问是的如何切换ECS的交换机，正确操作应该是从云服务器管理控制台后选择您所需切换的的交换机，同时指定新交换机下的IP。然后找到对应的需要切换/迁移的云服务器，修改云服务器的私网地址</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">137. 下列关于SLB说法错误的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.不同操作系统的ECS可以同时做为SLB服务的后端服务器</span></li><li><span style="color:#333">B.SLB的服务能力与后端ECS的公网宽带规格无关</span></li><li><strong><span style="color:#4CAF50">C.同一组ECS不可以搭建多个网站并同时进行负载均衡</span></strong></li><li><span style="color:#333">D.在使用SLB的过程中随时调整后端ECS的数目</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>同一组ECS可以同时搭建多个网站并进行负载均衡。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">138. 当用户想以个人身份向OSS发送请求时，需要首先将发送的请求按照OSS指定的格式生成签名字符串；然后使用AccessKeySecret对签名字符串进行加密产生验证码。OSS收到请求以后，会通过AccessKeyID找到对应的AccessKeySecret，以同样的方法提取签名字符串和验证码，如果计算出来的验证码和提供的一样即认为该请求是有效的；否则，OSS将拒绝处理这次请求，并返回HTTP错误状态码是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.错误状态码:405</span></li><li><span style="color:#333">B.错误状态码:400</span></li><li><strong><span style="color:#4CAF50">C.错误状态码:403</span></strong></li><li><span style="color:#333">D.错误状态码:500</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>拒绝处理这次请求对应的状态码是：403。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">139. 下列哪种<strong>____</strong>状态表示负载均衡SLB后端服务器的状态表示未开启SLB健康检查？</font></p><ul><li><strong><span style="color:#4CAF50">A.unavailable</span></strong></li><li><strong><span style="color:#4CAF50">B.available</span></strong></li><li><span style="color:#333">C.abnormal</span></li><li><span style="color:#333">D.normal</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>负载均衡SLB后端服务器的状态为unavailable的时候表示其未开启健康检查，参考链接：<a href="https://mvp.aliyun.com/zhidao/9043" target="_blank" rel="noopener">https://mvp.aliyun.com/zhidao/9043</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">140. 云服务器ECS服务的API服务地址是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.ecsapi.aliyuncs.com</span></li><li><span style="color:#333">B.ecs.aliyunapi.com</span></li><li><strong><span style="color:#4CAF50">C.ecs.aliyuncs.com</span></strong></li><li><span style="color:#333">D.ecs.aliyun.com</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>阿里云ECS的API为：ecs.aliyuncs.com，参考链接：<a href="https://help.aliyun.com/document_detail/25489.html?spm=a2c4g.11186623.6.1011.78767ad5vLIPZt" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25489.html?spm=a2c4g.11186623.6.1011.78767ad5vLIPZt</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">141. 在阿里云ECS中，无论每次接口调用请求是否成功，系统都会返回一个唯一识别码（返回参数）<strong>____</strong>给用户？</font></p><ul><li><span style="color:#333">A.Version</span></li><li><span style="color:#333">B.AccessKeyId</span></li><li><span style="color:#333">C.Response</span></li><li><strong><span style="color:#4CAF50">D.RequestId</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>用户发送的每次接口调用请求，无论成功与否，系统都会返回一个唯一识别码 RequestId 给用户。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/45136.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/45136.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">142. 如果ECS实例采用linux系统，关于能否开启NetWorkManager服务说法正确的是<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.linux系统请不要开启NetWorkManager服务，该服务会跟系统内部网络服务出现冲突，导致网络异常</span></strong></li><li><span style="color:#333">B.linux系统可以开启NetWorkManager服务</span></li><li><span style="color:#333">C.以上都不对</span></li><li><span style="color:#333">D.linux系统请可以开启NetWorkManager服务，但需要进行相应的配置调整</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>NetworkManager服务来实现网络的配置和管理，NetworkManager服务启动以后可能会导致系统内部的网络配置出现紊乱。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">143. ECS外部系统可以通过API在请求时传入参数来指定返回的数据格式，默认为<strong>____</strong>格式？</font></p><ul><li><span style="color:#333">A.JSP</span></li><li><span style="color:#333">B.HTTP</span></li><li><span style="color:#333">C.JSON</span></li><li><strong><span style="color:#4CAF50">D.XML</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>API默认返回是XML格式，参考链接：<a href="https://help.aliyun.com/document_detail/25490.html?spm=a2c4g.11186623.2.17.7fb24c96WG2Zwe" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25490.html?spm=a2c4g.11186623.2.17.7fb24c96WG2Zwe</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">144. 用户如果想要在OSS中模拟实现文件夹的创建操作，需要使用的API是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.Multipart Upload</span></li><li><strong><span style="color:#4CAF50">B.putObject</span></strong></li><li><span style="color:#333">C.Get Object</span></li><li><span style="color:#333">D.Copy Object</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS中文件夹的概念仅是一个逻辑概念，在通过API/SDK的方式设置文件夹的时候可以指定object对应的key值包括前面的目录即可实现该功能。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39527.html?spm=5176.11065259.1996646101.searchclickresult.357c5d0fgYB9pV" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39527.html?spm=5176.11065259.1996646101.searchclickresult.357c5d0fgYB9pV</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">145. 以下针对ECS地域和可用区的描述不正确的是<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.同账号下，同一地域不同可用区的ECS实例内网不能互通</span></strong></li><li><span style="color:#333">B.若购买的ECS需要和阿里其他服务搭配使用，建议选择相同地域</span></li><li><span style="color:#333">C.一个地域拥有多个可用区</span></li><li><span style="color:#333">D.在购买了ECS实例后，地域不可更改</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>同账号下，同一地域ECS实例内网都可以互通。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">146. 除了通过PUT Object接口上传文件到OSS以外，OSS还提供了另外一种上传模式是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.Get Object</span></li><li><span style="color:#333">B.Put Bucket</span></li><li><strong><span style="color:#4CAF50">C.Multipart Upload</span></strong></li><li><span style="color:#333">D.Head Object</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>除了通过PUT Object接口上传文件到OSS以外，OSS还提供了另外一种上传模式——Multipart Upload。参考链接：<a href="https://help.aliyun.com/document_detail/31991.html?spm=a2c4g.11186623.6.1144.1732f816aERrZx" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31991.html?spm=a2c4g.11186623.6.1144.1732f816aERrZx</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">147. 下面<strong>____</strong>不是安骑士包含的功能？</font></p><ul><li><span style="color:#333">A.木马文件检查</span></li><li><span style="color:#333">B.异地登录报警</span></li><li><span style="color:#333">C.高危漏洞修复</span></li><li><strong><span style="color:#4CAF50">D.防WEB应用系统密码破解</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>防WEB应用系统密码破解是属于Web应用防火墙的功能，是需要收费的服务。参考链接：<a href="https://help.aliyun.com/knowledge_detail/53966.html?spm=5176.11065259.1996646101.searchclickresult.6d817462Sp2sqx" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/53966.html?spm=5176.11065259.1996646101.searchclickresult.6d817462Sp2sqx</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">148. 在新建的Linux ECS 实例中，启动 OFBiz 服务的时候，步骤如下：a. # chmod +x ant；b. # cd ofbizrelease12.04；c. # ./ant run； # ./ant start &amp; ；d. # ./ant；# ./ant runinstall。则下列排序正确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.a；c；b；d</span></li><li><span style="color:#333">B.a；b；c；d</span></li><li><strong><span style="color:#4CAF50">C.b；a；d；c</span></strong></li><li><span style="color:#333">D.b；c；d；a</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>这个仅要求记住即可，具体步骤解释为：1.进入OFBiz文件夹，2.给ant脚本赋予执行权限，3.运行安装脚本，4.启动ant</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">149. 中国大陆范围内的网站都需要做ICP备案，在架构设计时应该告诉客户提前<strong>____</strong>就需要准备提交备案？</font></p><ul><li><span style="color:#333">A.网站上线前一天</span></li><li><span style="color:#333">B.网站上线当天</span></li><li><span style="color:#333">C.网站上线前一周</span></li><li><strong><span style="color:#4CAF50">D.网站上线前一个月</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>为了保证网站能按时上线，需要在网站上线前一个月提交备案资料，保证留有充足的备案时间来完成备案操作。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">150. 弹性伸缩的伸缩规则指的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.定义了SLB的监听规则</span></li><li><strong><span style="color:#4CAF50">B.定义了具体的扩展或收缩操作</span></strong></li><li><span style="color:#333">C.定义了组内ECS实例数的最大值、最小值</span></li><li><span style="color:#333">D.定义了用于弹性伸缩的ECS实例的配置信息</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性伸缩的伸缩规则定义了具体的扩展或收缩操作，例如加入或移出 N 个 ECS 实例。参考链接：<a href="https://help.aliyun.com/document_detail/25858.html?spm=a2c4g.11186623.6.547.12ca4670zL7Ij8" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25858.html?spm=a2c4g.11186623.6.547.12ca4670zL7Ij8</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">151. 下列哪个阿里提供的操作系统是自带图形化界面的？</font></p><ul><li><strong><span style="color:#4CAF50">A.windows server2008</span></strong></li><li><span style="color:#333">B.OpenSUSE</span></li><li><span style="color:#333">C.Ubuntu</span></li><li><span style="color:#333">D.CentOS</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>Linux系列的系统大部分是不带图形界面的，windows server目前是默认带图形化界面。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">152. 以下对ECS的带宽临时升级操作的描述错误的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.支持在当前生命周期内，设定时间段区间内临时增加带宽</span></li><li><span style="color:#333">B.可以多次叠加操作，支持随时操作，不受任何操作影响</span></li><li><span style="color:#333">C.可以按天进行升级，升级后如如云服务器ECS续费，仍然按照原基础带宽进行续费</span></li><li><strong><span style="color:#4CAF50">D.不支持按天升级，升级之后按升级之后的带宽进行续费</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>ECS的带宽是带宽支持临时升级操作，但是临时升级只能升级到云服务的有效期的结束时间，所以在升级之后仍然按照升级之前的带宽进行续费。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">153. 专有网络可以与<strong>____</strong>产品结合使用实现与传统数据中心组成一个按需定制的网络环境，实现应用的平滑迁移上云？</font></p><ul><li><span style="color:#333">A.SLB</span></li><li><strong><span style="color:#4CAF50">B.VPN</span></strong></li><li><span style="color:#333">C.ECS</span></li><li><span style="color:#333">D.OCS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>通过VPN专线可以将该网络与传统数据中心组成一个按需定制的网络环境。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">154. 在管理控制台，对阿里云CDN加速域名进行“停用”或“删除”前，需要做<strong>____</strong>操作，以确保网站可以正常访问？</font></p><ul><li><span style="color:#333">A.保证源站服务器的带宽充足就够了</span></li><li><span style="color:#333">B.不需要做什么</span></li><li><span style="color:#333">C.保证源站服务器正常开启即可</span></li><li><strong><span style="color:#4CAF50">D.到该域名所在的域名解析服务商处恢复域名A记录</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>停用CDN加速域名，可以删除解析到此加速域名的记录，并到该域名所在的域名解析服务商处恢复原来域名解析的A记录。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">155. 在OSS API中通过<strong>____</strong>参数的操作可以实现设置object头？</font></p><ul><li><span style="color:#333">A.Multipart Upload</span></li><li><span style="color:#333">B.Get Object</span></li><li><span style="color:#333">C.Get Bucket</span></li><li><strong><span style="color:#4CAF50">D.Copy Object</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>Copy Object接口可以发送一个Put请求给OSS，并在Put请求Header中添加元素xosscopysource来指定源Object。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">156. 为了防止因本地IP对阿里云服务器频繁访问而被屏蔽的情况，可以通过云盾的<strong>____</strong>功能进行设置？</font></p><ul><li><strong><span style="color:#4CAF50">A.IP白名单</span></strong></li><li><span style="color:#333">B.webshell云查杀</span></li><li><span style="color:#333">C.安全网络</span></li><li><span style="color:#333">D.常用登录地管理</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>需要屏蔽某个/某段IP频繁非法访问的情况，可以通过云盾的IP白名单来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">157. 渗透测试是通过模拟<strong>____</strong>的攻击方法，来评估计算机网络系统安全的一种评估方法.</font></p><ul><li><span style="color:#333">A.网络专家</span></li><li><span style="color:#333">B.高并发客户</span></li><li><strong><span style="color:#4CAF50">C.恶意黑客</span></strong></li><li><span style="color:#333">D.正常客户</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>渗透测试是通过模拟恶意黑客的攻击方法。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">158. 有很多10或100开头的IP在频繁访问我SLB的后端ECS实例，而安全检查没有报告问题，可能的原因是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.ECS服务器故障</span></li><li><span style="color:#333">B.正在遭受网络攻击</span></li><li><strong><span style="color:#4CAF50">C.SLB系统的健康检查和可用性监控</span></strong></li><li><span style="color:#333">D.真实用户的访问</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>有10或100开头的IP在频繁访问ECS是因为负载均衡系统除了会通过系统服务器的内网IP将来自外部的访问请求转到后端ECS上之外，还会对ECS进行健康检查（前提是您已经开启了这一功能）和对您的负载均衡服务进行可用性监控，这些访问的来源都是由负载均衡系统发起的。参考链接：<a href="https://yq.aliyun.com/ask/58922?spm=a2c4e.11153940.blogcont210105.39.41986e8196JQkz" target="_blank" rel="noopener">https://yq.aliyun.com/ask/58922?spm=a2c4e.11153940.blogcont210105.39.41986e8196JQkz</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">159. 在使用阿里云负载均衡SLB的时候，经常会发现有很多100开头的IP（100.x.x.x）在访问负载均衡SLB实例的后端云服务器ECS实例，这可能是<strong>____</strong>引起的？</font></p><ul><li><strong><span style="color:#4CAF50">A.开启了健康检查选项，负载均衡SLB实例对ECS实例进行健康检查引起的</span></strong></li><li><span style="color:#333">B.是云监控搜集各种统计指标</span></li><li><span style="color:#333">C.是阿里云飞天系统的Zookeeper守护进程</span></li><li><span style="color:#333">D.肯定配置了阿里云弹性伸缩（Auto Scaling），这是弹性伸缩的弹性自愈进程在做ECS实例的状态检查</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>有10或100开头的IP在频繁访问ECS是因为负载均衡系统除了会通过系统服务器的内网IP将来自外部的访问请求转到后端ECS上之外，还会对ECS进行健康检查（前提是您已经开启了这一功能）和对您的负载均衡服务进行可用性监控，这些访问的来源都是由负载均衡系统发起的。参考链接：<a href="https://yq.aliyun.com/ask/58922?spm=a2c4e.11153940.blogcont210105.39.41986e8196JQkz" target="_blank" rel="noopener">https://yq.aliyun.com/ask/58922?spm=a2c4e.11153940.blogcont210105.39.41986e8196JQkz</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">160. 关于弹性IP说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.可以单独购买一个弹性公网IP，而不是与其他计算资源或存储资源绑定购买</span></li><li><strong><span style="color:#4CAF50">B.弹性公网IP支持绑在经典网络的ECS实例上</span></strong></li><li><span style="color:#333">C.弹性公网IP能动态绑定到不同的ECS实例上，绑定和解绑时无需停机</span></li><li><span style="color:#333">D.弹性公网IP只能绑定在相同Region的VPC类型的云产品实例上</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>EIP可绑定到专有网络类型的ECS实例、专有网络类型的私网SLB实例和NAT网关上。所以不支持绑定到经典网络的ECS实例上。参考链接：<a href="https://help.aliyun.com/document_detail/32321.html?spm=5176.11065259.1996646101.searchclickresult.470a774aDYHQF5" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32321.html?spm=5176.11065259.1996646101.searchclickresult.470a774aDYHQF5</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">161. 作为一个互联网初创企业的技术负责人，小A在早期选择了阿里云的云服务器ECS并将Java应用程序、数据库MySQL等部署在了一台云服务器ECS实例上。随着业务发展和用户量增加，发现部署在这台ECS实例上数据库性能出现瓶颈。为了最快速度解决该问题，您建议选择阿里云的<strong>____</strong>产品。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.负载均衡SLB</span></li><li><span style="color:#333">D.专有云VPC</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>这台ECS实例上数据库性能出现瓶颈，所以需要选择阿里云的RDS解决性能问题</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">162. 阿里云对象存储OSS的一个突出特点就是提供了极高的数据可靠性，谈到可靠性自然离不开备份的技术和策略，以下关于OSS备份的说法，正确的是<strong>____</strong>？</font></p><ul><li><strong><span style="color:#4CAF50">A.OSS提供三重备份（每份数据保留三个副本），出现故障时自动恢复</span></strong></li><li><span style="color:#333">B.用户需要自己考虑数据的安全性，OSS提供了丰富的备份接口，方便用户将数据进行异地备份</span></li><li><span style="color:#333">C.OSS提供三重备份（每份数据保留三个副本），出现故障时在人工参与下可快速恢复</span></li><li><span style="color:#333">D.OSS服务的备份是采用的物理机磁盘的RAID0+1技术方案，两块硬盘同时出现故障也不影响服务</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>这个是OSS的数据可靠性的描述，OSS默认支持三份副本，通过校验保证三份副本一致，单副本损坏或丢失，会触发拷贝，保持三份。参考链接：<a href="https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.2637b31cwL2wOb" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.2637b31cwL2wOb</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">163. 防DDoS攻击是阿里云的云盾最主要的功能之一，很多网站都曾经受到过不同类型的DDoS攻击，准确理解DDoS对网站做好安全防护至关重要。以下有关DDoS攻击的描述最准确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.DDoS攻击通过大量的尝试破解的服务器的登录密码</span></li><li><span style="color:#333">B.DDoS攻击的目的是窃取机密信息</span></li><li><span style="color:#333">C.DDoS攻击的主要目标是数据库</span></li><li><strong><span style="color:#4CAF50">D.DDoS攻击的主要目的是让被攻击的目标服务器无法提供正常的服务，是目前最强大、最难防御的网络攻击之一</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>DDoS攻击并不是尝试破解服务器密码，窃取机密信息或者是破坏数据库。DDoS攻击是一种针对目标系统的恶意网络攻击行为，DDoS攻击经常会导致被攻击者的业务无法正常访问，也就是所谓的拒绝服务。参考链接：<a href="https://help.aliyun.com/document_detail/65932.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/65932.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">164. 您的两台阿里云的云服务器ECS实例之间内网不能通信，一定不是由于<strong>____</strong>原因引起的。</font></p><ul><li><span style="color:#333">A.两台云服务器实例在不同地域</span></li><li><span style="color:#333">B.其中一台云服务器ECS实例修改过私网IP</span></li><li><strong><span style="color:#4CAF50">C.两台ECS实例在同一个账号下，同一个地域的不同可用区</span></strong></li><li><span style="color:#333">D.两个云服务器ECS实例在不同的安全组</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>两台云服务器ECS实例之间内网不能通信，题目中问的一定不是什么原因导致的，所以在同一账号的同一地域是不会导致云服务器ECS实例之间内网不能通信的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">165. 某企业采取阿里云负载均衡SLB和弹性伸缩（Auto Scaling）配合使用的方案，希望在拥有良好的稳定性、可靠性的同时，还能节省运维 成本和资源使用成本。由于此前没有相关的使用经验，他们根据自己的理解列出了一些应该注意的事项，然后向您咨询意见。作为阿里云产品专家，您判断出只有<strong>____</strong>是正确的，在该公司后续的项目建设过程中也逐一得到验证。</font></p><ul><li><span style="color:#333">A.负载均衡SLB实例下的所有的ECS实例操作系统一定相同</span></li><li><span style="color:#333">B.负载均衡SLB实例下的所有后端服务器的配置必须相同</span></li><li><strong><span style="color:#4CAF50">C.负载均衡SLB实例必须开启健康检查，否则无法和弹性伸缩一起使用</span></strong></li><li><span style="color:#333">D.负载均衡SLB实例下的所有后端服务器必须都有相应的伸缩组</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>假如需要和弹性伸缩ESS配合使用的话，负载均衡SLB下面的ECS必须开启健康检查，否则负载均衡SLB无法监听到后端ECS的状态则无法正常弹性伸缩。SLB下面可以添加多个伸缩组，所以后端ECS可能来自用户手动添加非伸缩的ECS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">166. 您已经在阿里云的一台经典网络类型的没有数据盘的云服务器ECS实例上运行所有的应用，现在出于业务发展的需要，您希望将这台云服务器ECS实例迁移到相同地域的专有网络VPC中去，以下<strong>____</strong>操作是可行的。</font></p><ul><li><span style="color:#333">A.直接将云服务器ECS实例的类型转换为专有网络</span></li><li><strong><span style="color:#4CAF50">B.制作该云服务器ECS实例的镜像，基于该镜像制作专有网络类型的云服务器ECS实例，业务会短暂停顿</span></strong></li><li><span style="color:#333">C.将该云服务器ECS实例的安全组变更为专有网络类型</span></li><li><span style="color:#333">D.无法迁移</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中需要将经典网络的云服务器ECS实例迁移到相同地域的专有网络VPC中去，虽然目前阿里云支持直接迁移，但是从上云实践的规范中出发，因为云服务器或捆绑或者依赖其他多个附属的云产品（如：数据库RDS等），所以运营一键迁移并不能完成其他附属云产品的转换。所以基于镜像来迁移至专用网络VPC中去是最稳妥的方法。参考链接：<a href="https://help.aliyun.com/document_detail/57978.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/57978.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">167. 与专有云相比，公共云天生就暴露在互联网上。共有云在为企业应用带来与生自来的互联网+的特性，同时也带来了来自互联网的安全威胁。由于云计算模式基于网 络提供服务，面向相对开放的环境，在技术上，除了仍然面临传统IT系统在物理、网络、系统等方面的安全问题之外，也面临着一些新的和云计算特征结合紧密的 安全问题。阿里云是通过<strong>____</strong>产品来提供云计算服务的基础安全加固和防护的（比如常见的防DDoS攻击）？</font></p><ul><li><span style="color:#333">A.云数据库</span></li><li><span style="color:#333">B.云服务器</span></li><li><span style="color:#333">C.云监控</span></li><li><strong><span style="color:#4CAF50">D.云盾</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中问的什么云产品是供云计算服务的基础安全加固和防护的，所以选择云盾平台。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">168. 阿里云账号的AccessKey有所有API访问权限。下列关于AccessKeyId和AccessKeySecret说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.AccessKeySecret是用于加密签名字符串和服务器端验证签名字符串的密钥</span></li><li><strong><span style="color:#4CAF50">B.AccessKeySecret可以通过控制台直接查看而无需做额外验证</span></strong></li><li><span style="color:#333">C.AccessKeyId和AccessKeySecret是由阿里云官方发给访问者的</span></li><li><span style="color:#333">D.AccessKeyID 是用于标识访问者的身份</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>AccessKeySecret并不支持通过控制台直接查看，AccessKeySecret只能一次生成，后续不支持再次查看。如何忘记AccessKeySecret，只能在授权登录后在控制台重新生成。参考链接：<a href="https://help.aliyun.com/document_detail/25934.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25934.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">169. A电商平台近几年业务增长很快，访问量持续保持每年提升300%，平台运营团队因此获得了公司的年度特别奖励。在高兴之余运营团队发现平台系统带宽的支出 是以每年500%的比例增长的，如果能有效降低这块成本可以提升整体的运营质量。此时，该公司选择阿里云的<strong>____</strong>服务，效果会最明显。</font></p><ul><li><span style="color:#333">A.支持多可用区的云数据库RDS</span></li><li><span style="color:#333">B.对象存储OSS</span></li><li><strong><span style="color:#4CAF50">C.内容分发网络CDN</span></strong></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目说的就是带宽的问题，每年的带宽增长很快，所以需要CDN来帮他们缓解服务器带宽的压力。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">170. 当一个阿里云的云服务器ECS实例无法加入指定的安全组时，可能是<strong>____</strong>原因造成的。</font></p><ul><li><span style="color:#333">A.云服务器ECS实例创建之后默认已经加入一个安全组，不能再加入其它安全组</span></li><li><strong><span style="color:#4CAF50">B.本云服务器ECS实例目前已经加入的安全组数量达到上限</span></strong></li><li><span style="color:#333">C.该云服务器ECS实例没有开启公网带宽，所以无法加入安全组</span></li><li><span style="color:#333">D.该云服务器ECS实例的状态为运行中</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>每个ECS实例最多可以加入 5 个安全组，当超过5个了以后就无法继续加入其他安全组。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">171. 某大型购物商城新上了一套视频监控系统，在商城所在一个5层高的大楼里共安装了35个高清摄像头，用于监控主要的出口通道。该系统的应用部署在一台阿里云的云服务器ECS实例上，该ECS实例上挂了4块2T的数据盘来存储视频数据。上线后一周后发现视频数据的增速过快，预计8T硬盘不出1个月就会用完。 您认为使用阿里云的<strong>____</strong>产品可以最好地解决该客户的存储问题，同时在需要的时候快速读取到历史的视频数据。</font></p><ul><li><strong><span style="color:#4CAF50">A.对象存储OSS</span></strong></li><li><span style="color:#333">B.归档存储（Archive Storage）</span></li><li><span style="color:#333">C.内容分发网络CDN</span></li><li><span style="color:#333">D.多台云服务器ECS</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中要求需要解决数据增长过快的问题，需要可以通过将视频文件存储到OSS中来解决问题，因为OSS没有空间上限，不需要担心增长过快的问题，同时还可以满足快速读取的要求。（归档存储无法快速读取数据）</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">172. 阿里云负载均衡SLB中提供了证书上传和管理的服务，在需要进行加密传输时，用户可以将证书上传到负载均衡SLB实例，在创建监听的时候绑定证书。证书是为了支持<strong>____</strong>协议。</font></p><ul><li><strong><span style="color:#4CAF50">A.HTTP</span></strong></li><li><strong><span style="color:#4CAF50">B.HTTPS</span></strong></li><li><span style="color:#333">C.TCP</span></li><li><span style="color:#333">D.PPPoE</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>绑定证书是为了满足加密传输的HTTPS要求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">173. 购买了阿里云的云服务器ECS实例之后，对于您来说需要承担的维护工作是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.磁盘设备的维护</span></li><li><span style="color:#333">B.硬件服务器的维护</span></li><li><strong><span style="color:#4CAF50">C.应用软件的升级</span></strong></li><li><span style="color:#333">D.网络设备的维护</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>购买了阿里云的云服务器ECS实例之后，你无需关心硬件和网络的运维工作，你仅需要关心云服务器ECS上应用的部署和</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">174. 您已经创建好了一块新的块存储，想要通过阿里云的管理控制台进行磁盘挂载到云服务器ECS实例上的操作，却找不到想挂载的云服务器实例，一定不是因为<strong>____</strong>原因引起的。</font></p><ul><li><strong><span style="color:#4CAF50">A.块存储与云服务器ECS实例在同一个可用区</span></strong></li><li><span style="color:#333">B.云服务器ECS实例已经释放</span></li><li><span style="color:#333">C.块存储与云服务器ECS实例不在一个可用区</span></li><li><span style="color:#333">D.块存储与云服务器ECS实例在同一个地域</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云盘只能挂载到同一地域下同一可用区内的实例上，不能跨可用区挂载。题目中问的是一定不是因为什么原因，所以在一个可用区不会导致找不到挂载的ECS的情况。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">175. 阿里云的负载均衡SLB可以把用户请求分发到多台云服务器ECS实例上去，其中“加权轮询模式”的转发策略是指<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.将访问请求分发给目前负载最低的后端云服务器ECS实例</span></li><li><span style="color:#333">B.将等待最久的访问请求分发给后端云服务器池中处理能力最强的ECS实例</span></li><li><strong><span style="color:#4CAF50">C.将访问请求按照后端云服务器ECS实例的权重依次分发</span></strong></li><li><span style="color:#333">D.将优先级最高的访问请求优先分发给后端云服务器ECS实例</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>加权轮询：权重值越高的后端服务器，被轮询到的次数（概率）也越高。参考链接：<a href="https://help.aliyun.com/document_detail/53858.html?spm=5176.11065259.1996646101.searchclickresult.7c265aae5Bg9yW" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/53858.html?spm=5176.11065259.1996646101.searchclickresult.7c265aae5Bg9yW</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">176. 阿里云弹性伸缩（Auto Scaling）提供了“弹性自愈”功能，能保持伸缩组中的云服务器ECS实例都处在正常状态，从而使业务始终保持正常的负载，提高系统的稳定性。关于“弹性自愈”，以下说法中正确的是<strong>____</strong>？</font></p><ul><li><span style="color:#333">A.如果伸缩组中某台ECS实例状态不是运行中，阿里云弹性伸缩首先会自动重启该ECS，重启成功后继续保持在伸缩组中，如果重启失败，则会使用指定的镜像恢复该ECS实例到初始状态，继续保持在伸缩组中</span></li><li><strong><span style="color:#4CAF50">B.如果伸缩组中某台ECS实例状态不是运行中，则该ECS实例会被移出伸缩组，同时自动创建一台新的ECS实例，添加到伸缩组中来</span></strong></li><li><span style="color:#333">C.如果伸缩组中某台ECS实例的状态不是运行中，阿里云弹性伸缩会启动ECS实例的故障检查与修复进程，对ECS实例进行自动修复</span></li><li><span style="color:#333">D.如果伸缩组中某台ECS实例状态不是运行中，阿里云弹性伸缩首先会自动重启该ECS，重启成功后继续保持在伸缩组中，如果重启失败，则从伸缩组中移除，同时创建新的ECS实例键入到伸缩组中来</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性自愈即当检测到某台ECS实例处于不健康状态时。弹性伸缩自动释放不健康ECS实例并创建新的ECS实例，自动添加新ECS实例到负载均衡实例和RDS实例的访问白名单中。参考链接：<a href="https://help.aliyun.com/document_detail/ess/productdescription/productdescription.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/ess/productdescription/productdescription.html</a> 最后的介绍。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">177. 小张管理的网站选择部署在阿里云的云服务器ECS实例上，最近发现一个现象，网站首页的宣传视频在某些区域播放速度良好，但是在其它地区播放速度很慢。为了解决此问题，你会选择阿里云<strong>____</strong>产品。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><span style="color:#333">B.对象存储OSS</span></li><li><span style="color:#333">C.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">D.内容分发网络CDN</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中遇到的问题是在某些区域播放良好，但是在其他地区播放较差，所以需要内容分发网络CDN来解决其他地域访问速度慢的问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">178. 某阿里云公共云用户，购买了一台云服务器ECS实例，部署了tomcat，用<strong><strong>___</strong></strong>方法可以最简单的监控该实例的tomcat的8080端口是否访问正常。</font></p><ul><li><span style="color:#333">A.购买第三方的监控工具</span></li><li><span style="color:#333">B.每小时间登录一次云服务器ECS实例，用命令行查看</span></li><li><strong><span style="color:#4CAF50">C.在阿里云的云监控的站点监控中创建探测点，监控该端口的状态</span></strong></li><li><span style="color:#333">D.自己写脚本探测，然后上报数据到云监控</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：最简单的监控，所以最简单直接的方法之间通过云监控去检测这些该端口是否正常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">179. 云计算服务商都支持用户以Web方式自助获得计算资源并对其进行管理。为了提供更好的开发性，云计算平台都支持通过API开放服务，这些API最不可能通过哪个协议进行开放？</font></p><ul><li><span style="color:#333">A.Restful</span></li><li><strong><span style="color:#4CAF50">B.PPPoE</span></strong></li><li><span style="color:#333">C.HTTP</span></li><li><span style="color:#333">D.Web Service</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>PPPoE是拨号上网相关协议，已经过时了。不可能在API协议中使用。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">180. 在一些业务场景下，可以通过购买按量付费的云服务器ECS实例来满足特定时间段内需要更多资源的需求，可以通过设定自动释放时间的方式来保证按量付费的资源按预期释放。下列关于该操作说法准确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.只能在云服务ECS实例创建的时候进行自动释放时间的设置</span></li><li><span style="color:#333">B.只能设置一次ECS实例的自动释放时间</span></li><li><strong><span style="color:#4CAF50">C.可以在取消之前重新设置的ECS实例的自动释放时间</span></strong></li><li><span style="color:#333">D.ECS实例的自动释放时间一旦设置不能取消</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>自动释放时间可以多次设置，且设置了可以取消之前的设置。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">181. 阿里云对象存储OSS中所有数据都在Bucket中，当一个OSS bucket设置成<strong>____</strong>权限，意味着该 OSS Bucket仅允许其他用户来访问 （GET Object）属于该Bucket下的object。</font></p><ul><li><span style="color:#333">A.私有</span></li><li><span style="color:#333">B.私有读</span></li><li><span style="color:#333">C.公共读写</span></li><li><strong><span style="color:#4CAF50">D.公共读</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>允许其他用户访问就代表允许公共访问此Bucket，所以选择公共读。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">182. 使用阿里云OSS产品实现在线的音视频内容直播时，必须要和阿里云的<strong>____</strong>产品一起配合实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.多媒体转码服务MTS</span></strong></li><li><span style="color:#333">B.内容分发网络CDN</span></li><li><span style="color:#333">C.云数据库RDS</span></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说到”在线的音视频内容直播”就需要用到多媒体转码服务MTS服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">183. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。用OSS管理的文件可以很方便地对外提供分享，分享前点击文件后面的“获取地址”文字链接即可得到当前文件的地址，这个分享使用的是<strong>____</strong>应用层（七层）协议。</font></p><ul><li><strong><span style="color:#4CAF50">A.HTTP</span></strong></li><li><span style="color:#333">B.FTP</span></li><li><span style="color:#333">C.SMTP</span></li><li><span style="color:#333">D.TCP</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>文件的分享地址，是在OSS应用的控台操作的，所以属于HTTP的第七层应用层。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">184. 如果您不再需要某个阿里云的按量付费的云服务器ECS实例，可以将其释放。关于按量付费的实例释放的操作中，错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.您可以再次设置自动释放的时间并覆盖前一次的设置</span></li><li><span style="color:#333">B.通过定时释放设置为您的按量付费实例安排释放计划，选择一个未来的时间释放资源</span></li><li><strong><span style="color:#4CAF50">C.不可以随时释放按量付费的实例</span></strong></li><li><span style="color:#333">D.可以立即释放该按量付费的实例</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>自动释放时间可以多次设置，且随时可以取消之前的设置，实现随时释放按量付费的实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">185. 某阿里云负载均衡SLB实例下，后端多台云服务器ECS实例配置的权重都一样，但是实际上ECS实例负载却不一样。可能是因为<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.ECS实例在不同的地域（Region），网络延迟不同</span></li><li><span style="color:#333">B.采用的转发规则不同</span></li><li><strong><span style="color:#4CAF50">C.开启了会话保持功能</span></strong></li><li><span style="color:#333">D.开启了获取真实IP的功能</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>负载均衡请求不均衡可能有以下几种原因：1. ECS实例请求连接数较少。2. 不同ECS实例的性能不同导致请求不均衡。3. 开启了会话保持功能。4. ECS健康检查异常。5. TCP Keepalive保持长连接。参考链接：<a href="https://help.aliyun.com/knowledge_detail/66280.html?spm=5176.10695662.1996646101.searchclickresult.7ffb624c9LU4fM" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/66280.html?spm=5176.10695662.1996646101.searchclickresult.7ffb624c9LU4fM</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">186. 您的阿里云的云服务器ECS实例的系统盘使用的SSD云盘，需要新增数据盘时不能使用<strong>____</strong>磁盘类型。</font></p><ul><li><strong><span style="color:#4CAF50">A.本地SSD盘</span></strong></li><li><span style="color:#333">B.高效云盘</span></li><li><span style="color:#333">C.SSD云盘</span></li><li><span style="color:#333">D.普通云盘</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>由于本地SSD盘采用服务器本地盘的方式实现，无法实现远程挂载；因此不支持在原来ECS实例上进行添加本地SSD盘，也不支持将存量的普通云盘更换成本地SSD盘。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40547.html?spm=5176.11065259.1996646101.searchclickresult.1f37104dE5r4ul" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40547.html?spm=5176.11065259.1996646101.searchclickresult.1f37104dE5r4ul</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">187. 作为某初创企业的技术负责人，阿明将Java应用程序、图片视频等静态文件都部署在了一台ECS实例上，提供服务。随着业务发展和用户量的增加，发现存储在ECS实例上的静态文件访问速度不能达到预期的要求。您建议选择阿里云的<strong><strong>_</strong></strong>产品可以快速解决静态文件的访问速度问题。</font></p><ul><li><span style="color:#333">A.云数据库RDS</span></li><li><span style="color:#333">B.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">C.对象存储OSS</span></strong></li><li><span style="color:#333">D.弹性伸缩Auto Scaling</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：静态文件访问速度不能达到预期的要求，所以需要把静态文件存储到OSS中加快访问速度。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">188. 某O2O网站基于阿里云的云服务器ECS、负载均衡SLB以及弹性伸缩（Auto Scaling）搭建了线上系统，其中ECS用来处理用户响 应，SLB用来分发流量，弹性伸缩负责动态分配资源以满足突发的业务变化，三个产品配合可以提供稳定、便捷、低成本的服务。现在想要增加云数据库RDS到 该架构中来，用来保存用户访问时产生的数据。以下说法中正确的是<strong><strong>_</strong></strong>？</font></p><ul><li><span style="color:#333">A.可以把RDS实例手工添加到伸缩组，RDS实例可以保存用户访问的数据</span></li><li><strong><span style="color:#4CAF50">B.如果在伸缩组中指定了RDS实例，则弹性伸缩会自动把伸缩组中的ECS实例的IP地址添加到RDS的白名单中去，无需手工设置</span></strong></li><li><span style="color:#333">C.对RDS实例所在的地域（Region）没有硬性规定，但是建议和弹性伸缩在同一个地域，可以减小网络传输的延迟，提升响应速度</span></li><li><span style="color:#333">D.可以把RDS实例直接挂在SLB下，由SLB按照转发规则分配任务到RDS实例进行处理</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性伸缩(Auto Scaling)与 SLB/RDS 紧密集成，可以自动管理SLB后端服务器和RDS白名单，节省操作成本。参考弹性伸缩产品优势链接：<a href="https://help.aliyun.com/document_detail/25859.html?spm=a2c4g.11174283.6.543.78b37300eCJbEF" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25859.html?spm=a2c4g.11174283.6.543.78b37300eCJbEF</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">189. 使用阿里云的负载均衡SLB实例时，合理的会话保持配置可以实现与某个连接（Session）相关的所有应用请求能够由同一台后端云服务器ECS实例进行处理，维持业务的延续性。四层服务的会话保持是基于<strong>____</strong>实现的。</font></p><ul><li><strong><span style="color:#4CAF50">A.源IP</span></strong></li><li><span style="color:#333">B.负载均衡IP</span></li><li><span style="color:#333">C.cookie</span></li><li><span style="color:#333">D.用户的UUID</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>四层服务的会话保持是基于源IP实现的，七层服务的会话保持是基于Cookie实现的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">190. 使用阿里云的负载均衡SLB实例时，合理的会话保持配置可以实现与某个连接（Session）相关的所有应用请求能够由同一台后端云服务器ECS实例进行处理，维持业务的延续性。七层服务的会话保持是基于<strong>____</strong>实现的。</font></p><ul><li><strong><span style="color:#4CAF50">A.cookie</span></strong></li><li><span style="color:#333">B.源IP</span></li><li><span style="color:#333">C.负载均衡IP</span></li><li><span style="color:#333">D.用户的UUID</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>四层服务的会话保持是基于源IP实现的，七层服务的会话保持是基于Cookie实现的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">191. 如果您在非阿里云的服务器上安装了云盾安骑士客户端，通过<strong>____</strong>可以确保在您的管理控制台中能查到此服务器的相关报告。</font></p><ul><li><span style="color:#333">A.报告无法在阿里云的管理控制台查看</span></li><li><span style="color:#333">B.通过阿里云官网帐号关联</span></li><li><span style="color:#333">C.非阿里云服务器不支持安骑士</span></li><li><strong><span style="color:#4CAF50">D.在安装安骑士的过程中需要输入“安装验证key”，通过此Key关联用户的管理控制台</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>安装“安骑士客户端”后，需要用在管理控制台生成的安装验证key与指定的阿里云官网帐号关联。参考链接：<a href="https://help.aliyun.com/document_detail/28457.html?spm=5176.11065259.1996646101.searchclickresult.175f4e360Grii0" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28457.html?spm=5176.11065259.1996646101.searchclickresult.175f4e360Grii0</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">192. 阿里云的专有网络VPC可以帮助您基于阿里云的产品构建出一个隔离的网络环境。通过与<strong>____</strong>连接方式结合，可以实现专有网络VPC与传统数据中心组成一个按需定制的网络环境。</font></p><ul><li><strong><span style="color:#4CAF50">A.VPN</span></strong></li><li><span style="color:#333">B.负载均衡SLB</span></li><li><span style="color:#333">C.域名解析DNS</span></li><li><span style="color:#333">D.云监控</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>通过VPN专线可以将该网络与传统数据中心组成一个按需定制的网络环境。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">193. 阿里云的弹性公网IP支持与云服务器ECS实例的动态绑定和解绑。下列关于弹性公网IP说法中错误的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.弹性公网IP只能绑定在同一个地域的特定可用区的VPC类型的云服务器ECS实例上</span></strong></li><li><span style="color:#333">B.弹性公网IP不能绑定在经典网络的云服务器ECS实例上</span></li><li><span style="color:#333">C.1个弹性公网IP只能绑定到1个ECS实例上</span></li><li><span style="color:#333">D.弹性公网IP只能绑定在相同地域的VPC类型的云服务器ECS实例上</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目问的是描述错误的选项，每个弹性公网IP只能绑定到同一地域的一个VPC网络的云产品实例上。不一定要求是在同一个可用区。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">194. 您基于阿里云的云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，您需要通过读写分离的方式来改善数据库的性能，可以采用阿里云的<strong>____</strong>产品来快速解决该问题。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><span style="color:#333">B.本读SSD盘</span></li><li><strong><span style="color:#4CAF50">C.云数据库RDS</span></strong></li><li><span style="color:#333">D.表格存储</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中是因为在云服务器ECS上部署了MySQL服务，随着业务上涨导致MySQL服务出现性能的问题，所以需要使用云数据库RDS来改善。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">195. 您拥有香港地域可用区A、华北1（青岛）地域可用区B和华南1（深圳）可用区B的云服务器ECS实例，现在希望通过购买新的块存储挂载到已有的云服务器ECS实例上进行磁盘空间的扩容，肯定不能购买<strong>____</strong>可用区的块存储。</font></p><ul><li><strong><span style="color:#4CAF50">A.华北1（青岛）地域可用区A</span></strong></li><li><span style="color:#333">B.华北1（青岛）地域可用区B</span></li><li><span style="color:#333">C.香港地域可用区A</span></li><li><span style="color:#333">D.华南1（深圳）地域可用区B</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>根据题意，购买新的块存储意味创建新的数据盘，所以只能购买同一个可用区的云盘，所以只能选择：香港地域可用区A，华北1（青岛）地域可用区B和华南1（深圳）可用区B。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">196. 您的应用系统中存在大量的非结构化数据，之前采用阿里云的云服务器ECS实例加云数据盘的方式进行存储，随着数据的不断膨胀，维护成本和拥有成本越来愈高。您希望将目前存储在云服务器ECS实例的数据盘上的大量非结构化的数据转存到其他的服务上去，并使用新的服务提供后续的数据存储服务，从而实现更好的节省运维、管理及存储本身的成本，采用<strong>____</strong>方式最为经济高效。</font></p><ul><li><span style="color:#333">A.将数据转移到表格存储中，提供低成本、高并发、低延时的海量数据存储与在线访问</span></li><li><span style="color:#333">B.申请OSS bucket，使用闪电立方将磁盘上的数据转移到OSS服务中进行存储</span></li><li><strong><span style="color:#4CAF50">C.在云服务所在的地域申请OSS bucket，使用OssImport将磁盘上的数据转移到OSS服务中进行存储</span></strong></li><li><span style="color:#333">D.将磁盘数据存储下载到本地数据中心的磁带库中进行存储</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>闪电立方Lightning Cube（海外叫数据迁移Data Transport）是阿里云为TB乃至PB级数据迁移提供的服务。而题目中说的是：云服务器ECS实例的数据盘上的大量非结构化的数据转存到其他的服务上去。所以使用OSSImport更方便。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">197. 您启动了一台新的阿里云的云服务器ECS实例，要求此实例只允许开放80端口的公网访问。可以通过以下哪个操作来实现此要求而不影响其它实例？</font></p><ul><li><span style="color:#333">A.在该实例所在的默认安全组添加一条公网访问规则仅允许80端口的公网入流量</span></li><li><span style="color:#333">B.在该实例所在的默认安全组添加一条公网访问规则仅允许80端口的公网出访问，并添加一条公网访问规则不允许所有的公网出流量</span></li><li><strong><span style="color:#4CAF50">C.新建一个安全组，并新增一条安全组规则允许80端口的公网入流量，将该云服务器实例放入该安全组</span></strong></li><li><strong><span style="color:#4CAF50">D.新建一个安全组，并新增一条安全组规则允许80端口的公网入流量，将该云服务器实例放入该安全组，并从原先的默认安全组挪出</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>题目中要求ECS实例只允许开放80端口的公网访问，所以需要新增安全组规则，允许80端口的公网入方向访问，将实例加入该组为了不影响其他实例，并将其从原先的默认安全组移出。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">198. 您在使用阿里云的云服务器ECS实例的过程中，如果进行<strong>____</strong>操作一定不会导致云服务器ECS实例出现异常。</font></p><ul><li><strong><span style="color:#4CAF50">A.修改上层应用的网络协议</span></strong></li><li><span style="color:#333">B.自行编译系统内核</span></li><li><span style="color:#333">C.在ECS实例上部署虚拟化程序</span></li><li><span style="color:#333">D.随意更改系统分区下目录的权限</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>修改上层应用的网络协议只是修改应用的访问方式，比如将TCP改成HTTP，并不会导致ECS服务器异常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">199. 公网IP可以实现阿里云的云服务器ECS实例与Internet之间互访。下列对于云服务器ECS实例的公网IP描述错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.无论您选择何种计费方式，在购买实例的时候，您都需要选择公网的带宽上限</span></li><li><span style="color:#333">B.手工修改ECS实例的公网IP后，该ECS实例的网络通信会受到影响</span></li><li><span style="color:#333">C.公网IP可用于不同地域的云服务器之间互访</span></li><li><strong><span style="color:#4CAF50">D.云服务器ECS实例更换系统盘时，公网IP地址也会随之变更</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>更换系统盘不会导致网络层面的变更，所以公网IP不会变更。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">200. 您发现某台阿里云的云服务器ECS实例无法连接到互联网，不可能是<strong>____</strong>原因造成的。</font></p><ul><li><span style="color:#333">A.您修改了云服务器ECS实例访问公网的安全组策略</span></li><li><span style="color:#333">B.自行修改过公网IP</span></li><li><span style="color:#333">C.在云服务器ECS实例中将公网IP对应的网卡关闭了</span></li><li><strong><span style="color:#4CAF50">D.云服务器ECS实例的网口松了</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>云服务器ECS实例无法连接到互联网不会是因为云服务器ECS的网口连接问题导致的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">201. 您的应用系统部署在阿里云的云服务器ECS实例上，系统每天晚上会进行当天运营数据的报表统计，在凌晨3点钟会出现短暂的统计服务响应变慢的情况，但很快会自动消失，很可能是云服务器ECS实例自身的<strong>____</strong>操作引起的。</font></p><ul><li><span style="color:#333">A.云服务器ECS实例自动休眠了</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例的自动快照的时间设置在每天凌晨3点</span></strong></li><li><span style="color:#333">C.云服务器ECS实例的自动镜像服务设置在凌晨3点</span></li><li><span style="color:#333">D.互联网网络不稳定</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>设置自动快照创建时间和重复日期时应尽量避开业务高峰，因为创建快照可能会轻微降低磁盘的性能，出现短暂瞬间变慢。参考链接：<a href="https://help.aliyun.com/document_detail/25456.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25456.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">202. 作为某初创企业的技术负责人，阿明将Java应用程序、图片视频等静态文件都部署在了一台ECS实例上，提供服务。随着业务发展和用户量的增加，发现存储在ECS实例上的静态文件访问速度不能达到预期的要求。您建议选择阿里云的<strong><strong>_</strong></strong>产品可以快速解决静态文件的访问速度问题。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><span style="color:#333">B.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">C.对象存储OSS</span></strong></li><li><span style="color:#333">D.弹性伸缩Auto Scaling</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：静态文件访问速度不能达到预期的要求，所以需要把静态文件存储到OSS中加快访问速度。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">203. 您基于阿里云的云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，您的运维工作不断增加，包括数据库的备份、主备数据库之间的数据同步等问题，可以采用阿里云的<strong>____</strong>产品来快速解决该问题。</font></p><ul><li><span style="color:#333">A.开放搜索服务OpenSearch</span></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.对象存储OSS</span></li><li><span style="color:#333">D.表格存储</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中是因为在云服务器ECS上部署了MySQL服务，随着业务上涨导致MySQL的运维工作繁重，所以需要使用云数据库RDS的功能来快速解决问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">204. 某视频公司，使用负载均衡SLB将用户的访问请求分发到30台云服务器ECS实例上去，由这些配置相同的ECS实例来响应用户的请求。每天晚上20:00到次日凌晨2:00期间，业务量会大幅增加，基本上会比其他时间段增加1倍左右，为了能正常响应用户的请求，从成本和容易实现的角度，以下哪种解决办法最可取？</font></p><ul><li><strong><span style="color:#4CAF50">A.使用阿里云弹性伸缩（Auto Scaling），通过合适的配置，自动增加ECS实例或者减少ECS实例</span></strong></li><li><span style="color:#333">B.使用自定义的镜像，手工创建30台云服务器ECS实例，在每天晚上20:00前，手工增加到SLB中去，次日凌晨2:00再从SLB中移除</span></li><li><span style="color:#333">C.基于自定义的镜像创建30台云服务器ECS实例，添加到SLB中去，通过设置权重，让这些ECS实例在每天晚上20:00到次日凌晨2:00之间可以响应用户需求，其他时间段权重修改为0</span></li><li><span style="color:#333">D.使用阿里云弹性伸缩（Auto Scaling），通过合适的配置，自动提升每台ECS实例的规格</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目要求成本和容易的角度，所以是通过动态伸缩更加简单和节省成本。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">205. 阿里云弹性伸缩（Auto Scaling）可以通过设置定时任务来定时地增加或减少 ECS 实例,那么如果多个定时任务在同一时间内触发执行同一个伸缩组的伸缩规则,下面关于定时任务执行的说法正确是?</font></p><ul><li><span style="color:#333">A.会选取最近创建的定时任务执行,排在后面的定时任务会在 LaunchExpirationTime 内自动重试定时触发</span></li><li><strong><span style="color:#4CAF50">B.会选取最早创建的定时任务执行,排在后面的定时任务会在 LaunchExpirationTime 内自动重试定时触发</span></strong></li><li><span style="color:#333">C.会选取最近创建的定时任务执行,排在后面的定时任务则会取消</span></li><li><span style="color:#333">D.多个定时任务部分先后将同时执行</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>如果多个定时任务在相近的时间内触发执行同一个伸缩组的伸缩规则，则最早触发的定时任务会先执行伸缩活动。由于同一个伸缩组同一时刻内只能有一个伸缩活动，排在后面的定时任务会在LaunchExpirationTime内自动重试定时触发。如上一个伸缩活动完成之后，排在后面的定时任务还在LaunchExpirationTime内重试，则执行该定时任务的伸缩规则并触发相应的伸缩活动。<a href="https://help.aliyun.com/document_detail/25957.html?spm=5176.11065259.1996646101.searchclickresult.14ad64d8HYwcY7" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25957.html?spm=5176.11065259.1996646101.searchclickresult.14ad64d8HYwcY7</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">206. 阿里云弹性伸缩(Auto Scaling)是根据用户的业务需求和策略，自动调整其弹性计算资源的管理服务，可以自动调整<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例的个数</span></strong></li><li><span style="color:#333">B.云服务器ECS实例的CPU个数</span></li><li><span style="color:#333">C.云服务器ECS实例的内存大小</span></li><li><span style="color:#333">D.云服务器ECS实例的带宽</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩(Auto Scaling)是横向扩展，扩展的是云服务器ECS实例的个数，云服务器ECS实例的配置是不支持伸缩的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">207. 某视频直播公司采用阿里云弹性伸缩（Auto Scaling）来实现动态添加或者减少云服务器ECS实例，以应对业务量的变化。由于该公司的系统刚上线不久，没有历史数据做参考，同时也不能预估业务量的变化，他们希望通过ECS实例资源的使用情况（比如CPU利用率、系统负载Load等）来弹性伸缩计算资源。他们应该选择以下哪种伸缩模式？</font></p><ul><li><strong><span style="color:#4CAF50">A.动态模式</span></strong></li><li><span style="color:#333">B.定时模式</span></li><li><span style="color:#333">C.固定数量模式</span></li><li><span style="color:#333">D.lazy模式</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>没有历史数据做参考，即无法确定需要伸缩的ECS的数量，所以选择动态模式最合适。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">208. 阿里云对象存储OSS中所有数据都保存在Bucket中，当一个OSS bucket设置成<strong>____</strong>权限，意味着该OSS Bucket仅允许其他用户来访问 （GET Object）属于该Bucket下的object。</font></p><ul><li><span style="color:#333">A.公共读写</span></li><li><strong><span style="color:#4CAF50">B.公共读</span></strong></li><li><span style="color:#333">C.私有</span></li><li><span style="color:#333">D.私有读</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>允许其他用户访问就代表允许公共访问此Bucket，所以选择公共读。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">209. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠 的云存储服务。在OSS Bucket中所有元素都是以<strong>_</strong>来存储的。</font></p><ul><li><span style="color:#333">A.key</span></li><li><span style="color:#333">B.value</span></li><li><strong><span style="color:#4CAF50">C.object</span></strong></li><li><span style="color:#333">D.bucket</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>Bucket中所有元素都是以对象（也可以叫文件、Object）来存储的。参考链接：<a href="https://help.aliyun.com/document_detail/31817.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31817.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">210. 如果阿里云对象存储OSS客户想对访问OSS的IP进行限制，只允许有限的几个IP地址可以下载OSS上的文件，可以通过<strong><strong>___</strong></strong>配置方法实现。</font></p><ul><li><span style="color:#333">A.直接使用OSS的IP白名单功能</span></li><li><strong><span style="color:#4CAF50">B.OSS本身不提供IP黑白名单，可以先使用CDN加速，然后在CDN上配置IP白名单</span></strong></li><li><span style="color:#333">C.直接使用OSS的IP黑名单功能</span></li><li><span style="color:#333">D.OSS本身不提供IP黑白名单，可以在OSS前面部署SLB，然后在SLB上配置IP白名单</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS服务本身不提供IP黑名单的功能，可以结合内容分发CDN来实现IP黑白名单的功能。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39555.html?spm=5176.11065259.1996646101.searchclickresult.45fb359epbxdYi" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39555.html?spm=5176.11065259.1996646101.searchclickresult.45fb359epbxdYi</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">211. 开通阿里云对象存储OSS服务后，您首先需要使用OSS管理控制台或OpenAPI创建存储空间Bucket以用来存储文件，以下有关Bucket的说法<strong><strong>_</strong></strong>是正确的。</font></p><ul><li><strong><span style="color:#4CAF50">A.Bucket的名称要求全局唯一，且创建后不支持更改</span></strong></li><li><span style="color:#333">B.Bucket的名称要求全局唯一，创建后支持更改</span></li><li><span style="color:#333">C.Bucket的名称只要求在本帐号内唯一，创建后支持更改</span></li><li><span style="color:#333">D.Bucket的名称要求在本帐号内唯一，且创建后不支持更改</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>每个Bucket存储空间的名字全局唯一，Bucket存储空间一旦创建成功，名称和所处地域不能修改。参考链接：<a href="https://help.aliyun.com/document_detail/31842.html?spm=5176.11826750.0.0.7800uMGguMGg8H#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31842.html?spm=5176.11826750.0.0.7800uMGguMGg8H#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">212. 在使用阿里云的负载均衡SLB实例时，可以对后端云服务器ECS实例配置不同的权重，权重越大的ECS实例，会被分到越多的负载。某个SLB实例的后端服务器池中有5个ECS实例，都处在健康状态，其中一台实例ecs_inst1权重被设置成了100，以下说法中正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.由于不确定其他4台ECS实例的权重配置，所以无法判断ecs_inst1会被分到多大比例的负载</span></strong></li><li><span style="color:#333">B.100%的负载都会被分发到ecs_inst1上去，其余4台ECS实例会处于空闲状态</span></li><li><span style="color:#333">C.根据SLB的工作原理，ecs_inst1将会被分到大约20%左右的负载</span></li><li><span style="color:#333">D.根据外部请求中的请求级别参数判断，所有请求级别参数为100的，都会被转发至ecs_inst1</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为只有一台配置了100的权重，并不知道其他4台ECS的具体权重配置（并不是说一台设置了100的权重，其他的权重都必须0，其他ECS也是同样可以设置为100的权重，这样和这一台的权重是相同的，被分发的请求量也是相同的），所以所以无法判断ecs_inst1会被分到多大比例的负载。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">213. 某在线考试网站提供在线的认证考试服务，用户登录网站后，需要在120分钟时间内完成答卷。该网站使用了阿里云的云服务器ECS以及负载均衡SLB实现，上述场景中，如果要保持120分钟之内用户和服务器之间的连接不间断，可以通过负载均衡SLB的<strong>____</strong>功能实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.会话保持</span></strong></li><li><span style="color:#333">B.加权轮询</span></li><li><span style="color:#333">C.弹性自愈</span></li><li><span style="color:#333">D.会话同步</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：保持120分钟之内用户和服务器之间的连接不间断。所以选择会话保持。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">214. 负载均衡通过设置虚拟服务地址，将添加的ECS实例虚拟成一个高性能、高可用的应用服务池，并根据转发规则，将来自客户端的请求分发给云服务器池中的ECS实例。下列关于SLB转发规则说法错误的是？</font></p><ul><li><span style="color:#333">A.SLB支持“轮询模式”转发规则</span></li><li><span style="color:#333">B.SLB支持“最小连接数模式“转发规则</span></li><li><span style="color:#333">C.SLB四层流量走默认路由</span></li><li><strong><span style="color:#4CAF50">D.一般情况下，默认路由在有内网的情况下，先走内网，无内网再走外网</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>一般情况下默认路由在有外网情况下会先走外网网卡,如无外网则走内网网卡。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">215. 使用阿里云的负载均衡SLB实例时，可以通过健康检查来判断后端云服务器ECS实例上的可用性。针对7层服务，负载均衡SLB实例的健康检查机制为：默认由负载均衡SLB实例向后端云服务器ECS实例的内网IP地址的应用服务器配置的缺省首页发起<strong>____</strong>请求，如果返回“200 OK”，将认为后端云服务器ECS实例运行正常，否则视为运行异常。</font></p><ul><li><strong><span style="color:#4CAF50">A.http</span></strong></li><li><span style="color:#333">B.ssh</span></li><li><span style="color:#333">C.telnet</span></li><li><span style="color:#333">D.ICMP</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>7层服务的监控检查机制为由负载均衡SLB实例向后端云服务器ECS实例的内网IP地址的应用服务器配置的缺省首页发起HTTP请求，然后判断请求的返回码来进行健康检查操作，参考链接：<a href="https://help.aliyun.com/document_detail/98226.html?spm=5176.10695662.1996646101.searchclickresult.122a4e64H34gSM" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/98226.html?spm=5176.10695662.1996646101.searchclickresult.122a4e64H34gSM</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">216. 阿里云提供公网和私网两种类型的负载均衡服务。下列关于SLB实例属性配置说法错误的是？</font></p><ul><li><span style="color:#333">A.如果用户不指定一个容易识别的SLB名称，则系统会自行分配一个名称</span></li><li><span style="color:#333">B.LoadBalancerId是用于识别用户SLB实例的唯一标识</span></li><li><strong><span style="color:#4CAF50">C.系统自动选择公网或者私网访问</span></strong></li><li><span style="color:#333">D.不同类型的SLB，系统会分配不同的服务地址给用户</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>负载均衡SLB中的公网或者私网访问的选择是由用户在购买时候的选择，并不是系统自动选择。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">217. 在阿里云的负载均衡SLB的管理控制台中，可以根据一些监控的统计指标来设置报警信息，常见的如流量、数据包、连接数等，设置报警阈值，一旦触发了报警条件，就会通过多种方式进行报警。目前还不支持<strong>____</strong>的报警方式。</font></p><ul><li><strong><span style="color:#4CAF50">A.电话报警</span></strong></li><li><span style="color:#333">B.邮件报警</span></li><li><span style="color:#333">C.短信报警</span></li><li><span style="color:#333">D.旺旺报警</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云的负载均衡SLB的监控报警目前还不支持电话报警。开通负载均衡的云监控服务后，您可以在云监控控制台配置监控报警规则。云监控支持“短信”、“邮件”、“旺旺” 三种报警方式，暂不支持电话报警。参考链接：<a href="https://help.aliyun.com/document_detail/32470.html?spm=5176.11065259.1996646101.searchclickresult.42a64e4dIBKutX" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32470.html?spm=5176.11065259.1996646101.searchclickresult.42a64e4dIBKutX</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">218. 阿里云的负载均衡SLB可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。以下关于负载均衡SLB特点的说法中错误的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.跨地域容灾：支持同一个负载均衡SLB实例分流负载到跨多个地域（Region）的云服务器ECS实例，可用性更高</span></strong></li><li><span style="color:#333">B.扩展性：支持删除和添加后端云服务器，实现无缝伸缩</span></li><li><span style="color:#333">C.安全：结合阿里云的安全产品提供多种安全防护，使应用更加安全可靠</span></li><li><span style="color:#333">D.成本：和传统硬件负载均衡器相比，成本大幅下降</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>同一个负载均衡只支持跨可用区容灾，不支持跨地域容灾。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">219. 阿里云的负载均衡SLB对应的后端服务器池中包含多台云服务器ECS实例时，若ECS实例对外服务能力不同，为了更充分的利用ECS实例的处理能力，以下说法中正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.给处理能力强的ECS实例配置更高的权重，权重越高意味着将有机会被分配到更多的访问请求</span></strong></li><li><span style="color:#333">B.按照轮询的模式分发任务，能力强的ECS实例一定能分配到更多的请求</span></li><li><span style="color:#333">C.按照最小连接数的模式分发任务，能力强的ECS实例一定能分配到更多的请求</span></li><li><span style="color:#333">D.负载均衡SLB的目的就是为了平衡后台ECS实例间的负载，无法让某些ECS实例分配到更多的请求</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>通过设置轮询权重，能力强的设置比较高的权重从而获得更多的请求来处理。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">220. 阿里云的负载均衡SLB是对多台云服务器ECS实例进行流量分发的服务,支持四层和七层的转发协议。其中七层服务主要是依据<strong>____</strong>把流量分发给对应的云服务器ECS实例。(正确答案的数量:2个)</font></p><ul><li><span style="color:#333">A.报文中的目标IP地址和端口</span></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB中设定的转发策略和规则</span></strong></li><li><strong><span style="color:#4CAF50">C.报文中真正有意义的应用层内容</span></strong></li><li><span style="color:#333">D.报文中的源IP地址和端口</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>注意题目考的是七层，四层是通过SLB中设定的转发策略和规则和报文中的目标IP地址和端口分发流量，七层是通过报文中真正有意义的应用层内容和负载均衡SLB中设定的转发策略和规则分发流量。参照：<a href="https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ" target="_blank" rel="noopener">https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">221. 假设网络管理员需要随时随地通过公网对阿里云专有网络VPC下的多台云服务器ECS实例进行管理，通过<strong>____</strong>方式可以既安全又低成本的实现。</font></p><ul><li><span style="color:#333">A.修改VPC的安全组策略，允许公网的访问</span></li><li><span style="color:#333">B.其他答案都不对</span></li><li><span style="color:#333">C.为每一台云服务器ECS实例绑定一个EIP，登录各个云服务器ECS实例进行管理</span></li><li><strong><span style="color:#4CAF50">D.在VPC内选择一台云服务器ECS实例作为堡垒机，申请一个EIP绑定到该ECS实例，通过该堡垒机进行其他云服务器ECS实例的管理</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>为某台ECS申请了EIP，则可以通过公网访问这台ECS，然后通过这台ECS管理VPC内的其他ECS实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">222. 您希望通过管理控制台进行阿里云的专有网络VPC内的云服务器ECS实例的私网IP地址的修改，但发现操作的菜单不可用，是<strong>____</strong>原因引起的。</font></p><ul><li><span style="color:#333">A.该云服务器ECS实例没有绑定EIP</span></li><li><span style="color:#333">B.该云服务器ECS实例所在的VPC类型是默认专有网络</span></li><li><span style="color:#333">C.该云服务器ECS实例不是运行状态</span></li><li><strong><span style="color:#4CAF50">D.没有针对该云服务器ECS实例进行停止操作，且该云服务器ECS实例不是停止状态</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>修改云服务器ECS的私网IP地址需要云服务器ECS处于停止的状态，所以是”没有针对该云服务器ECS实例进行停止操作，且该云服务器ECS实例不是停止状态”的原因造成的。参考链接：<a href="https://help.aliyun.com/document_detail/27733.html?spm=5176.11065259.1996646101.searchclickresult.64dd5cbfrVAGlk" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27733.html?spm=5176.11065259.1996646101.searchclickresult.64dd5cbfrVAGlk</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">223. 阿里云的安骑士是云盾提供的用来保护服务器的产品，以下<strong>____</strong>不属于安骑士的功能。</font></p><ul><li><span style="color:#333">A.木马文件检查</span></li><li><strong><span style="color:#4CAF50">B.防WEB应用系统的密码破解</span></strong></li><li><span style="color:#333">C.异地登录报警</span></li><li><span style="color:#333">D.防操作系统密码暴力破解</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>防WEB应用系统的密码破解不属于安骑士的功能，而是属于Web应用防火墙的功能。参考链接：<a href="https://help.aliyun.com/document_detail/31770.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31770.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">224. 阿里云的云盾加密服务通过在阿里云上使用经国家密码管理局检测认证的硬件密码机，帮助用户满足数据安全方面的监管合规要求，保护云上业务数据的隐私性和机密性。云盾加密服务的密钥由<strong><strong>___</strong></strong>负责保管。</font></p><ul><li><span style="color:#333">A.阿里云的系统管理员</span></li><li><strong><span style="color:#4CAF50">B.客户</span></strong></li><li><span style="color:#333">C.客户和阿里云的系统管理员</span></li><li><span style="color:#333">D.阿里云的第三方合作伙伴</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>客户通过VPN或专线接入VPC，使用USB Key对加密服务实例进行初始化并管理密钥。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">225. 在服务器上手动安装阿里云的云盾客户端安骑士时需要<strong><strong>___</strong></strong>权限。</font></p><ul><li><strong><span style="color:#4CAF50">A.系统管理员权限</span></strong></li><li><span style="color:#333">B.系统普通用户权限</span></li><li><span style="color:#333">C.FTP服务权限</span></li><li><span style="color:#333">D.数据库权限</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>在服务器上手动安装安骑士时需要管理员权限。参考链接：<a href="https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.543a4d95o6kLR2" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.543a4d95o6kLR2</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">226. 阿里云的云监控（CloudMonitor） 是一项针对阿里云资源和互联网应用进行监控的服务。下列关于云监控的说法准确的是？</font></p><ul><li><span style="color:#333">A.需要单独购买并付费，才可以开通</span></li><li><span style="color:#333">B.不能通过管理控制台使用云监控服务</span></li><li><strong><span style="color:#4CAF50">C.支持监控未部署在阿里云产品上的网站</span></strong></li><li><span style="color:#333">D.不支持监控未部署在阿里云产品上的网站</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>无论您的服务器是阿里云服务器 ECS，还是其他云厂商的服务器或物理机，都可以使用主机监控服务。参考链接：<a href="https://help.aliyun.com/document_detail/43503.html?spm=a2c4g.11186623.6.565.47491b29irCwKS" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/43503.html?spm=a2c4g.11186623.6.565.47491b29irCwKS</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">227. 某企业托管到传统IDC机房的服务器（包括windows和Linux两种操作系统），每天晚上有来自很多国家的IP地址对其管理密码进行尝试破解。为此管理员小王很是担心，因为工作需要，远程管理端口必须对公网开放。小王听说阿里云的云盾可以帮助客户提升安全防护的能力，想把系统迁到阿里云上。在阿里云上开通<strong><strong>_</strong></strong>功能可以减少密码被暴力破解的可能。</font></p><ul><li><span style="color:#333">A.阿里绿网</span></li><li><strong><span style="color:#4CAF50">B.安骑士</span></strong></li><li><span style="color:#333">C.DDoS基础防护</span></li><li><span style="color:#333">D.态势感知</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中问的是防止密码破解，这个是安骑士的功能点。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">228. D公司在线视频业务全国排名前五，整个业务系统全部建设在阿里云之上，使用的云产品有云服务器ECS、对象存储OSS、内容分发网络CDN。 最近发现有黑客恶意下载公司的正版视频，在国外社区里分发。 假设你是D公司的系统管理员，从技术上可以如何解决这个问题？</font></p><ul><li><span style="color:#333">A.启用阿里云CDN的IP黑名单功能</span></li><li><strong><span style="color:#4CAF50">B.启用阿里云CDN的URL鉴权功能</span></strong></li><li><span style="color:#333">C.启用阿里云OSS的Refer黑名单功能</span></li><li><span style="color:#333">D.启用云服务顺的安全组功能</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：公司使用了CDN，黑客恶意下载公司的正版视频。所以需要对CDN的访问进行保护，但是题目中并不知道黑客的具体IP或者某一段IP，知道具体IP的话可以直接把具体IP或者这段IP加入黑名单，所以只能需要采用CDN的URL鉴权功能防止在社区在分发的问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">229. 阿里云内容分发网络CDN和传统厂商的CDN相比具有稳定快速、节约成本和简单易用三个特点。以下关于阿里云CDN稳定快速特点的描述错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.先进的分布式系统架构，在国内、外均有数百个缓存节点，且节点数在不断增加</span></li><li><span style="color:#333">B.充足的带宽和存储资源</span></li><li><strong><span style="color:#4CAF50">C.CDN的全部缓存节点都采用BGP线路</span></strong></li><li><span style="color:#333">D.完善的监控体系和服务体系</span></li><li><span style="color:#333">E.稳定高效的性能指标：95%以上的命中率，毫秒级响应时间</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>CDN的全部缓存节点并没有采用BGP线路，BGP线路主要为OSS，和DDoS高防IP提供服务，实现不同运营商的网站都可以快速访问。CDN则是有充足的带宽和存储资源。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">230. 某公司很多系统都架构在阿里云上，使用了多个阿里云弹性伸缩（Auto Scaling）的伸缩组来实现动态资源管理。现有一台包年包月的云服务器ECS实例还未到期，且处于闲置状态，出于避免资源浪费的考虑，想把它更好的利用起来。以下说法中正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.可以把它手工添加到同一个地域（Region）的任意一个伸缩组中去</span></strong></li><li><span style="color:#333">B.如果该ECS的处理能力很强的话，可以加入到同一个可用区（Zone）的多个伸缩组中去，前提是要部署多个应用处理的环境</span></li><li><span style="color:#333">C.只能把加到同一个可用区（Zone）的某一个伸缩组中去，前提是它的规格要符合该伸缩组伸缩配置规定的规格</span></li><li><span style="color:#333">D.只能把加到同一个地域（Region）的某一个伸缩组中去，前提是它的规格要符合该伸缩组伸缩配置规定的规格</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩是有地域的限制，手动添加的ECS必须与伸缩组处于同一个地域。但是不需要要求ECS符合该伸缩组伸缩配置规定的规格。参考链接：<a href="https://help.aliyun.com/document_detail/25901.html?spm=5176.10695662.1996646101.searchclickresult.46c7e2a9i5RqOL" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25901.html?spm=5176.10695662.1996646101.searchclickresult.46c7e2a9i5RqOL</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">231. 您部署在阿里云云服务器ECS上的服务，希望能够通过阿里云的产品来提升该服务的可用性，以下哪种方案的可用性最高？</font></p><ul><li><strong><span style="color:#4CAF50">A.在同一个地域的多个可用区的多台云服务器上部署应用，并挂载在同一个负载均衡实例后面</span></strong></li><li><span style="color:#333">B.在同一个地域的同一个可用区的多台云服务器上部署应用，并挂载在同一个负载均衡实例后面</span></li><li><span style="color:#333">C.在不同地域的多个可用区的多台云服务器上部署应用，并挂载在同一个负载均衡实例后面</span></li><li><span style="color:#333">D.在不同地域的同一个可用区的多台云服务器上部署应用，并挂载在同一个负载均衡实例后面</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>手动添加的ECS只能添加到和其同一地域的伸缩组中去，手动添加的 ECS 实例配置与当前伸缩配置没有关联。即对手动添加的ECS没有任何特别的要求。。参考链接：<a href="https://help.aliyun.com/document_detail/25901.html?spm=5176.11065259.1996646101.searchclickresult.29e7210cJXOcUz" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25901.html?spm=5176.11065259.1996646101.searchclickresult.29e7210cJXOcUz</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">232. 阿里云的云服务器ECS产品的应用非常广泛，既可以单独的作为Web服务器，也可以与其他阿里云产品配合提供多媒体解决方案。在多媒体、大流量的APP或网站应用场景下，云服务器ECS实例与阿里云的<strong>____</strong>产品，可以实现在业务量增长时自动增加ECS实例，并在业务量下降时自动减少ECS实例，保证满足访问量达到峰值时对资源的要求，同时降低了系统资源的拥有成本。</font></p><ul><li><span style="color:#333">A.对象存储OSS</span></li><li><span style="color:#333">B.内容分发网络CDN</span></li><li><strong><span style="color:#4CAF50">C.弹性伸缩Auto Scaling</span></strong></li><li><span style="color:#333">D.云监控</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说：”业务量增长时自动增加ECS实例，并在业务量下降时自动减少ECS实例”，顾名思义是弹性伸缩Auto Scaling。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">233. 阿里云的云服务器ECS相对于传统物理服务器的一个重要特征是，可以更为便捷的进行服务器的配置升级。下列关于云服务器ECS无缝升级的说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.云服务器ECS支持变更CPU、内存和宽带升级</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS不支持新增数据盘</span></strong></li><li><span style="color:#333">C.升级带宽不需要云服务器ECS进行重启</span></li><li><span style="color:#333">D.云服务器ECS的配置升级时，用户不需要重新部署环境或者迁移数据</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云服务器ECS支持变更配置和新增数据盘，变更配置需要重新服务但不会影响到服务器数据。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">234. 某视频公司的服务部署在阿里云的云服务器ECS上，春晚或每周五热门节目来临时，如临大敌，又不想长期采购大量的云服务器ECS实例提供服务，可以采用阿里云提供的<strong>____</strong>产品来低成本地解决这个问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.弹性伸缩Auto Scaling</span></strong></li><li><span style="color:#333">B.表格存储</span></li><li><span style="color:#333">C.专有网络VPC</span></li><li><span style="color:#333">D.对象存储OSS</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中要求需要解决，春晚或每周五服务器压力比较大的问题，但是又不想长期采购云服务器ECS，所以可以通过弹性伸缩来解决上述问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">235. 随着业务的增长，您现有的阿里云的云服务器ECS实例的系统盘出现了存储资源不足的问题，阿里云提供了系统盘扩容的功能帮您解决该问题。下列关于扩容系统盘的操作说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.通过更换ECS实例的系统盘操作来实现系统盘的扩容</span></li><li><span style="color:#333">B.扩容ECS实例的系统盘时需要停止您的实例，因此会短暂中断您的业务</span></li><li><strong><span style="color:#4CAF50">C.扩容系统盘之后您的ECS实例的IP地址会发生变化</span></strong></li><li><span style="color:#333">D.扩容系统盘后，用户创建的快照会保留</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>]扩容系统盘并不是导致网络层的IP地址会发生变化。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">236. 某新媒体公司通过手机APP提供新闻资讯服务，采用阿里云弹性伸缩（Auto Scaling）来实现动态添加或者减少云服务器ECS实例，来应对业务量的变化。该公司的业务人员和技术人员相互配合，估算出他们所需要的资源为闲时10台ECS，但是有几个时间段业务量会比较多，基本上集中在7:30到9:00，18:30到20:00，随着时间点的不同，所需的ECS实例在10到20个之间动态变化。他们在伸缩组中将最小实例个数设置为10，最大实例个数设置为20。从容易部署以及节省成本的角度来考虑，他们还需要配置一个什么模式的任务？</font></p><ul><li><strong><span style="color:#4CAF50">A.动态模式</span></strong></li><li><span style="color:#333">B.定时模式</span></li><li><span style="color:#333">C.固定数量模式</span></li><li><span style="color:#333">D.lazy模式</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说了，ECS在这段时间内是动态变化的，以及要从节省成本的角度出发，定时任务一下子从10台增加到20台，这样虽然满足业务要求但是成本增加了，所以选择动态任务既可以满足要求还可以根据需求适当扩展ECS减少成本。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">237. 某视频直播公司采用阿里云弹性伸缩（Auto Scaling）来实现动态添加或者减少云服务器ECS实例，以应对业务量的变化。由于该公司的系统刚上线不久，没有历史数据做参考，同时也不能预估业务量的变化，他们希望通过ECS实例资源的使用情况（比如CPU利用率、系统负载Load等）来弹性伸缩计算资源。他们应该选择以下哪种伸缩模式？</font></p><ul><li><strong><span style="color:#4CAF50">A.动态模式</span></strong></li><li><span style="color:#333">B.定时模式</span></li><li><span style="color:#333">C.固定数量模式</span></li><li><span style="color:#333">D.lazy模式</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为题目中的场次是弹性伸缩且没有任何历史数据作为参考，所以本题是动态模式最合适。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">238. 某企业使用负载均衡SLB+云服务器ECS+弹性伸缩（Auto Scaling）的架构搭建网站，已经创建了伸缩组，冷却时间设置为缺省值300秒，最小ECS数设置为1，最大ECS数设置为100，并设定了伸缩规则为“每次增加1台ECS”，同时配置报警任务：“统计周期”设为2分钟，“重复几次后报警”设置为3，每当CPU使用率平均值超过60%时，触发伸缩规则定义的伸缩活动，当前伸缩组中有10台ECS实例。该网站业务在长达1小时的时间段内发生了井喷式的爆发增长，CPU的使用率会一直高于60%，这一小时期间，每两次触发该报警任务的时间间隔最少为<strong>____</strong>加上创建一台ECS实例的消耗时间。</font></p><ul><li><span style="color:#333">A.11分钟</span></li><li><span style="color:#333">B.5分钟</span></li><li><strong><span style="color:#4CAF50">C.6分钟</span></strong></li><li><span style="color:#333">D.9分钟</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>此题考察的是：每两次触发该报警任务间隔时间。题目中的统计周期为2min，重复次数为3，所以每次报警任务的执行间隔时间是2<em>3=6min，此间隔时间6min已经过了300s(即5min)的冷却时间的限制了，所以本题答案是：最少时间间隔=周期</em>重复次数，即2min*3=6min。此题经常考，需重视。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">239. 小明是一个社交网站的架构师，创业初期用户量较少，每个注册客户上传的图片文件直接保存在了一台阿里云的云服务器ECS实例上。最近用户量爆增，图片存储的空间达到了3.5T，WEB服务器由原来的1台ECS实例扩展到了5台ECS实例，性能问题得到了解决，可是保存在ECS实例的图片无法在多台ECS之间共享读写。 阿里云的<strong>____</strong>产品非常适合解决这个问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.对象存储OSS</span></strong></li><li><span style="color:#333">B.内容分发网络CDN</span></li><li><span style="color:#333">C.归档存储（Archive Storage）</span></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：保存在ECS实例的图片无法在多台ECS之间共享读写，所以需要对象存储OSS提升图片存储的性能已经共享读写图片。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">240. 阿里云对象存储OSS提供了丰富的文件上传和下载接口，用户可以通过API方便地实现大容量存储空间的管理。如果您想建立一个大型图片分享站点，该网站允许大量用户通过WEB方式进行图片的上传和分享，可以使用阿里云的<strong>____</strong>产品与OSS配合实现。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS</span></strong></li><li><span style="color:#333">C.云数据RDS</span></li><li><span style="color:#333">D.内容分发网络CDN</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中要求允许大量用户通过WEB方式进行图片的上传和分享，所以需要云服务器ECS来提供WEB服务支持。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">241. 开通阿里云对象存储OSS服务后，您首先需要使用OSS管理控制台或OpenAPI创建Bucket来存储文件。创建Bucket时“所属地域”这个属性必须要指定， 特别是您的云服务器ECS实例需要通过内网访问OSS Bucket时，必须选择与 ECS实例相同的地域，以下有关“所属地域”的说法<strong><strong>_</strong></strong>是正确的。</font></p><ul><li><span style="color:#333">A.Bucket创建后，“所属地域”属性可随时更改</span></li><li><strong><span style="color:#4CAF50">B.Bucket创建后，“所属地域”属性不可更改</span></strong></li><li><span style="color:#333">C.Bucket创建后，如果未上传任何文件，则“所属地域”属性可以更改</span></li><li><span style="color:#333">D.Bucket创建后，要想修改“所属地域”属性，需申请特殊权限</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>Bucket创建后，“所属地域”属性不可再更改。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">242. C公司基于阿里云对象存储OSS和云服务器ECS实例构建了一个网站，ECS实例与OSS之间有频繁的文件上传和下载需求。系统管理员小赵最近通过阿里云管理控制台中的费用中心发现OSS的流量费用增长很快，但是从ECS实例上部署的应用系统日志里没有发现网站访问量有明显增长。 请您帮小赵判断一下有可能是<strong><strong>_</strong></strong>原因导致的。</font></p><ul><li><span style="color:#333">A.系统架构中缺少云数据库RDS</span></li><li><strong><span style="color:#4CAF50">B.可能是ECS实例通过公网地址调用OSS的API</span></strong></li><li><span style="color:#333">C.ECS实例的系统配置不足,需要增加内存</span></li><li><span style="color:#333">D.系统架构中缺少负载均衡SLB</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中说：ECS和OSS之前有频繁的上传和下载的需求，但是ECS的访问量很小，但公网流量增长却很快，所以可以判断是ECS通过公网API访问OSS导致的公网流量。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">243. 阿里云OSS图片处理服务（Image Service） 是阿里云OSS对外提供的图片处理服务。用户将原始图片上传保存在OSS上，通过简单的RESTful接口，可以在任何时间、任何地点、任何互联网设备上对图片进行处理。以下有关OSS图片处理服务说法正确的<strong><strong>____</strong></strong>。</font></p><ul><li><span style="color:#333">A.可以处理来自于阿里云OSS以外的图片</span></li><li><span style="color:#333">B.处理完的图片会保存在OSS中</span></li><li><strong><span style="color:#4CAF50">C.处理的图片是OSS用户上传到Bucket里的Object</span></strong></li><li><span style="color:#333">D.其它答案都正确</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>图片处理第一步就是需要将图片上传到用户指定的Bucket，所以处理图片是基于Bucket里面的图片文件来处理的。处理完的图片并不会保存到OSS，而是直接返回给请求的用户。参考链接：<a href="https://help.aliyun.com/document_detail/44686.html?spm=a2c4g.11186623.2.14.59cb2367diNmNh#conceptm4fdcnvdb" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/44686.html?spm=a2c4g.11186623.2.14.59cb2367diNmNh#conceptm4fdcnvdb</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">244. 阿里云对象存储OSS支持分块上传操作，即可以将大文件进行分块处理后再分别上传，该操作适合在上传大文件或者网络较差的情况下使用。在分块上传的所有任务完成之后，如果没有调用Complete Multipart Upload接口，就会产生一些不完整的文件，这些不完整的文件会占用用户bucket的空间。为了方便用户删除这些不完整的文件，OSS专门提供了<strong>___</strong>功能。</font></p><ul><li><span style="color:#333">A.在线批量删除</span></li><li><span style="color:#333">B.OpenAPI批量删除</span></li><li><span style="color:#333">C.Bucket清空</span></li><li><strong><span style="color:#4CAF50">D.碎片管理</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>题目中说了需要删除不完整的碎片文件，所以需要用到碎片管理功能来删除这些不完整的文件。参考链接：<a href="https://help.aliyun.com/document_detail/31916.html?spm=5176.10695662.1996646101.searchclickresult.40113f03tJCrFU" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31916.html?spm=5176.10695662.1996646101.searchclickresult.40113f03tJCrFU</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">245. 某企业购买了一个负载均衡SLB实例，该实例下挂载了多台云服务器ECS实例，每个ECS实例上都部署了多个不同的站点，并使用不同域名访问。现在负载均衡SLB实例可以通过配置<strong>____</strong>来实现对同一台ECS实例上不同站点的健康检查。</font></p><ul><li><strong><span style="color:#4CAF50">A.主机头（Http Host）</span></strong></li><li><span style="color:#333">B.ECS实例的IP和端口号</span></li><li><span style="color:#333">C.会话保持使用的协议</span></li><li><span style="color:#333">D.站点首页的URL</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>一个负载均衡实例最多支持添加50个监听，每个监听配置对应后端ECS实例上的一个应用。您可以通过对后端ECS实例上的多个应用配置不同主机头的方式来满足这一需求。参考链接：<a href="https://help.aliyun.com/document_detail/27678.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27678.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">246. 某企业的网站构建在阿里云的云服务器ECS实例、负载均衡SLB实例以及弹性伸缩（Auto Scaling）之上，其中负载均衡SLB实例已和弹性伸缩绑定，且已开启健康检查。负载均衡检SLB实例检查出后端云服务器ECS实例ecs_inst1处于不健康状态，且ecs_inst1在弹性伸缩的伸缩组中。以下说法中正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.弹性伸缩的弹性自愈功能将会把ecs_inst1移出当前伸缩组，且会新创建一个ECS实例添加进来，该新添加实例会被SLB实例分配负载</span></strong></li><li><span style="color:#333">B.负载均衡SLB实例会将ecs_inst1的权重置为0，暂时不分配负载给它，但是会继续通过健康检查监控ecs_inst1的状态，一旦恢复，则将其重新启用，正常分配负载</span></li><li><span style="color:#333">C.弹性伸缩的弹性自愈功能将会针对ecs_inst1启动错误检查和自动恢复功能，如果修复成功，ecs_inst1状态恢复正常，则会继续留在伸缩组中，且会被负载均衡SLB实例分配负载</span></li><li><span style="color:#333">D.弹性伸缩会自动创建一个新的ECS实例，并将该新实例添加到伸缩组，接收负载均衡SLB实例分配的负载，ecs_inst1将会被保留在伸缩组中，等其状态恢复正常后，将会被继续加入SLB实例的后台服务器池</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>健康检查检查出云服务器ECS实例ecs_inst1处于不健康状态，则会将ecs_inst1移出伸缩组且会重新创建一个新的ECS实例来代替ecs_inst1，同时将其加入负载均衡SLB后端并给其分发请求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">247. 在使用阿里云负载均衡SLB的管理控制台时，如果需要添加某台云服务器ECS实例到某负载均衡SLB实例的后端服务器池中，ECS实例必须处于<strong>____</strong>状态。</font></p><ul><li><strong><span style="color:#4CAF50">A.运行中</span></strong></li><li><span style="color:#333">B.启动中</span></li><li><span style="color:#333">C.已停止</span></li><li><span style="color:#333">D.已创建</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>手动添加负载均衡SLB的后端服务器的时候，后端的ECS服务器必须处于运行中状态。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">248. SLB是将访问流量根据转发策略分发到后端多台云服务器（ECS实例）的流量分发控制服务。下列关于SLB说法错误的是？</font></p><ul><li><span style="color:#333">A.SLB的服务能力与后端ECS的公网宽带规格无关</span></li><li><strong><span style="color:#4CAF50">B.同一组ECS不可以搭建多个网站并同时进行负载均衡</span></strong></li><li><span style="color:#333">C.在使用SLB的过程中随时调整后端ECS的数目</span></li><li><span style="color:#333">D.不同操作系统的ECS可以同时做为SLB服务的后端服务器</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>同一组ECS可以同时搭建多个网站并进行负载均衡。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">249. 负载均衡支持按带宽计费的负载均衡实例下的所有监听共享实例的总带宽,假如您购买了一个带宽峰值为 10MB 的负载均衡实例，并在该实例下创建了三个监听（监听A、监听B和监听C）。监听A的带宽峰值设置为 4MB，另外两个监听没有设置带宽峰值，如果监听A和监听C一直没有流量进入，那么关于监听B的说法，以下说法正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.监听B最多也只能跑满 6MB 带宽</span></strong></li><li><span style="color:#333">B.监听B最多也只能跑满4MB 带宽</span></li><li><span style="color:#333">C.监听B最多也只能跑满10MB 带宽</span></li><li><span style="color:#333">D.监听B最多也只能跑满14MB 带宽</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>监听A的4MB带宽不管用不用都会预留出来的，所以监听B最大只能跑满6MB的带宽。参考链接：<a href="https://help.aliyun.com/document_detail/85930.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85930.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">250. 阿里云的负载均衡SLB提供对多台后端服务器进行流量分发的服务。对于后端服务器的选择，以下说法中正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.只能是阿里云的云服务器ECS实例</span></strong></li><li><span style="color:#333">B.所有能通过公网访问的服务器均可</span></li><li><span style="color:#333">C.所有阿里云的云产品实例</span></li><li><span style="color:#333">D.支持AWS的EC2</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云的负载均衡SLB目前只支持阿里云的云服务器ECS实例，不支持其他服务器。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">251. 某创业团队刚刚成立，几个核心的程序员分布在5个不同的城市异地办公，新发布的线上系统使用了阿里云的云数据库RDS。 由于程序员需要在异地用动态IP连接RDS，所以管理员只能打开RDS的公网连接地址和端口，并每天多次从管理控制台查看RDS的连接信息，防止黑客远程登录RDS。 管理员通过<strong><strong>___</strong></strong>方法可以最简单地降低这种担忧和人工防护的成本。</font></p><ul><li><strong><span style="color:#4CAF50">A.开通云盾态势感知服务，一旦有非常用IP登录数据库rds即可收到报警信息</span></strong></li><li><span style="color:#333">B.开通云盾DDoS基础防护，可以防止RDS被非法登录</span></li><li><span style="color:#333">C.开启阿里云云监控，一旦发现RDS外网流量特别大就立即登录控制台查看是否是非法连接</span></li><li><span style="color:#333">D.内容安全（原名:绿网），可以自动过滤非法的连接</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中说了：在异地用动态IP连接RDS。意思就是程序员登录RDS的IP是不固定的，DDoS基础防护只可以防护DDoS的攻击，云监控在每次都要查看非法IP也不合适，阿里绿网并不能知道什么的非法的连接。所以最合适的还是用态势感知服务的报警服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">252. 采用云计算服务与传统自建IT系统不同，相比传统自建方式，云计算带来了巨大的便利性。以阿里云服务器ECS为例，这些便利性中不包括？</font></p><ul><li><span style="color:#333">A.用户无需再去维护和管理硬件</span></li><li><span style="color:#333">B.获得服务器实例在几分钟内而不是数天数周</span></li><li><strong><span style="color:#4CAF50">C.用户无需参与任何安全管理工作</span></strong></li><li><span style="color:#333">D.用户按照需要获得计算量而不是按照峰值设计</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>用户虽然不用管理维护硬件，但是仍然需要参加云计算的安全管理工作。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">253. 阿里云的云盾安骑士可以记录远程访问服务器的源IP地址,并对频繁连接的可疑IP进行屏蔽,日常运维过程中需要通过<strong>____</strong>功能对系统管理员常用的IP进行设置。</font></p><ul><li><span style="color:#333">A.安全组</span></li><li><span style="color:#333">B.webshell云查杀</span></li><li><strong><span style="color:#4CAF50">C.IP白名单</span></strong></li><li><span style="color:#333">D.常用登录地管理</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中明确说了对频繁连接的可疑IP进行屏蔽，所以通过IP白名单直接只允许指定的IP访问即可。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">254. 阿里云弹性伸缩(Auto Scaling)是根据用户的业务需求和策略,自动调整其弹性计算资源的管理服务。为了在弹性伸缩创建的ECS实中可以直接正常处理用户请求,无需任何额外的系统调度和配置,弹性伸缩的云服务器ECS实例中部署的应用必须满足<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.无状态且可横向扩展的</span></strong></li><li><span style="color:#333">B.有状态</span></li><li><span style="color:#333">C.无状态且符合幂等性</span></li><li><span style="color:#333">D.所有数据保存在ECS实例磁盘上</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩主要是ECS的横向伸缩，同时也是服务的横向伸缩，弹性伸缩要求每台ECS是无状态的，否则不能保证数据的统一。参考链接：<a href="https://kyfxbl.iteye.com/blog/1831869" target="_blank" rel="noopener">https://kyfxbl.iteye.com/blog/1831869</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">255. 在使用阿里云弹性伸缩(Auto Scaling)时,需要先创建伸缩组,然后会基于伸缩组提供按照策略或者业务需求弹性伸缩计算资源的服务。当某个伸缩组不再使用时,可以将其删除,其中<strong>____</strong>不依赖于伸缩组的生命周期,即不会随着伸缩组的删除而被删除。</font></p><ul><li><strong><span style="color:#4CAF50">A.定时任务</span></strong></li><li><span style="color:#333">B.伸缩配置</span></li><li><span style="color:#333">C.伸缩规则</span></li><li><span style="color:#333">D.伸缩活动</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>定时任务独立于伸缩组存在，不依赖伸缩组的生命周期管理，删除伸缩组不会删除定时任务；云监控报警任务独立于伸缩组存在，不依赖伸缩组的生命周期管理，删除伸缩组不会删除报警任务。参考链接：<a href="http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/autoscalingproductdescriptioncnzh20170407.pdf" target="_blank" rel="noopener">http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/autoscalingproductdescriptioncnzh20170407.pdf</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">256. 您基于阿里云的云服务器ECS实例部署了Mysql数据库,随着业务量的不断上涨,您的运维工作不断增加,包括数据库的备份、主备数据库之间的数据同步等问题,可以采用阿里云的<strong>____</strong>产品来快速解决该问题。</font></p><ul><li><span style="color:#333">A.表格存储</span></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.开放搜索服务OpenSearch</span></li><li><span style="color:#333">D.对象存储OSS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中是因为在云服务器ECS上部署了MySQL服务，随着业务上涨导致MySQL的运维工作繁重，所以需要使用云数据库RDS的功能来快速解决问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">257. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。可以广泛应用于各种场景。例如:图片和音视频类应用的海量存储、静态网站、应用中的静态网页。以下<strong>____</strong>场景适合使用OSS服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.客户A是一个网店老板,每天产生10Gb的高清图片,需要稳定可靠的存储</span></strong></li><li><span style="color:#333">B.客户B的一个在线应用,采用自建MySQL数据库保存订单信息,该应用每天产生2000万条订单数据,预计2周后存储容量达到服务器上限,希望通过阿里云产品解决订单存储问题</span></li><li><span style="color:#333">C.客户C想对当前业务系统积累了5年的数据进行数据挖掘,为新财年的营销策略制定提供数据支持</span></li><li><span style="color:#333">D.客户D的小型电子商务系统由于业务量爆增,计算能力明显不足,每天业务高峰期时服务器的CPU利用率都超过90%,正在寻找优化方案</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS仅适合存放静态非结构化数据，所以数据库的数据是不行的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">258. 云计算的一个显著特点是提供按需供应、按需付费的服务。所有的资源以资源池的方式存在，提供配置化的访问方式，资源类型包括网络、服务器、存储、应用和服务。关于资源池的说法错误的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.资源池无法突破单台物理机所拥有的资源</span></strong></li><li><span style="color:#333">B.资源池包含了多个相同类型的资源</span></li><li><span style="color:#333">C.资源池是实现计算服务化的基础</span></li><li><span style="color:#333">D.不同的资源池有不同的资源池优化方法</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>资源池的解释：云计算的核心理念就是通过互联网络为用户提供按需的IT资源服务。为了达到这个目标，云服务提供商首先要保证拥有一个容量充足的资源池以满足在并发的业务高峰时刻仍能满足用户的服务要求。参考链接：<a href="http://book.51cto.com/art/201202/319793.htm" target="_blank" rel="noopener">http://book.51cto.com/art/201202/319793.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">259. 当您确认不再需要某个阿里云的弹性公网IP（EIP）时，可以释放指定的EIP。在释放EIP之前，要确定已经从云产品实例上解绑EIP，才能释放该EIP。</font></p><ul><li><strong><span style="color:#4CAF50">A.对 </span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>EIP解绑后，仍需要支付IP占有费。为避免不必要的计费，您可以在解绑后，释放EIP。参考链接：<a href="https://help.aliyun.com/document_detail/65204.html?spm=5176.11065259.1996646101.searchclickresult.45406047N0LbzN" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/65204.html?spm=5176.11065259.1996646101.searchclickresult.45406047N0LbzN</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">260. 共享存储是指是多台服务器访问(读写)同一个存储设备的同一个分区,即系统允许多个用户共享同一份文件。如阿里云的文件存储（Network Attached Storage,简称NAS）就提供了共享存储的服务,以下说法错误的是?</font></p><ul><li><span style="color:#333">A.多个云服务器实例可以同时访问同一个共享文件系统</span></li><li><strong><span style="color:#4CAF50">B.公共云计算中使用的存储都是共享存储</span></strong></li><li><span style="color:#333">C.适合跨多个云服务器实例部署的应用程序访问相同数据来源的应用场景</span></li><li><span style="color:#333">D.支持主流的应用程序及工作负载可无缝配合使用,无需任何修改即可读写数据</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>公共云计算中使用的存储并非是共享存储，而是分布式的私有存储。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">261. 阿里云的云盾态势感知用大数据分析技术,按攻击者的视角来建立安全防御体系,颠覆了传统单一的入侵和漏洞检测,让用户对安全“可见、可控、可管”。 以下关于态势感知功能的描述错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.可以发现webshell,恶意病毒攻击</span></li><li><span style="color:#333">B.利用大数据,可对高级攻击者使用的0day漏洞攻击进行防御</span></li><li><span style="color:#333">C.实时捕捉云服务器ECS实例中的网络连接,利用情报信息做异常识别,发现僵尸网络</span></li><li><strong><span style="color:#4CAF50">D.是一个针对阿里云服务器ECS的托管服务</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>态势感知是对云上资产的诊断服务，服务器安全托管服务才是对ECS的托管。参考链接：<a href="https://help.aliyun.com/document_detail/73743.html?spm=5176.10695662.1996646101.searchclickresult.4dbe2d4cca0F6H" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/73743.html?spm=5176.10695662.1996646101.searchclickresult.4dbe2d4cca0F6H</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">262. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，可以扩展应用系统对外的服务能力，并且可以消除单点故障提升应用系统的可用性。结合<strong>____</strong>共同使用，可以提供WAF及防DDoS攻击能力，使应用环境更安全。</font></p><ul><li><strong><span style="color:#4CAF50">A.云盾的DDoS高防IP</span></strong></li><li><span style="color:#333">B.云监控</span></li><li><span style="color:#333">C.云盾的态势感知</span></li><li><span style="color:#333">D.云盾的先知计划</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>WAF解释为Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF），DDoS高防IP也是支持Web应用DDoS攻击防护，支持过滤多种flood，高频攻击等攻击，支持HTTP特征过滤、URI过滤、host过滤。参考链接：<a href="https://help.aliyun.com/document_detail/28465.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28465.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">263. 阿里云弹性伸缩(Auto Scaling),是根据用户的业务需要和策略,自动调整其弹性计算资源的管理服务。支持用户添加已有的云服务器ECS实例到伸缩组中去,但是对云服务器ECS实例所在地域有一定要求。以下说法中正确的是?</font></p><ul><li><strong><span style="color:#4CAF50">A.该实例和伸缩组必须在同一个地域(Region)中,对可用区(Zone)没有要求</span></strong></li><li><span style="color:#333">B.该实例和伸缩组必须在同一个地域(Region)的同一个可用区(Zone)中</span></li><li><span style="color:#333">C.对该实例和伸缩组的地域(Region)和可用区(Zone)没有要求,</span></li><li><span style="color:#333">D.一个伸缩组最多可以跨两个地域(Region),添加完ECS实例后,要保证伸缩组中的所有ECS实例所在的区域不超过两个</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>添加的ECS需要和伸缩组处于同一个地域(Region)</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">264. 在使用阿里云弹性伸缩(Auto Scaling)时，伸缩组中包含的云服务器ECS实例有两种类型，一种是根据用户的伸缩配置和伸缩规则由弹性伸缩服务自动创建的云服务器ECS实例，另外一种是由用户手工添加到伸缩组中的ECS实例。关于这两种云服务器ECS实例，以下说法正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.当ECS实例被弹性伸缩从伸缩组中移出时，对于自动创建的ECS实例会停止和释放，对于手工添加的ECS实例则不会停止和释放</span></strong></li><li><span style="color:#333">B.手工添加的ECS实例，受伸缩配置中定义的规格的限制</span></li><li><span style="color:#333">C.手工添加的ECS实例对地域没有要求，但是对状态有要求，必须是“运行中”</span></li><li><span style="color:#333">D.当伸缩组需要减少ECS实例时，自动创建的ECS实例会被优先移出伸缩组，手工添加的ECS实例会被尽量保留</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>手动添加一台或多台 ECS 实例。手动添加的ECS实例配置与当前伸缩配置没有关联。但是手工添加的ECS需要和当前伸缩组处于同一个地域。参考链接：<a href="https://help.aliyun.com/document_detail/25901.html?spm=5176.11065259.1996646101.searchclickresult.29e7210cJXOcUz" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25901.html?spm=5176.11065259.1996646101.searchclickresult.29e7210cJXOcUz</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">265. 某大型互联网公司，原来的业务都运行在物理机上，并且有自建的监控和报警系统，最近准备把一部分业务迁到阿里云上，并通过云监控来监控云服务器ECS实例并设置报警。用户需要<strong><strong>___</strong></strong>才能快速将云监控现有的报警通知对接到自建的报警系统，并在自建的报警系统中综合处理物理机和云服务器ECS实例的报警信息。</font></p><ul><li><span style="color:#333">A.无法实现</span></li><li><span style="color:#333">B.使用云监控提供的事件订阅功能，从消息队列消费报警信息</span></li><li><strong><span style="color:#4CAF50">C.调用云监控提供的查询数据的接口，定时查询，然后自己写code判断指标是否异常</span></strong></li><li><span style="color:#333">D.调用查询旺旺信息的API，获取发送到旺旺的报警通知</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说了需要”在自建的报警系统中综合处理物理机和云服务器ECS实例的报警信息”，所以需要通过云监控提供的API接口获取指定的指标数据。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">266. 您成功地创建了一台阿里云的云服务器ECS实例,准备进行应用的部署。在部署应用之前,如何保证该云服务器ECS实例具备防御500M以内的DDoS攻击的能力？</font></p><ul><li><span style="color:#333">A.其他都不对</span></li><li><span style="color:#333">B.需要您自己架设防DDoS服务</span></li><li><strong><span style="color:#4CAF50">C.阿里云的云盾产品提供免费的基础DDoS防护服务,不需要单独购买</span></strong></li><li><span style="color:#333">D.需要另行购买DDoS防护服务才可以具备防护功能</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>阿里云的云盾免费的DDoS基础防护提供最高5G的默认DDoS防护能力，所以5G以下可以选择云盾DDoS基础防护，5G以上可以选择云盾的DDoS高防IP服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">267. 在使用阿里云弹性伸缩(Auto Scaling)时,希望能根据计算资源的使用情况来增加或者减少云服务器ECS实例,如当CPU利用率小于等于30%时则减少一台云服务器ECS实例,首先配置伸缩规则为“减少1台ECS”,然后还需要<strong>____</strong>来实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.创建报警任务</span></strong></li><li><span style="color:#333">B.设置伸缩组的属性</span></li><li><span style="color:#333">C.创建定时任务</span></li><li><span style="color:#333">D.创建伸缩配置</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：当CPU利用率小于等于30%时则减少一台云服务器ECS实例。只有达到这个条件才去执行，所以这就是一个报警任务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">268. 在众多的网络攻击类型中，“钓鱼网站”是最常见的攻击之一。钓鱼网站的页面看上去与真实网站界面完全一致，要求访问者提交账号和密码，以此来骗取用户银行或信用卡账号、密码等私人资料。以下有关钓鱼网站的传播手段，说法错误的是<strong><strong>__</strong></strong>。</font></p><ul><li><span style="color:#333">A.通过QQ、旺旺等客户端聊天工具发送传播钓鱼网站链接</span></li><li><span style="color:#333">B.在搜索引擎、中小网站投放广告，吸引用户点击钓鱼网站链接</span></li><li><strong><span style="color:#4CAF50">C.银行在官方网站的显著位置发布钓鱼网站链接</span></strong></li><li><span style="color:#333">D.通过Email、论坛、博客、SNS网站批量发布钓鱼网站链接</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>钓鱼网站不会在银行的官方网站发布钓鱼链接，参考链接：<a href="https://help.aliyun.com/knowledge_detail/56273.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/56273.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">269. 您成功地创建了一台阿里云的云服务器ECS实例，准备进行应用的部署。在部署应用之前，如何保证该云服务器ECS实例具备防御500M以内的DDoS攻击的能力？</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云的云盾产品提供免费的基础DDoS防护服务，不需要单独购买</span></strong></li><li><span style="color:#333">B.需要另行购买DDoS防护服务才可以具备防护功能</span></li><li><span style="color:#333">C.需要您自己架设防DDoS服务</span></li><li><span style="color:#333">D.其他都不对</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>DDoS基础防护的防护阈值只有5GB，需要防护阈值在5GB以上的话或者要保证保证业务需要保持在99.9以上，就需要用到DDoS高防IP服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">270. 您需要进行某台云服务ECS实例的磁盘快照的创建，只有该云服务器ECS实例处于<strong>____</strong>状态下时才可以进行快照创建的操作。</font></p><ul><li><span style="color:#333">A.启动中</span></li><li><span style="color:#333">B.创建中</span></li><li><strong><span style="color:#4CAF50">C.运行中</span></strong></li><li><span style="color:#333">D.停止中</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>注意停止中和已停止的区别，根据实例创建快照时，实例必须处于 运行中 或 已停止 状态。参考链接：<a href="https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.230e3e7fXP17FX" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.230e3e7fXP17FX</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">271. 通过<strong>____</strong>操作，可以实现在阿里云的同一个专有网络VPC下的三个交换机下的云服务器ECS实例之间内网互相不能访问，但并不影响该专有网络VPC的内网其他流量？</font></p><ul><li><strong><span style="color:#4CAF50">A.创建三个安全组，分别包含三个交换机下的所有云服务器ECS实例，先为每个安全组设置允许所有网段访问的规则，再设置禁止另外两个交换机所在网段访问的规则（优先级要高于前者）</span></strong></li><li><span style="color:#333">B.创建三个安全组，分别包含三个交换机下的所有云服务器ECS实例，先为每个安全组设置允许所有网段访问的规则，再设置禁止另外两个交换机所在网段访问的规则（优先级要低于前者）</span></li><li><span style="color:#333">C.创建一个安全组包含三个交换机下的所有云服务器ECS实例，先为该安全组设置允许所有网段访问的规则，再设置禁止另外两个交换机所在网段访问的规则（优先级要高于前者）</span></li><li><span style="color:#333">D.其他答案都不对</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：三个交换机下的云服务器ECS实例之间内网互相不能访问，所以需要三个安全组，安全组中禁止访问的规则需要高于允许访问的规则。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">272. A公司将最近两年的内部培训录像都保存在阿里云对象存储OSS中，以方便员工在需要的时候学习。随着智能手机的普及，很多员工希望通过手机来观看视频，但是保存在OSS中的视频格式无法在手机上直接播放，遇到这种问题时客户可以使用阿里云的<strong>____</strong> 产品很高效地解决。</font></p><ul><li><span style="color:#333">A.云服务器ECS</span></li><li><strong><span style="color:#4CAF50">B.阿里云媒体转码（Media Transcoding，简称MTS）</span></strong></li><li><span style="color:#333">C.云数据库RDS</span></li><li><span style="color:#333">D.负载均衡SLB</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：OSS中的视频格式无法在手机上直接播放，所以需要用到视频解码来解决直接播放的问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">273. 服务器安全托管是阿里云云盾的一项高级服务,服务内容包括专家人工安全体检、清除木马,VIP 技术支持等,此服务是针对阿里云<strong>____</strong>产品提供的。</font></p><ul><li><span style="color:#333">A.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS</span></strong></li><li><span style="color:#333">C.负载均衡SLB</span></li><li><span style="color:#333">D.专有网络VPC</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：服务器安全托管服务，服务器安全托管是由阿里云/阿里云授权安全合作伙伴为您提供的针对云上ECS主机的安全托管服务。参考链接：<a href="https://help.aliyun.com/document_detail/73743.html?spm=5176.10695662.1996646101.searchclickresult.37f44934pPA3sR" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/73743.html?spm=5176.10695662.1996646101.searchclickresult.37f44934pPA3sR</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">274. 跨站脚本攻击（Crosssite scripting，通常简称为XSS）可被用于进行窃取隐私、钓鱼欺骗、偷取密码、传播恶意代码等攻击行为。请问XSS攻击主要发生在<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.用户浏览器</span></strong></li><li><span style="color:#333">B.WEB应用的服务器</span></li><li><span style="color:#333">C.数据库</span></li><li><span style="color:#333">D.缓存服务器</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>XSS, 即为（Cross Site Scripting）, 中文名为跨站脚本, 是发生在目标用户的浏览器层面上的，当渲染DOM树的过程成发生了不在预期内执行的JS代码时，就发生了XSS攻击。参考链接：<a href="https://www.cnblogs.com/unclekeith/p/7750681.html" target="_blank" rel="noopener">https://www.cnblogs.com/unclekeith/p/7750681.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">275. 某公司属于传统行业，一年前刚刚发展互联网线上业务，用了5台云服务器ECS实例，没有专门的系统管理员，最近半年来线上系统总是出现各种安全问题，几次高危漏洞被黑客利用，差点将核心数据泄露。使用阿里云的<strong><strong>__</strong></strong>可以快速解决这个问题。</font></p><ul><li><span style="color:#333">A.安骑士</span></li><li><strong><span style="color:#4CAF50">B.安全管家</span></strong></li><li><span style="color:#333">C.内容安全（原名：绿网）</span></li><li><span style="color:#333">D.DDoS高防IP</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：没有专门的系统管理员。所以需要用到阿里云的安全管家服务来托管公司的ECS服务器。参考链接：<a href="https://help.aliyun.com/document_detail/31742.html?spm=a2c4g.11186623.6.542.47cd3609wWEKtX" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31742.html?spm=a2c4g.11186623.6.542.47cd3609wWEKtX</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">276. 小王是某新闻网站的技术负责人，该网站目前部署在一台阿里云的云服务器ECS实例上。随着用户访问量的增加，小王发现用户访问网站的响应速度在变慢，通过分析发现是应用服务器的Web会话数量太多且CPU利用率超过75%。为了快速缓解该应用服务器的压力，您认为最紧要的事情是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.增加一台云服务器ECS实例，并采用负载均衡SLB进行负载分担</span></strong></li><li><span style="color:#333">B.采用云数据库RDS进行新闻数据存储</span></li><li><span style="color:#333">C.采用对象存储OSS进行内容的存储</span></li><li><span style="color:#333">D.采用专有云VPC提升运维效率</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：应用服务器的CPU利用率超过75%，所以需要增加ECS来减轻这台服务器的压力，同时需要通过负载均衡SLB来实现他们的负载分担。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">277. 您在阿里云的云服务器ECS实例的使用中，要创建新的安全组规则时，不可以规定<strong>____</strong>类型的授权。</font></p><ul><li><span style="color:#333">A.IP授权</span></li><li><span style="color:#333">B.端口授权</span></li><li><strong><span style="color:#4CAF50">C.MAC授权</span></strong></li><li><span style="color:#333">D.安全组授权</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>安全组规则是不支持MAC授权的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">278. 阿里云的云服务器ECS实例的快照是指某一个时间点上某一块磁盘的数据拷贝。下列关于云服务器ECS实例快照的说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.用户可以手动创建快照和也可以设置自动快照策略</span></li><li><strong><span style="color:#4CAF50">B.可以保留自动快照到用户自己的OSS Bucket中</span></strong></li><li><span style="color:#333">C.系统盘和数据盘都可以制作快照</span></li><li><span style="color:#333">D.云服务器ECS实例到期后或手动释放磁盘时，手动创建的快照不会同时释放</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>自动快照是保存在OSS里面，但是是保存在独立于用户自己的OSS Bucket里面，而不是用户的Bucket里面。参考链接：<a href="https://help.aliyun.com/knowledge_detail/52045.html?spm=5176.11065259.1996646101.searchclickresult.79392606dQMy0U" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/52045.html?spm=5176.11065259.1996646101.searchclickresult.79392606dQMy0U</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">279. 如果您需要对某个域名(如abc.com)通过阿里云内容分发网络CDN加速，必须要在CDN服务中将该域名（如abc.com）添加到“加速域名”中。添加完成之后您会获得一个CNAME地址A，接下来需要进行域名解析的修改，将该加速域名(如abc.com)指向这个CNAME地址A。以下有关修改域名解析的说法中错误的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.该加速域名（如abc.com）所使用的DNS系统必须支持“智能解析”功能</span></strong></li><li><span style="color:#333">B.“加速域名”使用的解析服务商可以是阿里云以外的公司</span></li><li><span style="color:#333">C.如果您的“加速域名”提前转移到阿里云，且在同一个阿里云帐号下管理，可以实现一键修改解析</span></li><li><span style="color:#333">D.为“加速域名”分配的CNAME地址指向的具体IP地址，由阿里云CDN系统智能控制</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云以外的公司的公司也可以提供解析。参考链接：<a href="https://help.aliyun.com/document_detail/27101.html?spm=a2c4g.11186623.6.542.4d9379c6aKHBPc" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27101.html?spm=a2c4g.11186623.6.542.4d9379c6aKHBPc</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">280. 当您的云服务器ECS实例的镜像选择了Aliyun Linux，可以兼容以下<strong>____</strong>操作系统。</font></p><ul><li><strong><span style="color:#4CAF50">A.CentOS</span></strong></li><li><span style="color:#333">B.Windows Server 2008</span></li><li><span style="color:#333">C.OpenSUSE</span></li><li><span style="color:#333">D.UBUNTU</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>Aliyun Linux和Centos都属于RedHat一家的。兼容Red Hat。其中包括（Red Hat Enterprise Linux， Fedora，CentOS，Scientific Linux， Oracle Linux），参考：<a href="https://blog.csdn.net/wangjianno2/article/details/51607847" target="_blank" rel="noopener">https://blog.csdn.net/wangjianno2/article/details/51607847</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">281. 阿里云弹性伸缩(Auto Scaling)中，伸缩组是一组部署了相同应用的云服务器ECS实例的集合。以下关于伸缩组的说法中正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.当伸缩组对应的伸缩规则的条件触发后，弹性伸缩会根据设定的伸缩规则添加或者减少伸缩组中的云服务器ECS实例</span></strong></li><li><span style="color:#333">B.伸缩组是云服务器ECS实例的资源池，当实际应用中需要添加计算资源时，会从伸缩组中获取可用的ECS实例，添加到应用中去</span></li><li><span style="color:#333">C.伸缩组是云服务器ECS实例的资源池，弹性伸缩会预先创建一定数量的云服务器ECS实例放在伸缩组中</span></li><li><span style="color:#333">D.伸缩组是监控的目标，其中的云服务器ECS实例，必须是由阿里云弹性伸缩基于相同的镜像自动创建的</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云弹性伸缩（Auto Scaling）的基础知识。服务器ECS实例可以是自己创建，也可以自动添加闲置的云服务器ECS资源。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">282. 阿里云对象存储OSS提供了海量的文件存储能力，对于文件管理除了支持简单上传、断点续传和大文件分片上传功能外，还提供了多种删除文件的功能。如果需要删除的Object数目很多，而且删除的Object是有一定的规律，比如定期删除某些天之前的Object，或者干脆是要清空整个Bucket，特别适合使用哪个功能来完成？</font></p><ul><li><span style="color:#333">A.管理控制台逐个删除</span></li><li><span style="color:#333">B.管理控制台批量删除</span></li><li><strong><span style="color:#4CAF50">C.生命周期管理</span></strong></li><li><span style="color:#333">D.通过OpenAPI逐个删除</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说需要比如定期删除某些天之前的Object，所以可以通过生命周期管理来管理最合适。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">283. 阿里云OSS产品的账单费用由三部分组成，包括：存储空间费用、流量费用和OSS API请求费用。 每一次对OSS的操作都算作一次API请求，上传文件是PUT请求，下载文件是GET请求。OSS API请求费用的付费方式支持<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.包年包月和按量付费</span></li><li><strong><span style="color:#4CAF50">B.只有按量付费</span></strong></li><li><span style="color:#333">C.只有包年包月</span></li><li><span style="color:#333">D.按天计费和按量付费</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS每小时结算一次调用 OSS API 的请求费用。目前只支持按量付费：每万次请求的单价 * 每小时实际请求次数/10000。参考链接：<a href="https://help.aliyun.com/document_detail/59636.html?spm=a2c4g.11186623.6.548.680065d3CgLSml" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/59636.html?spm=a2c4g.11186623.6.548.680065d3CgLSml</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">284. 阿里云OSS产品的账单费用由三部分组成，包括：存储空间费用、流量费用和OSS API请求费用。其中存储费用是根据应用所占用的存储空间的大小计费，存储费用的付费方式支持<strong>___</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.包年包月和按量付费</span></strong></li><li><span style="color:#333">B.只有按量付费</span></li><li><span style="color:#333">C.只有包年包月</span></li><li><span style="color:#333">D.按天计费和按量付费</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>存储费用支持包年包月和按量付费。参考链接：<a href="https://help.aliyun.com/document_detail/59636.html?spm=a2c4g.11186623.6.548.360865d3QTUWbW#h2url3" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/59636.html?spm=a2c4g.11186623.6.548.360865d3QTUWbW#h2url3</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">285. 某创业团队基于阿里云的产品构建了一个网盘应用，允许用户通过WEB方式进行文件的上传和下载。当前版本的实现方式是所有文件都保存在多台云服务器ECS实例的数据盘上。随着业务量的增长，ECS实例的数量也同步增加，系统整体的运维成本越来越高。如果用户开通阿里云的<strong>___</strong>产品与ECS实例搭配，可以很好地降低运维成本。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><strong><span style="color:#4CAF50">B.阿里云对象存储OSS</span></strong></li><li><span style="color:#333">C.内容分发网络CDN</span></li><li><span style="color:#333">D.关系型云数据库RDS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：保存在多台云服务器ECS实例的数据盘上，需要降低运维成本。所以需要把文件文件转存到对象存储OSS上面。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">286. 阿里云的负载均衡SLB是对多台后端服务器进行流量分发的服务。以下关于负载均衡SLB的说法正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.通过集群提供服务，具有高可靠性</span></strong></li><li><span style="color:#333">B.通过LVS提供七层负载均衡</span></li><li><span style="color:#333">C.通过Tengine提供四层负载均衡</span></li><li><span style="color:#333">D.负载均衡后端ECS实例数不得少于2</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>通过集群提供服务,具有高可用性(也可以说是可靠性)，SLB后端的实例数量并不强制要求是2个及以上。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">287. 阿里云负载均衡服务SLB支持用户可以同时设置实例维度上的“后端服务器”、监听维度上的“虚拟服务器组”和“转发规则”，那么当用户流量经过负载均衡某端口时，关于SLB判断流量转发的顺序，以下说法正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.先判断其是否能够匹配上某条“转发规则”，如果匹配，则将流量转发到该规则的后端服务器组上；</span></strong></li><li><span style="color:#333">B.先判断该监听上是否设置了虚拟服务器组，如何设置，那么将流量转发到该虚拟服务器组上；</span></li><li><span style="color:#333">C.先判断是否有实例维度上的“后端服务器”，如果存在，那么即将流量转发到实例级别添加的各后端服务器中</span></li><li><span style="color:#333">D.支持用户同时在这三个维度上的设置，但三者添加的服务器之间有约束关系，所以无需考虑转发顺序</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>注意以下描述的首先和其次的顺序：当用户流量经过负载均衡某端口时，我们首先判断其是否能够匹配上某条“转发规则”，如果匹配，则将流量转发到该规则的后端服务器组上；若不匹配并且在该监听上设置了虚拟服务器组，那么将流量转发到该虚拟服务器组上；若用户没有在该监听上设置虚拟服务器组，即将流量转发到实例级别添加的各后端服务器中。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">288. 阿里云负载均衡SLB在四层（TCP）转发时，设置了会话保持，在会话保持的超时时间内，以下说法中正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.来源IP地址相同的连接都会转发到同一台后端云服务器ECS实例上</span></strong></li><li><span style="color:#333">B.负载均衡SLB实例将自动以Session为单位进行转发，无需IP地址判断或者cookie信息辅助</span></li><li><span style="color:#333">C.客户端的请求中带有负载均衡SLB实例设置的cookie信息，负载均衡SLB实例会根据cookie中的信息判断是否来自同一会话，如果是，则转发到相同的ECS实例</span></li><li><span style="color:#333">D.采用testandset机制，负载均衡SLB实例先去检查后端ECS实例的内存中是否存在相同Session信息，如果某台ECS实例中存在，则转发至该ECS实例，如果所有ECS实例中都没有相关信息，则该请求被认为是某个Session的第一次连接，会按照转发规则转发给任意一台ECS实例</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>负载均衡SLB在四层（TCP）转发是是基于源IP的会话保持。四层会话保持的最长时间是3600秒。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">289. 新建阿里云的专有网络VPC时会自动创建一个路由器，路由器自带1个路由表。路由表的操作中说法错误的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.删除VPC时，系统会自动删除对应的路由表</span></li><li><span style="color:#333">B.不支持创建和删除路由表</span></li><li><strong><span style="color:#4CAF50">C.每个路由器可以有多个路由表</span></strong></li><li><span style="color:#333">D.路由表的路由条目会影响VPC中的所有云产品实例</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>路由器（VRouter）是专有网络的枢纽。作为专有网络中重要的功能组件，它可以连接VPC内的各个交换机，同时也是连接VPC和其他网络的网关设备。每个专有网络创建成功后，系统会自动创建一个路由器。每个路由器关联一张路由表。更多信息参见路由。参考链接：<a href="https://help.aliyun.com/document_detail/34217.html?spm=5176.11065259.1996646101.searchclickresult.7bd24885gu8yKH" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/34217.html?spm=5176.11065259.1996646101.searchclickresult.7bd24885gu8yKH</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">290. 您在阿里云的华东1（杭州）跟华北2（北京）都创建了专有网络VPC，通过<strong>____</strong>可以最快速的把华东1（杭州）跟华北2（北京）的VPC通过内网连接起来实现两地云服务器ECS实例可以互相访问。</font></p><ul><li><span style="color:#333">A.VPN</span></li><li><span style="color:#333">B.高速通道</span></li><li><span style="color:#333">C.专线</span></li><li><strong><span style="color:#4CAF50">D.其他答案都对</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>因为快速是相对的，高速通道、VPN以及专线的建立都是需要一定时间的。所以题目的意思不能说谁最快速，而是说怎么样能通过阿里云最快速实现这样的功能，所以三个都选。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">291. 关于用户使用阿里云专有网络VPC产品的费用，以下说法中错误的是<strong><strong>__</strong></strong>。</font></p><ul><li><span style="color:#333">A.专有网络VPC是一个免费的网络容器</span></li><li><strong><span style="color:#4CAF50">B.VPC中使用的弹性公网IP是免费的</span></strong></li><li><span style="color:#333">C.交换机是免费的</span></li><li><span style="color:#333">D.路由器是免费的</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性公网IP是收费的服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">292. 在创建阿里云的云产品实例时，可以选择默认类型的专有网络VPC和交换机，这两项配置确定了专有网络类型的云产品创建时在相应地域和可用区下唯一的默认网络位置，与非默认的专有网络VPC和交换机之间的区别主要在于默认类型的VPC和交换机只能由阿里云为您创建。下列关于默认专有网络VPC的描述错误的是<strong><strong>_</strong></strong>。</font></p><ul><li><span style="color:#333">A.每个地域的默认专有网络VPC唯一</span></li><li><strong><span style="color:#4CAF50">B.默认专有网络VPC与非默认专有网络VPC的操作方式与规格限制不一致</span></strong></li><li><span style="color:#333">C.默认专有网络VPC由阿里云为您创建，您自行创建的均为非默认专有网络VPC</span></li><li><span style="color:#333">D.默认专有网络VPC不占用阿里云为您分配的专有网络VPC配额</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>默认专有网络与非默认专有网络的操作方式与规格限制一致。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/65402.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/65402.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">293. 您的应用部署在阿里云的云服务器ECS实例上，想自己采集指标做应用层面的监控。阿里云提供的云监控服务的<strong>____</strong>功能可以提供指标收集、聚合和报警的服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.自定义监控</span></strong></li><li><span style="color:#333">B.站点监控</span></li><li><span style="color:#333">C.云服务监控</span></li><li><span style="color:#333">D.云监控无法满足</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>自定义监控中，用户可以针对自己关心的业务指标进行监控。参考链接：<a href="https://help.aliyun.com/document_detail/63767.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/63767.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">294. 防DDoS攻击是阿里云的云盾最主要的功能之一，为了帮助客户抵御不同规模的网络攻击，云盾提供了多种抗DDoS攻击的产品，其中“DDoS基础防护”的开通方法是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.联系客户经理线下开通</span></li><li><strong><span style="color:#4CAF50">B.自动开通</span></strong></li><li><span style="color:#333">C.需要从管理控制台申请开通</span></li><li><span style="color:#333">D.提交工单，24小时之内开通</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>DDoS基础防护是在云产品购买后自动开通的，无需手动开通。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">295. 用户A是公司的系统管理员，经常去上海出差，每当他在上海远程登录服务器时系统就会发出报警信息，提示“有人异地登录，请注意服务器安全”。通过<strong><strong>___</strong></strong>方法可以快速、自助解决这个问题。</font></p><ul><li><span style="color:#333">A.立即提交工单，咨询阿里云工程师</span></li><li><span style="color:#333">B.向公司领导请求帮助</span></li><li><strong><span style="color:#4CAF50">C.登录阿里云管理控制台，在安骑士配置项里填加“常用登录地点”</span></strong></li><li><span style="color:#333">D.向朋友电话求助，他是业界有名的黑客高手</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>题目中说的是系统管理员每次在上海出差时候远程登录服务器就会发出异地的报警信息，所以需要通过控制台的添加“常用登录地点”来解决这个报警信息的问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">296. 虚拟化（英语：Virtualization）是云计算的底层结构。它是一种资源管理技术，是将计算机的各种实体资源，如服务器、网络、内存及存储等，予以抽象、转换后呈现出来，打破实体结构间的不可切割的障碍，使用户可以比原本的组态更好的方式来应用这些资源。虚拟化架构描述错误的是以下哪个？</font></p><ul><li><span style="color:#333">A.虚拟化技术可以将单个CPU模拟成多个CPU</span></li><li><strong><span style="color:#4CAF50">B.虚拟机中的操作系统和物理机上的操作系统有着本质的区别</span></strong></li><li><span style="color:#333">C.虚拟化软件层模拟出来的每台虚拟机都是一个完整的系统</span></li><li><span style="color:#333">D.相比物理机，虚拟化可以提供更高的IT资源利用率和性能</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>排除法，虚拟机中的操作系统和物理机上的操作系统没有本质的区别。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">297. B公司运营着一个手机APP应用商店，类似Apple的AppStore，创业初期所有的软件包都存储在云服务器ECS实例的数据盘上。 从上个月开始，公司做了大量的推广，下载量增长了200倍，用户覆盖范围也从之前的一个省扩展到了全国。为了节约存储和带宽成本，同时又能提高用户下载速度，B公司选择阿里云的<strong>__</strong>产品组合，可达到最佳效果。</font></p><ul><li><span style="color:#333">A.弹性伸缩(Auto Scaling)+云服务器ECS</span></li><li><strong><span style="color:#4CAF50">B.对象存储OSS和内容分发网络CDN</span></strong></li><li><span style="color:#333">C.对象存储OSS和弹性伸缩(Auto Scaling)</span></li><li><span style="color:#333">D.对象存储OSS和云数据库RDS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：节约存储和带宽成本，使用对象存储OSS节省存储成本和带宽成本，提高用户下载速度，使用CDN来提高全国用户的下载速度。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">298. 阿里云的云盾加密服务采用<strong>____</strong>机制来保证密钥的安全。</font></p><ul><li><strong><span style="color:#4CAF50">A.符合国家密码管理局要求的算法</span></strong></li><li><span style="color:#333">B.符合银监会对密钥强度的要求</span></li><li><span style="color:#333">C.防篡改硬件密码机</span></li><li><span style="color:#333">D.国际通用密码算法</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>加密服务是云上的数据安全加密解决方案。服务底层使用经国家密码管理局检测认证的硬件密码机。密码机的关键还是加密算法，题目主要问的是机制，所以选择国家密码管理局检测认证的加密算法。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">299. 游戏行业有个明显的特点是业务流量很难预估，波动很大，例如今天上线1台云服务器ECS实例就足够处理所有的业务需求，明天可能就需要10台云服务器ECS实例来处理所有的需求。这样的场景下，您不知道所需的云服务器ECS实例的数量，准备的少无法应对业务峰值，投入的多又造成大量的资源浪费。在阿里云上，您认为应对游戏行业这种场景的最佳阿里云产品的组合方式是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.负载均衡SLB+云服务器ECS+云数据库RDS+弹性伸缩Auto Scaling</span></strong></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB+云服务器ECS+云数据库RDS</span></strong></li><li><span style="color:#333">C.云服务器ECS+弹性伸缩Auto Scaling</span></li><li><strong><span style="color:#4CAF50">D.云服务器ECS</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>题目中游戏行业的服务，1. 需要云服务器ECS来搭建和运行网站服务；2. 需要云数据库RDS来保存用户数据；3. 需要弹性伸缩Auto Scaling跟库业务报警来实现ECS的弹性增加或减少；4. 需要负载均衡SLB来实现多个ECS之间的请求分发。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">300. 如果您在创建Windows操作系统的阿里云的云服务器ECS实例时选择了数据盘，在登录实例后要完成<strong>____</strong>操作才可以正常使用该数据盘。</font></p><ul><li><strong><span style="color:#4CAF50">A.格式化数据盘</span></strong></li><li><span style="color:#333">B.挂载数据盘</span></li><li><span style="color:#333">C.对数据盘进行多分区配置</span></li><li><span style="color:#333">D.不需要任何操作</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>如果在创建Windows实例时配了数据盘，您需要先格式化并分区数据盘后才能正常使用数据盘。参考链接：<a href="https://help.aliyun.com/document_detail/25418.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25418.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">301. ECS服务器会对每个访问的请求进行身份验证，以下哪一个是用于标识访问者身份的？</font></p><ul><li><span style="color:#333">A.Access Key Secret</span></li><li><span style="color:#333">B.RequestId</span></li><li><strong><span style="color:#4CAF50">C.Access Key Id</span></strong></li><li><span style="color:#333">D.User name</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>注意不是Access Key Secret，Access Key Secret是用来鉴权校验的，Access Key Id是用来区分用户的。阿里云 access key ID 和 access key secret 是您访问阿里云API的唯一凭证。Access key ID 是类似身份的标识，而 access key secret 的作用是签名您的访问参数，以防被篡改。Access key secret 类似您的登录密码，不要向任何人泄漏。参考链接：<a href="https://help.aliyun.com/knowledge_detail/43189.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/43189.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">302. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠 的云存储服务。与自建存储对比，OSS在可靠性、安全、成本和数据处理能力等几个方面都具有优势。以下<strong><strong>_</strong></strong>是OSS在可靠性方面表现出来的优势。</font></p><ul><li><span style="color:#333">A.受限于硬件可靠性,易出问题,一旦出现磁盘坏道,容易出现不可逆转的数据丢失</span></li><li><strong><span style="color:#4CAF50">B.数据可靠性不低于 99.99999999%。数据自动多重冗余备份</span></strong></li><li><span style="color:#333">C.数据需要客户手工备份、耗时、耗力</span></li><li><span style="color:#333">D.提供多种鉴权和授权机制及白名 单、防盗链、主子账号功能</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中问的是OSS在可靠性方面表现出来的优势，所以选择”数据可靠性不低于 99.99999999%。数据自动多重冗余备份”，”提供多种鉴权和授权机制及白名 单、防盗链、主子账号功能”是OSS在安全性方面表现出来的优势。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">303. 在传统IT解决方案中，要想对海量数据存储实现高于99.99999999%的数据可靠性，并且在单台物理硬件发生损坏的情况下不影响正常服务，至少需要购买多台专业的存储服务器，配合双电源+双控制器+磁盘冗余+故障报警等功能才有可能完成。阿里云的<strong><strong>____</strong></strong>服务天然就具备这个特性，即开即用。</font></p><ul><li><span style="color:#333">A.负载均衡SLB</span></li><li><span style="color:#333">B.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">C.对象存储OSS</span></strong></li><li><span style="color:#333">D.内容分发网络CDN</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：对海量数据存储实现高于99.99999999%的数据可靠性。所以需要使用对象存储OSS服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">304. 阿里云对象存储OSS出于安全考虑，直接在浏览器地址栏输入OSS通信域名(oss.aliyuncs.com)，如访问：<a href="http://bucketname.oss.aliyuncs.com/a.jpg" target="_blank" rel="noopener">http://bucketname.oss.aliyuncs.com/a.jpg</a> (文件类型包括：txt、html、htm、图片格式、视频格式、音频格式等安全敏感文件)，均限制在浏览器客户端以“另存为”下载的方式打开文件。若需要直接在浏览器打开这类文件，需要如何配置？</font></p><ul><li><span style="color:#333">A.在OSS的安全管理菜单中修改ACL，允许浏览器直接访问，设置时需要短信验证</span></li><li><strong><span style="color:#4CAF50">B.绑定用户自定义的域名（可以是三级域名）</span></strong></li><li><span style="color:#333">C.在OSS管理控制台&gt;Object管理中，修改文件的HTTP头信息</span></li><li><span style="color:#333">D.OSS不直接提供这样的功能，需要二次开发</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>如果您使用OSS自带域名，如<a href="http://bucketname.oss.aliyuncs.com/objcet访问静态文件时（文件类型包括：txt、html、htm、图片格式、视频格式、音频格式等），均限制在浏览器中以“另存为”下载的方式打开文件，而不能直接浏览该文件。因此您需要将自定义的域名访问绑定在属于自己的Bucket上面，即CNAME。域名绑定成功后，为了使用域名正常访问" target="_blank" rel="noopener">http://bucketname.oss.aliyuncs.com/objcet访问静态文件时（文件类型包括：txt、html、htm、图片格式、视频格式、音频格式等），均限制在浏览器中以“另存为”下载的方式打开文件，而不能直接浏览该文件。因此您需要将自定义的域名访问绑定在属于自己的Bucket上面，即CNAME。域名绑定成功后，为了使用域名正常访问</a> OSS，还需要添加 CNAME 记录指向存储空间对应的外网域名。参考链接：<a href="https://www.alibabacloud.com/zh/gettingstarted/projects/hostastaticwebsiteonoss" target="_blank" rel="noopener">https://www.alibabacloud.com/zh/gettingstarted/projects/hostastaticwebsiteonoss</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">305. 某社区网站每天的PV量高达2000万次，应用程序部署在阿里云的云服务器ECS实例上，日志记录在单台ECS实例的数据盘。现在业务部门提出新的需求，网站的访问日志要保存24个月，并且在需要的时候可以按照日期快速下载，单台ECS实例的数据盘扩到最大容量，可以保存存三个月的日志数据。您认为在该系统上增加阿里云的<strong>___</strong>产品可以一次性解决日志的保存问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.对象存储OSS</span></strong></li><li><span style="color:#333">B.归档存储（Archive Storage）</span></li><li><span style="color:#333">C.云数据库RDS</span></li><li><span style="color:#333">D.内容分发网络CDN</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：保存存三个月的日志数据且支持快速下载，所以需要用到OSS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">306. 在使用阿里云负载均衡SLB时后端服务器可以设置主备服务器组,当主机工作正常时，流量将直接走主机；当主机宕机时，流量将走到备机。关于主备服务器组支持的协议，以下说法正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.主备服务器组只支持四层监听（TCP和UDP协议）</span></strong></li><li><span style="color:#333">B.主备服务器组只支持七层监听（HTTP和HTTPS协议）</span></li><li><span style="color:#333">C.主备服务器组只支持七层监听（HTTP协议）</span></li><li><span style="color:#333">D.主备服务器组支持四层监听（TCP和UDP协议）和七层监听（HTTP协议）</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>主备服务器组是在监听维度上维护的，并且只支持四层监听。参考链接：<a href="https://help.aliyun.com/document_detail/52796.html?spm=5176.10695662.1996646101.searchclickresult.3b535647Z715JJ" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/52796.html?spm=5176.10695662.1996646101.searchclickresult.3b535647Z715JJ</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">307. 阿里云负载均衡服务SLB支持配置域名或者URL转发策略，将来自不同域名或者URL的请求转发给不同的ECS处理，关于域名或者URL转发策略支持的协议，以下说法正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.只有4层监听（TCP和UDP协议）支持配置转发策略</span></li><li><span style="color:#333">B.只有7层监听（HTTP协议）支持配置转发策略</span></li><li><strong><span style="color:#4CAF50">C.只有7层监听（HTTP和HTTPS协议）支持配置转发策略</span></strong></li><li><span style="color:#333">D.4层监听（TCP和UDP协议）和7层监听（HTTP和HTTPS协议）都支持配置转发策略</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>只有7层监听（HTTPS/HTTP协议）支持配置URL转发策略。参考链接：<a href="https://help.aliyun.com/document_detail/85955.html?spm=5176.10695662.1996646101.searchclickresult.45d73c96TRVz8v" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85955.html?spm=5176.10695662.1996646101.searchclickresult.45d73c96TRVz8v</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">308. 使用阿里云的负载均衡SLB实例时，可以通过健康检查来判断后端云服务器ECS实例的可用性。针对7层服务（HTTP协议），负载均衡SLB实例通过<strong>____</strong>来判断云服务器ECS实例是否可用。</font></p><ul><li><span style="color:#333">A.端口检查是否超时</span></li><li><span style="color:#333">B.云服务器ECS实例的服务器端返回的报文内容中的特殊字符</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的服务器端返回的状态码</span></strong></li><li><span style="color:#333">D.云服务器ECS实例的服务器端返回的字节数</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>四层是检查端口，七层是检查服务器端返回的状态码。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">309. 使用阿里云的负载均衡SLB实例时，可以通过健康检查来判断后端云服务器ECS实例的可用性。针对4层服务（TCP协议），负载均衡SLB实例通过<strong>____</strong>来判断云服务器ECS实例是否可用。</font></p><ul><li><strong><span style="color:#4CAF50">A.端口检查是否超时</span></strong></li><li><span style="color:#333">B.云服务器ECS实例的服务器端返回的报文内容中的特殊字符</span></li><li><span style="color:#333">C.云服务器ECS实例的服务器端返回的状态码</span></li><li><span style="color:#333">D.云服务器ECS实例的服务器端返回的字节数</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>四层是检查端口，七层是检查服务器端返回的状态码。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">310. 使用集群是解决高并发，海量数据的通常手段，对于这种类型的网站而言，不管多么强大的服务器都满足不了持续增长的业务需求。这种情况下，需要增加服务器来分担原有系统的压力,我们可以开通阿里云上哪个服务来实现该请求的分发？</font></p><ul><li><span style="color:#333">A.ECS</span></li><li><strong><span style="color:#4CAF50">B.SLB</span></strong></li><li><span style="color:#333">C.RDS</span></li><li><span style="color:#333">D.DRDS</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>划重点：来实现该请求的分发，所以需要负载均衡SLB。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">311. 您所在的公司半年前在自建机房内刚刚构建了一套财务系统，计划上线的客户管理系统准备基于阿里云的产品构建，同时财务系统与客户管理系统之间需要通过内网互联互通，<strong>____</strong>方案可以最大限度的使用已有的系统投资并满足新的业务需求。</font></p><ul><li><span style="color:#333">A.基于经典网络的云产品实例构建客户管理系统，结合专线来实现两个系统之间的内网互联互通</span></li><li><span style="color:#333">B.基于阿里云专有网络VPC购买云产品实例来构建客户管理系统，不需要任何额外的操作，就可以直接实现两个系统的安全内网互联</span></li><li><span style="color:#333">C.将财务系统迁移到阿里云上</span></li><li><strong><span style="color:#4CAF50">D.基于阿里云专有网络VPC购买云产品实例来构建客户管理系统，结合专线或者VPN，实现两个系统之间的内网互联互通</span></strong></li></ul><p><strong>答案：</strong>D</p><p><strong>解析：</strong>划重点：同时财务系统与客户管理系统之间需要通过内网互联互通，就是阿里云连接传统机房IDC，可以选择专线或者VPN连接。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">312. 阿里云的专有网络VPC下的云服务器ECS实例如果绑定了EIP，就可以实现该服务器ECS实例对公网的服务。出于安全的考虑要限制某台绑定了EIP的云服务器ECS实例的3389远程端口的访问，可以通过<strong>____</strong>方法来实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.在这台云服务器实例的安全组规则中添加一条内网规则，拒绝TCP协议来自3389端口的入方向访问</span></strong></li><li><span style="color:#333">B.在这台云服务器实例的安全组规则中添加一条外网规则，拒绝TCP协议来自3389端口的入方向访问</span></li><li><span style="color:#333">C.在这台云服务器实例的安全组规则中添加一条内网规则，拒绝TCP协议来自3389端口的出方向访问</span></li><li><span style="color:#333">D.在这台云服务器实例的安全组规则中添加一条外网规则，拒绝TCP协议来自3389端口的出方向访问</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>在控制台里面，专用网络VPC下面的ECS，不管是否绑定了EIP，在设置安全组的时候，只可以设置内网规则，外网规则是不可以选的。因为对于其来说，内网规则等同于外网规则，所以不要被题目中的”对公网的服务”误导。所以此题应该选择添加一条内网规则，拒绝TCP协议来自3389端口的入方向访问。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">313. 如果您希望在阿里云专有网络VPC内创建不同可用区的云服务器ECS实例，获得更高的容灾能力，以下<strong>____</strong>方式是可行的。</font></p><ul><li><span style="color:#333">A.可以通过将处于不同可用区的云服务器ECS实例部署到同一台交换机下，从而实现多可用区容灾</span></li><li><strong><span style="color:#4CAF50">B.可以通过将云服务器ECS实例部署在处于不同可用区的交换机下，从而实现多可用区容灾</span></strong></li><li><span style="color:#333">C.可以通过将云服务器ECS实例部署在处于不同可用区的路由器下，从而实现多可用区容灾</span></li><li><span style="color:#333">D.可以通过将处于不同地域的云服务器ECS实例部署到同一台路由器下，从而实现多地域的多可用区容灾</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云服务器云服务器是关联在交换机下面的，VPC下面可以包含同一个地域多个不同可用区的交换机，所以想具备容灾的能力，可以考虑ECS在一个VPC下面跨交换机部署。是关联在交换机下面的，VPC下面可以包含同一个地域多个不同可用区的交换机，所以想具备容灾的能力，可以考虑ECS在一个VPC下面跨交换机部署。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">314. 在互联网上存在着各种以盈利为目的的黑客组织，他们控制着大量的服务器资源，可以随时对目标服务器发起网络攻击，其中有一种很常见的，也是破坏性比较强的攻击，可以让目标服务器的资源耗尽，使正常客户无法连接到服务器。以下<strong><strong>___</strong></strong>属于此类攻击。</font></p><ul><li><strong><span style="color:#4CAF50">A.DDoS攻击</span></strong></li><li><span style="color:#333">B.XSS攻击</span></li><li><span style="color:#333">C.SQL注入</span></li><li><span style="color:#333">D.WebShell攻击</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：破坏性比较强的攻击，可以让目标服务器的资源耗尽，使正常客户无法连接到服务器。所以描述的是DDoS攻击。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">315. 阿里云的云监控产品的监控数据可以采用<strong><strong>___</strong></strong>方式下载。</font></p><ul><li><span style="color:#333">A.从管理控制台直接下载</span></li><li><span style="color:#333">B.通过OpenAPI下载</span></li><li><strong><span style="color:#4CAF50">C.只能查看报表，无法下载</span></strong></li><li><span style="color:#333">D.支持管理控制台和OpenAPI两种方式下载</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>目前云监控的数据只支持在控制台或者调用接口查看，目前不支持导出下载数据。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">316. 日常工作和生活中，很多用户在不同网站使用的是相同的帐号和密码，因此黑客可以通过获取用户在A网站的账户从而尝试登录B网址，这种攻击行为被称作“撞库攻击”。当您在云盾态势感知中发现有撞库攻击的威胁时，应该采取<strong><strong>___</strong></strong>应对。</font></p><ul><li><span style="color:#333">A.立即修改云服务器ECS实例的所有密码，并检查登录日志</span></li><li><span style="color:#333">B.立即修改数据库密码，新密码采用8位以上的复杂密码</span></li><li><strong><span style="color:#4CAF50">C.通知自己业务平台的所有用户立即修改密码，并通过技术手段杜绝简单密码</span></strong></li><li><span style="color:#333">D.撞库攻击产生的风险由用户自己负责，不需要做任何操作</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>当您在云盾态势感知中发现有撞库攻击的威胁时，说明黑客很有可能已经知道了网站用户的用户名和密码，这个时候应该紧急通知自己业务平台的所有用户修改密码，并加强密码规则。此时修改数据库密码是没有作用的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">317. 硬件虚拟化是使用软件的方法重新定义划分IT资源，可以实现IT资源的动态分配、灵活调度、跨域共享，提高IT资源利用率，是云计算的基础技术。如果一个虚拟机因为错误而崩溃，同一物理主机上的其他虚拟机不会受到影响，这是描述虚拟化技术的哪种特性？</font></p><ul><li><strong><span style="color:#4CAF50">A.隔离性</span></strong></li><li><span style="color:#333">B.兼容性</span></li><li><span style="color:#333">C.独立于硬件</span></li><li><span style="color:#333">D.统一性</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：如果一个虚拟机因为错误而崩溃，同一物理主机上的其他虚拟机不会受到影响。所以描述的是虚拟化技术的隔离性。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">318. G公司开发了一款购物的APP，全部系统都基于阿里云的产品构建，用到了华北1(青岛)地域的云服务器ECS实例和对象存储OSS，静态网页和图片全部放在OSS中。上线后在中国大陆范围内访问速度良好。最近公司想拓展美国市场，希望美国用户使用APP时也能实现较快的速度。G公司使用阿里云的<strong><strong>_</strong></strong>方案是最佳的。</font></p><ul><li><span style="color:#333">A.启用华东1(杭州)和华北2(北京)双地域的对象存储OSS和内容分发网络CDN</span></li><li><strong><span style="color:#4CAF50">B.启用美西（硅谷）地域的对象存储OSS和内容分发网络CDN</span></strong></li><li><span style="color:#333">C.启用弹性伸缩(Auto Scaling)和更多的云服务器ECS实例</span></li><li><span style="color:#333">D.启用弹性伸缩(Auto Scaling)和内容分发网络CDN</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中需要美国用户使用APP时也能实现较快的速度，所以需要在美国地域开启相应的CDN功能，所以选择在美西（硅谷）地域的对象存储OSS和内容分发网络CDN。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">319. 阿里云弹性伸缩(Auto Scaling)的冷却时间是指在同一个伸缩组内，当有一个伸缩活动被成功执行后的一段锁定时间内，该伸缩组不执行其他的伸缩活动。以下关于冷却时间的开始计时的时间点的说法正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.当伸缩组加入或移出多个ECS实例时，最后一个ECS实例加入或移出完成后，整个伸缩组冷却时间才开始计时</span></strong></li><li><span style="color:#333">B.当伸缩组加入或移出多个ECS实例时，第一个ECS实例加入或移出完成后，整个伸缩组冷却时间才开始计时</span></li><li><span style="color:#333">C.伸缩活动结束后，冷却时间马上开始计时</span></li><li><span style="color:#333">D.伸缩活动开始后，冷却时间马上开始计时</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>伸缩活动中，最后一个ECS实例加入或移出完成后，整个伸缩组冷却时间才开始计时，伸缩活动结束并不代表最后一个ECS实例已经加入或移出完成。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">320. 阿里云的云盾<strong><strong>_</strong></strong>是通过领先的行为收集技术和机器学习模型，解决用户的WEB应用和手机APP的账号、活动、支付等关键业务环节存在的欺诈威胁，最终实现降低企业损失。比如：帮助客户发现代金券套现行为，恶意刷单行为，恶意注册片区新用户奖励的行为等。</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><strong><span style="color:#4CAF50">B.数据风控</span></strong></li><li><span style="color:#333">C.绿网</span></li><li><span style="color:#333">D.加密服务</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>数据风控由阿里聚安全提供，是基于阿里大数据计算能力，通过业内领先的风险决策引擎，解决企业账号、活动、交在的易等关键业务环节存欺诈威胁，降低企业经济损失。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">321. 云产品的可用区指的是一套独立的基础设施，不同的可用区之间基础设施（网络，电力和空调等）相互独立，即一个可用区出现基础设施故障不影响另外一个可用区。下列关于阿里云ECS的可用区说法正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.可用区是在用户购买时指定的，购买后不支持更改</span></strong></li><li><span style="color:#333">B.可用区之间内网互通</span></li><li><span style="color:#333">C.可用区内网络延时小于1s</span></li><li><span style="color:#333">D.若要提高应用的容灾能力则可以将实例创建在同一可用区</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>只有在同一个地域前提下，可用区之间的内网才是互通的。可用区是指在同一地域内，电力和网络互相独立的物理区域。所以云产品一旦购买了，不支持更改可用区。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">322. 阿里云的云服务器ECS产品的应用非常广泛，既可以单独的作为Web服务器，也可以与其他阿里云产品配合提供多媒体解决方案。在多媒体、大流量的APP或网站应用场景下，云服务器ECS实例与阿里云的<strong>____</strong>产品搭配，可以存储静态图片、视频、下载包等来降低存储费用。</font></p><ul><li><strong><span style="color:#4CAF50">A.对象存储</span></strong></li><li><span style="color:#333">B.云数据库</span></li><li><span style="color:#333">C.弹性伸缩</span></li><li><span style="color:#333">D.块存储</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>划重点：存储静态图片、视频、下载包，所以选择OSS</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">323. 阿里云的对象存储OSS可以与云服务器ECS实例协同来实现文件存储的功能。下列关于云服务器ECS实例与OSS之间的关系描述正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.华东1（杭州）的云服务器ECS实例与华北1（青岛）OSS之间可以通过内网进行访问</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例与OSS之间的请求次数，不分内外网都会计费</span></strong></li><li><span style="color:#333">C.其他都不对</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>文档原话，记住了，走内网流量是不收费的，但是每次的请求次数还是收费。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39679.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39679.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">324. 创建阿里云弹性伸缩(Auto Scaling)伸缩组的时候，可以配置“移出策略”。现将移出策略配置为“最早伸缩配置对应的实例”，以下说法中正确的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.只移除通过弹性规则创建的ECS实例，并且是按照伸缩配置创建ECS实例的时间先后顺序优先移出先建的ECS实例</span></strong></li><li><span style="color:#333">B.根据ECS实例的创建时间判断，优先移出先建的ECS实例</span></li><li><span style="color:#333">C.只移除手工添加的ECS实例，并且是按照伸缩配置创建ECS实例的时间先后顺序优先移出先建的ECS实例</span></li><li><span style="color:#333">D.根据ECS实例添加到伸缩组的时间判断，优先移出先添加ECS实例</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>顾名思义，最先的，伸缩配置创建的实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">325. 阿里云OSS产品的账单费用由三部分组成，包括：存储空间费用、流量费用和OSS API请求费用。其中流量费用是根据用户使用OSS的下行流量多少收费，上行流量和通过内网访问的流量免费，以下使用OSS的场景中哪一个是不产生OSS流量费用的？</font></p><ul><li><span style="color:#333">A.在阿里云ECS上静态网站直接引用了OSS中的图片，该网站来自公网的访问量是每天1000次</span></li><li><strong><span style="color:#4CAF50">B.某系管理员将OSS用作数据备份，从ECS上每天晚上用内网上传200G的数据到OSS</span></strong></li><li><span style="color:#333">C.某淘宝卖家为了提高店铺的访问速度，将店铺中的所有图片上传到了OSS，然后在店铺中直接引用</span></li><li><span style="color:#333">D.管理员在自己的办公室内浏览自己OSS Bucket里的图片</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>只有公网下载（下行）才会产生流量费用，所以此题内网上传文件到OSS，是不会产生流量费用的的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">326. 阿里云对象存储OSS里存储的文件可以进行分享和下载，当文件所在的Bucket的读写权限为“私有”时，OSS分享链接采用的安全机制是<strong><strong>__</strong></strong>。</font></p><ul><li><span style="color:#333">A.在管理控制台中获取文件访问URL时设置分享链接的访问密码，访客下载文件时凭密码访问</span></li><li><span style="color:#333">B.“私有”权限的文件对外享时，访客只能看到文件的一部分内容（前500K）</span></li><li><strong><span style="color:#4CAF50">C.在管理控制台中获取文件访问URL时设置分享链接有效的时间，超过设定时间就无法下载</span></strong></li><li><span style="color:#333">D.“私有”权限的文件对外分享时，系统会检查文件的大小，超过2M的文件不允许分享</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>出于安全考虑，目前控制台针对私有bucket的获取URL链接签名操作做了优化，使用的AccessKey是临时生成的密钥对，主账号用户最长有效时间是64800秒（18小时），RAM子账号用户以及sts用户最长有效时间是3600秒（1小时），超时后链接就无法访问了。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39530.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39530.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">327. 阿里云负载均衡SLB实例中的后端服务器ECS实例需要设置权重，可以给对外服务能力更强的ECS实例设置更大的权重，这些ECS实例就会有机会处理更多的访问请求。在提供稳定服务的同时，充分的利用了已有资源。如果将一台ECS实例的权重设置为0，以下说法正确的是<strong>____</strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.该ECS实例不会再得到负载均衡SLB实例分发的外部访问请求</span></strong></li><li><span style="color:#333">B.所有外部访问请求都被分发到这台ECS实例上</span></li><li><span style="color:#333">C.该ECS实例会被认为状态异常，负载均衡SLB会把它移出后端服务器池</span></li><li><span style="color:#333">D.负载均衡SLB会分发外部请求给这台ECS实例，分发量的大小等于总请求数除以后端服务器ECS实例个数</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>将负载均衡后端 ECS 的权重置零，新发起的业务请求是无法经负载均衡转发到该服务器的，健康检查相应的会显示异常。所以该ECS实例不会再得到负载均衡SLB实例分发的外部访问请求。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39492.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39492.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">328. 您需要进行阿里云的云服务器ECS实例的系统盘更换操作之前,无需停止ECS实例。系统盘更换之后,ECS实例数据盘的数据不会受到影响。</font></p><ul><li><span style="color:#333">A.正确</span></li><li><strong><span style="color:#4CAF50">B.错误</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>更换云服务器ECS实例的系统盘需要先停止该云服务器，所以题目中说的无需停止是不争正确的，系统盘更换之后，ECS实例数据盘的数据不会受到影响。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">329. 阿里云的弹性伸缩主要可以提供的功能，下面说法错误的是？</font></p><ul><li><strong><span style="color:#4CAF50">A.根据客户业务需求横向扩展ECS实例的容量，即自动增加和减少ECS实例，数量是有限制的。</span></strong></li><li><span style="color:#333">B.支持SLB负载均衡配置：在增加或减少ECS实例时，自动向SLB实例中添加或移除相应的ECS实例</span></li><li><span style="color:#333">C.支持RDS访问白名单：在增加或减少ECS实例时，自动向RDS访问白名单中添加或移出该ECS实例的IP</span></li><li><span style="color:#333">D.多模式兼容，可同时配置定时、动态、自定义、固定、健康模式，可通过API方便对接外在监控系统</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩是可以根据客户业务需求横向扩展ECS实例的容量，即自动增加和减少ECS实例，但是伸缩组内不限制ECS实例的数量。参考链接：<a href="https://help.aliyun.com/knowledge_detail/25969.html?spm=a2c4g.11186631.2.12.714622dbpX9coK" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/25969.html?spm=a2c4g.11186631.2.12.714622dbpX9coK</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">330. 云监控的http提交指令是哪一个？</font></p><ul><li><strong><span style="color:#4CAF50">A.post</span></strong></li><li><span style="color:#333">B.copy</span></li><li><span style="color:#333">C.write</span></li><li><span style="color:#333">D.put</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云监控的http提交指令为post。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">331. 下面哪种镜像可以进行复制？</font></p><ul><li><strong><span style="color:#4CAF50">A.自定义镜像</span></strong></li><li><span style="color:#333">B.公共镜像</span></li><li><span style="color:#333">C.镜像市场镜像</span></li><li><span style="color:#333">D.共享的镜像</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>复制镜像仅适用于自定义镜像。如果您需要复制其他类型的镜像，可先使用镜像创建实例，再使用该实例创建自定义镜像。然后，复制该自定义镜像。参考链接：<a href="https://help.aliyun.com/document_detail/25462.html?spm=5176.10695662.1996646101.searchclickresult.396d518dXjkN3T" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25462.html?spm=5176.10695662.1996646101.searchclickresult.396d518dXjkN3T</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">332. F公司新推出一款手机APP，将安装包链接挂在公司的官网（基于云服务器ECS实例）进行下载（安装包大小：6Mb），上线前两个月下载速度还能接受。 自从上周公司在CCTV做了一次广告后，下载量持续爆增，不仅用户体验下降了，官网ECS实例的带宽成本也急剧上升。F公司可以选择阿里云的<strong>____</strong>产品组合，同时解决下载速度和带宽成本的问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.对象存储OSS和内容分发网络CDN</span></strong></li><li><span style="color:#333">B.对象存储OSS和弹性伸缩(Auto Scaling)</span></li><li><span style="color:#333">C.对象存储OSS和云数据库RDS</span></li><li><span style="color:#333">D.弹性伸缩(Auto Scaling)和云服务器ECS实例</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目需要同时解决下载速度和带宽成本的问题，所以需要将APP存储到对象存储OSS中结合内容分发CDN来解决下载速度和带宽的问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">333. 您在阿里云购买了一台云服务器ECS实例，部署好Python环境后，通过<strong><strong>___</strong></strong>能最简单快捷的监控Python进程是否持续运行，当进程不存在时发出报警信息。</font></p><ul><li><span style="color:#333">A.自己写脚本监控</span></li><li><strong><span style="color:#4CAF50">B.使用ECS监控中的进程监控</span></strong></li><li><span style="color:#333">C.使用站点监控</span></li><li><span style="color:#333">D.去ECS控制台查看</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中要求最简单查看Python进行是否在运行，所以最简单是通过云监控控制台直接查看。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">334. 阿里云的云盾<strong>____</strong>是通过领先的行为收集技术和机器学习模型，解决用户的WEB应用和手机APP的账号、活动、支付等关键业务环节存在的欺诈威胁，最终实现降低企业损失。比如:帮助客户发现代金券套现行为，恶意刷单行为、恶意注册骗取新用户奖励的行为等。</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><strong><span style="color:#4CAF50">B.数据风控</span></strong></li><li><span style="color:#333">C.内容安全（原名：绿网）</span></li><li><span style="color:#333">D.加密服务</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>数据风控由阿里聚安全提供，是基于阿里大数据计算能力，通过业内领先的风险决策引擎，解决企业账号、活动、交在的易等关键业务环节存欺诈威胁，降低企业经济损失。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">335. 在使用阿里云DDoS高防IP时，CNAME配置非常简单，只需要配一条DNS记录就可以启用。</font></p><ul><li><strong><span style="color:#4CAF50">A.正确</span></strong></li><li><span style="color:#333">B.错误</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>CNAME接入模式更加方便，您只需要在域名解析服务商处（如万网云解析或者DNSPod）修改一次解析配置即可生效，实现零部署、零运维。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40532.html?spm=a2c4g.11186623.6.640.4b465cd5U9yD4Q" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40532.html?spm=a2c4g.11186623.6.640.4b465cd5U9yD4Q</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">336. 在阿里云的云盾的网络防护体系中，有一种服务默认为所有客户开通，可提供最高5G以下的小规模DDoS防御功能。该项服务的名称是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><span style="color:#333">B.WAF防火墙</span></li><li><strong><span style="color:#4CAF50">C.DDoS基础防护</span></strong></li><li><span style="color:#333">D.DDoS高防IP</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>云盾的DDoS基础防护提供免费的5G以下的防DDoS攻击能力。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">337. 交换机，是组成 VPC 网络的基础网络设备。它可以连接不同的云产品实例。在 VPC 网络内创建云产品实例的时候，必须指定云产品实例所在的交换机。下面关于交换机说法错误的是?</font></p><ul><li><span style="color:#333">A.VPC 的交换机，是一个 3 层交换机，不支持 2 层广播和组播;</span></li><li><span style="color:#333">B.只有当 VPC 的状态为 Available 时，才能创建新的交换机;</span></li><li><span style="color:#333">C.交换机不支持并行创建，一个交换机创建成功之后，才能够创建下一个;</span></li><li><span style="color:#333">D.交换机创建完成之后，无法修改 CIDRBlock;</span></li><li><strong><span style="color:#4CAF50">E.删除交换机时，该交换机所连接的云产品实例也一同删除;</span></strong></li></ul><p><strong>答案：</strong>E</p><p><strong>解析：</strong>删除交换机之前，必须先删除目标交换机所连接的云产品实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">338. BGP(边界网关协议)主要用于互联网AS(自治系统)之间的互联，BGP的最主要功能在于控制路由的传播和选择最好的路由，BGP线路可有效避免不同运营商之间网络访问慢的问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.正确</span></strong></li><li><span style="color:#333">B.错误</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>边界网关协议，简称BGP，主要用于互联网AS（自治系统）之间的互联。BGP协议的最主要功能在于控制路由的传播和选择最好的路由。使用BGP高防可以解决跨运营商访问慢、部分小运营商访问不稳定的情况。这个是文档的原话。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">339. 阿里云弹性伸缩(Auto Scaling) 的一个伸缩活动在12：00执行完成，设置的冷却时间是15分钟。假如这时用户停用再启用伸缩组，在12：05伸缩组完成启动，如果在12：10云监控触发伸缩活动，当前伸缩组将如何处理该请求？</font></p><ul><li><strong><span style="color:#4CAF50">A.接受执行该请求，无需等待</span></strong></li><li><span style="color:#333">B.仍需等待5分钟后执行</span></li><li><span style="color:#333">C.仍需等待10分钟后执行</span></li><li><span style="color:#333">D.仍需等待15分钟后执行</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>停用伸缩组以后，之前的冷却时间即失效。所以后面伸缩活动不会受到冷却时间的影响。参考链接：<a href="https://help.aliyun.com/document_detail/25912.html?spm=5176.10695662.1996646101.searchclickresult.490817e5F4EzCY" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25912.html?spm=5176.10695662.1996646101.searchclickresult.490817e5F4EzCY</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">340. 阿里云的云盾加密服务通过在阿里云上使用经国家密码管理局检测认证的硬件密码机，帮助用户满足数据安全方面的监管合规要求，保护云上业务数据的隐私性和机密性。管理云盾加密服务的密钥时，必须通过<strong><strong>___</strong></strong>方式的认证。</font></p><ul><li><strong><span style="color:#4CAF50">A.身份卡(USB Key)</span></strong></li><li><span style="color:#333">B.阿里云官网帐号的AK</span></li><li><span style="color:#333">C.用户名和密码</span></li><li><span style="color:#333">D.用户自己上传的SSL证书</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>所有的密钥管理都必须依赖身份认证卡（USB key），请务必妥善保管身份卡。如身份认证卡（USB key）丢失，阿里云也无法恢复。参考链接：<a href="https://help.aliyun.com/document_detail/28357.html?spm=a2c4g.11186623.6.557.735f1115szEGvC" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28357.html?spm=a2c4g.11186623.6.557.735f1115szEGvC</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">341. 阿里云提供的安全产品云盾涵盖从网络、主机、应用、数据、图片识别、混合云到数字证书和业务风控、保险等多个子产品，遇到不同的风险时选择合适的产品可以做到事半功倍。当客户服务器经常遭受大流量的攻击，导致服务器无法正常对外提供服务时，选择<strong>____</strong>产品进行防护最合适。</font></p><ul><li><span style="color:#333">A.安全众测</span></li><li><span style="color:#333">B.WEB应用防火墙（WAF）</span></li><li><strong><span style="color:#4CAF50">C.DDoS高防IP</span></strong></li><li><span style="color:#333">D.安全管家服务</span></li><li><span style="color:#333">E.渗透测试</span></li><li><span style="color:#333">F.云安全中心</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：客户服务器经常遭受大流量的攻击。所以需要通过配置DDoS高防IP，将攻击流量引流到高防IP，确保源站的稳定可靠。参考链接：<a href="https://help.aliyun.com/document_detail/28464.html?spm=a2c4g.11186623.6.604.4f0e4ab3CXJuYo" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28464.html?spm=a2c4g.11186623.6.604.4f0e4ab3CXJuYo</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">342. 使用阿里云的负载均衡SLB实例时，针对7层（HTTP协议）服务，由于采取替换HTTP头文件IP地址的方式来进行请求转发，所以后端云服务器ECS实例看到的访问IP是负载均衡SLB实例的IP地址，而不是实际来访者的真实IP。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>针对7层（HTTP协议）服务，由于采取替换HTTP头文件IP地址的方式来进行请求转发，所以后端云服务器看到的访问IP是SLB系统的本地IP而不是实际来访者的真实IP。所以系统支持用户采用XForwardedFor的方式获取访问者真实IP，前提是用户必须在配置7层（HTTP协议）服务监听时开启了“获取真实访问IP”功能</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">343. 在使用阿里云弹性伸缩（AutoScaling）时如果在伸缩组中指定了RDS实例，伸缩组会自动将加入伸缩组的ECS实例的内网IP添加到指定的RDS实例的访问白名单当中，下面说法错误的是?</font></p><ul><li><strong><span style="color:#4CAF50">A.如果ECS实例无法加入到RDS访问白名单，该ECS实例不会被回滚操作并释放</span></strong></li><li><span style="color:#333">B.指定的RDS实例必须是运行中状态。</span></li><li><span style="color:#333">C.指定的RDS实例访问白名单的IP个数不能达到上限。</span></li><li><span style="color:#333">D.伸缩组创建成功后，伸缩组不会立即生效，只有启用伸缩组，才能接受伸缩规则的触发和执行相关的伸缩活动。</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目问的是描述错误的选项，如果弹性伸缩的ECS实例无法加入到RDS访问白名单，自动创建的ECS会被回滚和释放。手动创建的ECS不会被回滚和释放。[<a href="https://help.aliyun.com/document_detail/25915.html]，参考链接：https://help.aliyun.com/document_detail/25936.html?spm=5176.10695662.1996646101.searchclickresult.76e97940ds64hg" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25915.html]，参考链接：https://help.aliyun.com/document_detail/25936.html?spm=5176.10695662.1996646101.searchclickresult.76e97940ds64hg</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">344. 阿里云的云盾的先知计划，是调动众多网络安全专家的力量一起维护互联网平台和业务的安全，降低客户的安全损失。先知计划为企业提供的是<strong>____</strong>服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.为企业收集情报（漏洞）</span></strong></li><li><span style="color:#333">B.为企业保障服务器安全</span></li><li><span style="color:#333">C.为企业保障网络安全</span></li><li><span style="color:#333">D.用大数据的方式为企业进行安全分析</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>先知（安全众测）是一个帮助企业建立私有应急响应中心的平台（帮助企业收集漏洞信息），尽早发现存在的漏洞可以有效地减少企业可能的损失。参考链接：<a href="https://help.aliyun.com/document_detail/28378.html?spm=a2c4g.11186623.6.542.23823c7dXqHjYW" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28378.html?spm=a2c4g.11186623.6.542.23823c7dXqHjYW</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">345. 云计算在极大地方便用户和企业廉价使用存储资源、软件资源、计算资源的同时,同样也面临着安全方面的挑战。上云并不会增加安全风险,同时云计算厂商也不会帮助客户解决一切安全问题,需要用户积极参予。目前普遍遵循“三不变”原则,不包括以下哪项？</font></p><ul><li><span style="color:#333">A.数据归属关系不变</span></li><li><span style="color:#333">B.安全管理责任不变</span></li><li><strong><span style="color:#4CAF50">C.运维管理方式不变</span></strong></li><li><span style="color:#333">D.安全管理标准不变</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>在安全管理方面，中网办发布《关于加强党政部门云计算服务网络安全管理的意见》（中网办发文〔2014〕14号）（以下称“14号文”），进一步明确党政部门云计算服务网络安全管理的基本要求，提出了“安全管理责任不变，数据归属关系不变，安全管理标准不变，敏感信息不出境”四条基本要求。不包含”运维管理方式不变”。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">346. A 公司管理员小牛近期发现公司的网站访问速度越来越慢，偶尔会出现无法打开的现象，从 web 日志中发现了数据被恶意爬取的行为，且并发访问量较大，这种情况下可以使用阿里云的<strong>____</strong>安全产品进行防护。</font></p><ul><li><span style="color:#333">A.安全管家</span></li><li><span style="color:#333">B.态势感知</span></li><li><strong><span style="color:#4CAF50">C.Web 应用防火墙（WAF）</span></strong></li><li><span style="color:#333">D.云安全中心（安骑士）</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>划重点：从 web 日志中发现了数据被恶意爬取的行为，且并发访问量较大。所以需要用到Web 应用防火墙（WAF）的防爬虫功能。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">347. 阿里云的云盾先知计划的目的是帮助企业建立私有的<strong>____</strong>中心，以较低的成本发现企业自身企业的安全风险，并得到解决方案。</font></p><ul><li><span style="color:#333">A.私有数据中心</span></li><li><strong><span style="color:#4CAF50">B.应急响应中心</span></strong></li><li><span style="color:#333">C.病毒防护中心</span></li><li><span style="color:#333">D.远程备份中心</span></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>先知计划是一个帮助企业建立私有应急响应中心的平台（帮助企业收集漏洞信息）。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">348. 云盾先知计划的目的是帮助企业建立私有的什么中心？</font></p><ul><li><strong><span style="color:#4CAF50">A.应急响应中心</span></strong></li><li><span style="color:#333">B.病毒防护中心</span></li><li><span style="color:#333">C.私有数据中心</span></li><li><span style="color:#333">D.远程备份中心</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>先知计划是一个帮助企业建立私有应急响应中心的平台（帮助企业收集漏洞信息）。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">349. 对于阿里云态势感知典型的功能点描述正确的是<strong>____</strong>。</font></p><ul><li><span style="color:#333">A.恶意进程查杀</span></li><li><span style="color:#333">B.漏洞检测和修复</span></li><li><span style="color:#333">C.外部风险扫描：如AK泄露、账密泄露</span></li><li><span style="color:#333">D.全量安全日志，自动化入侵回溯</span></li><li><strong><span style="color:#4CAF50">E.其它选项都正确</span></strong></li></ul><p><strong>答案：</strong>E</p><p><strong>解析：</strong>文档原文：态势感知具备异常登录检测、网站后门查杀、网站后门查杀、进程异常行为、敏感文件篡改、异常网络连接、Linux 软件漏洞、Windows 系统漏洞、WebCMS 漏洞、应急漏洞、Web 漏洞扫描、主机基线、云产品基线、资产指纹、AK 和账号密码泄露、数据大屏、日志检索、全量日志分析。参考链接：<a href="https://www.jianshu.com/p/99360d03b1cd" target="_blank" rel="noopener">https://www.jianshu.com/p/99360d03b1cd</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">350. 用户在使用阿里云云服务器ECS的时候，经常收到密码被暴力破解的报警信息，虽然都没有成功，但是很担心某一天会被攻破。为了提升系统的安全性，并不再接收到该ECS实例的密码暴力破解报警信息，以下<strong><strong>_</strong></strong>是最安全的措施。</font></p><ul><li><span style="color:#333">A.关闭云监控的异常报警机制</span></li><li><span style="color:#333">B.开通安全众测，查找系统中的潜在漏洞</span></li><li><strong><span style="color:#4CAF50">C.将ECS密码修改为8位以上的复杂密码，同时用安全组关闭远程管理端口</span></strong></li><li><span style="color:#333">D.使用WAF来提升系统的安全性</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>WAF保护的是ECS上应用层的用户服务，而不能保护ECS的被保密破解。先知（安全众测）是一个帮助企业建立私有应急响应中心的平台（帮助企业收集漏洞信息），也不能保护ECS的被保密破解。所以最安全的是提升ECS登录密码的复杂度，关闭ECS远程登录管理的端口。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">351. 以下<strong>____</strong>安全事件是不能由阿里云态势感知集中管理的。</font></p><ul><li><span style="color:#333">A.发现主机有异常进程</span></li><li><span style="color:#333">B.发现主机成为肉鸡</span></li><li><strong><span style="color:#4CAF50">C.机房断电</span></strong></li><li><span style="color:#333">D.发现网站被DDoS攻击成功</span></li></ul><p><strong>答案：</strong>C</p><p><strong>解析：</strong>机房断电是态势感知不能预测到的故障。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">352. CDN提供两种计费方式任选：按流量 或 按带宽峰值。为什么CDN实际产生的流量却要比应用层统计到的流量要高？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.TCP/IP包头的消耗</span></strong></li><li><strong><span style="color:#4CAF50">B.TCP重传</span></strong></li><li><span style="color:#333">C.链路消耗</span></li><li><span style="color:#333">D.设备消耗</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>文档的原话，加速域名日志中记录的流量数据，是我们应用层日志统计出的流量，但是实际产生的网络流量却要比应用层统计到的流量要高出7%15%；这个主要的原因有两个：1、TCP/IP包头的消耗，2、TCP重传。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40164.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40164.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">353. 在使用阿里云的云服务器ECS实例的过程中，如果您的业务需求发生变化时可能需要进行重置操作系统或者磁盘的操作，在操作前需要注意提前备份对应磁盘里的数据。在进行上述的重置操作时<strong>____</strong>法是正确的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.使用阿里云提供的公共镜像重置后需要对业务进行重新部署,包括应用的安装和配置,以尽快恢复业务</span></strong></li><li><strong><span style="color:#4CAF50">B.阿里云的云服务器ECS服务在重置启动前不会为您的实例和磁盘做自动备份</span></strong></li><li><span style="color:#333">C.重新初始化系统盘会影响数据盘的数据</span></li><li><strong><span style="color:#4CAF50">D.可以进行重置操作的前置条件是该ECS实例需要处于“已停止”的状态</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>排除法，重新初始化系统盘对数据盘中的数据并没有影响。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">354. 某小型礼品电商网站部署在阿里云上，包含4台包年包月云服务器ECS实例子、 负载均衡SLB实例和RDS实例。在双十一、情人节等时期需要应对客户抢购行为，这些时段并发量会是平时的310倍。为了应对业务高峰，该公司准备采用弹性伸缩服务创建伸缩组，那么可以配置哪些信息？(正确答案的数量：4个)</font></p><ul><li><strong><span style="color:#4CAF50">A.关联的RDS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.伸缩组内ECS实例的最小值</span></strong></li><li><strong><span style="color:#4CAF50">C.关联的负载均衡服务实例</span></strong></li><li><span style="color:#333">D.RDS实例的配置</span></li><li><strong><span style="color:#4CAF50">E.伸缩组内ECS实例的最大值</span></strong></li><li><span style="color:#333">F.伸缩组内ECS的最大配置</span></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>排除法，题目问的是：创建伸缩组，可以指定哪些配置。1. 在创建伸缩组时候可以配置RDS的实例，但是并不能指定RDS的实例的配置，RDS的实例的配置需要在购买RDS的时候来指定的。2. 在创建伸缩组时只支持指定ECS的指定配置，不支持指定ECS的最大配置。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">355. 阿里云对象存储OSS自动为每个Bucket分配一个“外网地址”和“内网地址”。正确使用OSS的内网地址,可以节省OSS与云服务器ECS实例之间的流量费用,云服务器ECS实例通过内网访问OSS能够有效的提升上传和下载的质量。<strong>____</strong>场景可以使用OSS的“内网地址”通信。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.OSS Bucket在R1地域,用户有两台云服务器ECS实例分别在该地域的可用区A和可用区B,两台ECS实例上的访问日志都要保存到OSS中</span></strong></li><li><span style="color:#333">B.OSS Bucket在R2地域,用户在R1地域的可用区A有1台云服务器ECS实例,此台ECS实例上的访问日志要保存到OSS中</span></li><li><strong><span style="color:#4CAF50">C.OSS Bucket在R1地域,在该地域的可用区B用户有1台云服务器ECS实例,此台ECS实例上的访问日志要保存到OSS中</span></strong></li><li><strong><span style="color:#4CAF50">D.OSS Bucket在R1地域,用户有1台云服务器ECS实例在R1地域的可用区A,此台ECS实例上的访问日志要保存到OSS中</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>题目中问的是云服务器ECS实例通过内网访问OSS，所以要求云服务器ECS和OSS需要处于同一个地域，”OSS Bucket在R2地域,用户在R1地域的可用区A有1台云服务器ECS实例”明显不符合要求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">356. 使用阿里云负载均衡SLB将负载分发到多台云服务器ECS实例上去的时候，<strong>____</strong>即可获得发起请求的用户的真实IP。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.7层服务可以通过Http Header:XForwardedFor获取来访者真实IP,并保证配置负载均衡SLB监听时开启“获取真实访问IP”</span></strong></li><li><strong><span style="color:#4CAF50">B.4层服务可以直接获取,无需额外配置</span></strong></li><li><span style="color:#333">C.4层服务可以通过Http Header:XForwardedFor获取来访者真实IP,并保证配置负载均衡SLB监听时开启“获取真实访问IP”</span></li><li><span style="color:#333">D.7层服务可以直接获取,无需额外配置</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>针对4层（TCP协议）负载均衡服务，可以直接获取用户IP，七层则需要通过请求头中的XForwardedFor获取。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">357. 云监控是阿里巴巴集团多年来服务器监控技术研究积累的成果，结合阿里云的云计算平台强大的数据分析能力客户提供各种应用和服务器的第三方监控服务，当出现异常时可以通过以下哪些方式进行报警通知？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.手机短信</span></strong></li><li><strong><span style="color:#4CAF50">B.钉钉消息</span></strong></li><li><strong><span style="color:#4CAF50">C.电子邮件</span></strong></li><li><strong><span style="color:#4CAF50">D.旺旺消息</span></strong></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>报警服务支持电话、短信、邮件、旺旺、钉钉机器人等多种方式。旺旺仅支持PC端报警消息推送。如果您安装了阿里云APP，也可以通过阿里云APP接收报警通知。参考链接：<a href="https://help.aliyun.com/document_detail/28608.html?spm=a2c4g.11186623.6.584.496a52953n7B04" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28608.html?spm=a2c4g.11186623.6.584.496a52953n7B04</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">358. 阿里云作为云计算服务的提供商，为用户提供的安全保障服务包括<strong>____</strong>。 ( 正确答案的数量：2个)</font></p><ul><li><strong><span style="color:#4CAF50">A.云计算底层硬件设施的安全运维</span></strong></li><li><span style="color:#333">B.云服务器ECS中的应用维护</span></li><li><strong><span style="color:#4CAF50">C.云计算租户之间的安全隔离</span></strong></li><li><span style="color:#333">D.云数据库RDS的IP白名单设置</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>阿里云作为云计算服务的提供商为用户提供的安全保障会包括云计算底层硬件设施的安全运维、云计算租户之间的安全隔离。但是云服务器ECS中的应用维护和云数据库RDS的IP白名单设置还是需要用户自己来做。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">359. 阿里云弹性伸缩(Auto Scaling)，是根据用户的业务需要和策略，自动调整其弹性计算资源的管理服务。它主要可以提供<strong>____</strong>功能。( 正确答案的数量：3个)</font></p><ul><li><strong><span style="color:#4CAF50">A.根据客户业务需要横向扩展云服务器ECS实例的数量，即自动增加或减少云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.支持负载均衡SLB配置，在增加或减少云服务器ECS实例时，自动向负载均衡SLB实例中添加或移除相应的云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">C.支持云数据库RDS访问白名单：在增加或减少云服务器ECS实例时，自动向云数据库RDS访问白名单中添加或移出该云服务器ECS实例的IP</span></strong></li><li><span style="color:#333">D.根据客户业务需求提升或者缩减单个云服务器ECS实例的配置（包括内存大小、CPU个数等）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>云弹性伸缩(Auto Scaling)是不支持单个云服务器ECS实例的配置的弹性伸缩的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">360. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。阿里云的负载均衡SLB包括<strong>____</strong>等主要的组成部分。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.LoadBalancer</span></strong></li><li><strong><span style="color:#4CAF50">B.Listener</span></strong></li><li><strong><span style="color:#4CAF50">C.Backend Server</span></strong></li><li><span style="color:#333">D.Heartbeat</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>Heartbeat不是负载均衡的组成部分。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">361. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。OSS具有<strong><strong>_</strong></strong>特点。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.存储资源利用率高，按实际使用空间结算，100%利用率</span></strong></li><li><strong><span style="color:#4CAF50">B.提供对称加密用户验证，签名权限控制及防盗链功能</span></strong></li><li><strong><span style="color:#4CAF50">C.OSS采用三副本机制，数据可靠性高</span></strong></li><li><span style="color:#333">D.服务可用性比自建服务器略低</span></li><li><strong><span style="color:#4CAF50">E.BGP多线骨干网络接入，全国各地流畅访问</span></strong></li><li><strong><span style="color:#4CAF50">F.无带宽限制，按实际用量付费</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E, F</p><p><strong>解析：</strong>服务可用性比自建服务器要高。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">362. 海量文件存储和快速访问是阿里云对象存储OSS的核心功能。B公司在一年前基于OSS构建了一个公司内部的视频分享站点（未做任何程序开发），管理员定期上传各种培训视频，2000名员工在休息时间可以进行下载和学习。为了鼓励全员一起丰富视频资源库，B公司想扩展站点功能，增加员工自助上传、评价、播放次数统计、排行榜、视频分类、热门推荐等互动功能，假设您是B公司的架构师，您可以推荐公司使用阿里云的<strong>____</strong>产品实现升级方案。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS</span></strong></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><span style="color:#333">C.加密DNS服务（HTTPDNS）</span></li><li><span style="color:#333">D.音视频转码服务(MTS)</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>划重点：2000名员工在休息时间可以进行下载和学习。自助上传、评价、播放次数统计、排行榜、视频分类。所以需要使用用到ECS部署网站，同事需要用到数据库RDS存储员工的文件数据。主要题目中没有提到视频在线播放，所以不需要用到音视频转码服务(MTS)。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">363. D公司两年前使用阿里云对象存储OSS和云服务器ECS实例构建了视频内容的展示和下载的网站。为了提高用户的体验，该网站不再提供视频下载，变为视频在线播放，同时覆盖全国范围内2000万的用户群，为了让不同地域的用户都获得良好的播放体验，D公司应该至少增加阿里云的<strong>____</strong>产品。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.云数据库RDS</span></li><li><strong><span style="color:#4CAF50">B.音视频转码服务MTS</span></strong></li><li><strong><span style="color:#4CAF50">C.内容分发网络CDN</span></strong></li><li><span style="color:#333">D.云服务器ECS</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>划重点：不再提供视频下载，变为视频在线播放。时覆盖全国范围内2000万的用户群。所以需要视频解码MTS和内容分发CDN。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">364. 权重越高的ECS实例将被分配到更多的访问请求。您可以根据后端ECS实例的对外服务能力和情况来区别设定。SLB权重设置为0会发生什么情况 ?（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.服务器优先级最高</span></li><li><strong><span style="color:#4CAF50">B.服务器优先级最低</span></strong></li><li><strong><span style="color:#4CAF50">C.能正常提供服务</span></strong></li><li><strong><span style="color:#4CAF50">D.不能正常提供服务</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>将负载均衡后端ECS的权重置零，相当于将该ECS手工下线，用于对相应ECS进行重启、配置调整等主动运维。而由于该状态下，业务数据是无法经负载均衡转发到该服务器的，所以健康检查相应的自然会显示异常。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">365. 阿里云的负载均衡SLB、云服务器ECS以及弹性伸缩（Auto Scaling）三者合理的搭配使用，可以发挥出各自的优势，比如部署简单、安全可靠、无单点障碍、可弹性伸缩、自动负载均衡、使用成本大幅度降低等，其中云服务器ECS承载了最终的计算、处理任务。在三者配合使用时，关于云服务器ECS的说法正确的有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.同一个云服务器ECS实例只能添加到同一个伸缩组中</span></strong></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例的状态必须为运行中才能添加到伸缩组中去</span></strong></li><li><span style="color:#333">C.同一个伸缩组中的云服务器ECS实例配置一定相同</span></li><li><span style="color:#333">D.云服务器ECS实例的付费类型必须为按量付费</span></li><li><strong><span style="color:#4CAF50">E.同一个伸缩组中云服务器ECS实例必需加入负载均衡SLB白名单</span></strong></li></ul><p><strong>答案：</strong>A, B, E</p><p><strong>解析：</strong>同一个伸缩组中的云服务器ECS实例配置可以不用相同，你可以手动添加闲置的不同配置的ECS进去。云服务器ECS实例可以是按量付费，也可以是包年包月。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">366. 阿里云的专有网络VPC可以帮助用户基于阿里云构建出一个隔离的网络环境。阿里云的负载均衡SLB支持专有网络VPC，即在通过专有网络VPC隔离出的网络环境里也可以使用负载均衡SLB服务。负载均衡SLB可以通过<strong>____</strong>两种方式支持专有网络VPC。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户可以申请使用自己VPC内的IP地址作为负载均衡SLB实例的私网地址，并挂载VPC的ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.用户可以申请公网IP地址作为负载均衡SLB实例的公网地址，并挂载VPC的ECS实例</span></strong></li><li><span style="color:#333">C.用户可以申请使用自己VPC内的IP地址作为负载均衡SLB实例的私网地址，并挂载经典网络的ECS实例</span></li><li><span style="color:#333">D.用户可以申请公网IP地址作为负载均衡SLB实例的公网地址，并可以混合挂载经典网络的ECS实例以及VPC的ECS实例</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>负载均衡SLB结合VPC使用的基础知识。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">367. 阿里云的专有网络VPC中的云服务器ECS实例如果希望访问经典网络中的云数据库RDS实例，以下有关操作方法及产生的影响的说法正确的是<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.给VPC内的云服务器ECS实例绑定EIP，给RDS实例设置外网连接地址，VPC内的云服务器ECS实例通过公网访问RDS实例的公网地址，经典网络的其他云服务器ECS实例还可以继续访问该RDS实例</span></strong></li><li><span style="color:#333">B.给VPC内的云服务器ECS实例绑定EIP，给RDS实例设置外网连接地址，VPC内的云服务器ECS实例通过公网访问RDS实例的公网地址，经典网络的其他云服务器ECS实例将无法再访问该RDS实例</span></li><li><strong><span style="color:#4CAF50">C.将经典网络的RDS实例切换到VPC下，VPC内的云服务器ECS实例可以直接通过内网访问RDS实例，经典网络的其他云服务器ECS实例将无法再访问该RDS实例</span></strong></li><li><span style="color:#333">D.将经典网络的RDS实例切换到VPC下，VPC内的云服务器ECS实例可以直接通过内网访问RDS实例，经典网络的其他云服务器ECS实例依然可以继续访问该RDS实例</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>云服务器ECS实例通过公网访问RDS实例的公网地址的时候，不会影响到其他经典网络通过公网访问此RDS实例；在VPC中的RDS，其他经典网络则无法访问该RDS实例。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">368. 如果您希望删除指定的阿里云的专有网络VPC，必须首先删除该专有网络内的所有云产品实例，包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.安全组</span></strong></li><li><strong><span style="color:#4CAF50">B.交换机</span></strong></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例</span></strong></li><li><span style="color:#333">D.路由器</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，路由器是你删除VPC时自动删除的。参考链接：<a href="https://help.aliyun.com/document_detail/27717.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27717.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">369. 专有网络VPC是用户在阿里云上创建的自定义的私有网络, 不同的专有网络VPC之间彻底逻辑隔离。以下<strong>____</strong>功能是专有网络VPC提供的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.设置私有IP地址范围</span></strong></li><li><strong><span style="color:#4CAF50">B.划分网段</span></strong></li><li><strong><span style="color:#4CAF50">C.配置路由表</span></strong></li><li><span style="color:#333">D.VPN连接</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>VPC支持VPN连接 但是这不是他提供的功能，VPN连接还是依赖于其他设备和网络。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">370. 某电商公司的平台建在阿里云上，为了参加一个月以后的双11促销，50人的团队进行了精心的准备，公司上下都希望双11天当平台能稳定运行，产品可以大卖。 公司CTO非常担心网络攻击和服务器存在系统级漏洞，上个月已经历了3次DDoS攻击，攻击带宽每次都在20G以上。 这种情况下阿里云的<strong>___</strong>产品可以帮到该公司。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.安全管家</span></li><li><strong><span style="color:#4CAF50">B.安骑士</span></strong></li><li><span style="color:#333">C.绿网</span></li><li><strong><span style="color:#4CAF50">D.DDoS高防IP</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>划重点：担心网络攻击和服务器存在系统级漏洞，经历了3次DDoS攻击。安骑士企业版可以检测并修复漏洞，DDoS高防IP可以防止DDoS攻击。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">371. 为了保障全体的CDN租户的使用体验，接入阿里云内容分发网络CDN前需要满足一些条件，关于阿里云CDN准入条件的描述，正确的是<strong>____</strong>（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云官网完成帐号实名认证</span></strong></li><li><span style="color:#333">B.加速域名可以是彩票类网站</span></li><li><strong><span style="color:#4CAF50">C.加速的域名必须在工信部完成备案，推荐接入阿里云备案</span></strong></li><li><strong><span style="color:#4CAF50">D.加速域名的源站内容，可选择保存于云服务器ECS实例或对象存储OSS；如源站内容不在阿里云，接入需经过人工审核</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>彩票类的网站审核在接入的时候会审核不通过。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">372. 在对阿里云的云服务器ECS实例进行续费操作时还可以做一些云服务器变配的操作，可以实现的操作包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.将云服务器ECS实例的CPU规格从8核降到4核</span></strong></li><li><strong><span style="color:#4CAF50">B.将云服务器ECS实例的内存空间从4GB提升到8GB</span></strong></li><li><strong><span style="color:#4CAF50">C.将云服务器ECS实例的固定带宽模式，变为按量计费方式</span></strong></li><li><span style="color:#333">D.在实例操作系统内重启后，新配置会立即生效</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>修改配置操作完成后，您必须通管理控制台重启实例或使用 RebootInstance 接口重启实例，新配置才能生效。而非操作系统内重启。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">373. 您已经基于阿里云的云服务器ECS实例构建好了一个web网站并向外提供服务，最近发现随着访问量的上涨，客户访问速度有的时候会慢，尤其是页面中的图片和视频，而且在不同的地域的访问速度也不一致，开始影响用户体验了。通过<strong>____</strong>方式可以解决您碰到的问题。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.将网站的图片和视频等静态内容存放到对象存储OSS中解决访问速度慢的问题</span></strong></li><li><strong><span style="color:#4CAF50">B.开通CDN服务来解决不同地域的用户访问速度不同的问题</span></strong></li><li><span style="color:#333">C.将网站的图片和视频等静态内容存放到RDS中解决访问速度慢的问题</span></li><li><span style="color:#333">D.将网页中的动态内容存放到OSS中解决访问速度慢的问题</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>题目中主要是遇到以下两个问题：第一是随着业务量上当客户访问速度慢，所以可以通过将网站的图片和视频等静态内容存放到对象存储OSS中解决访问速度慢的问题。第二是不同的地域的访问速度也不一致，所以可以通过CDN服务来解决不同地域的用户访问速度不同的问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">374. 您希望将本地已经在运行的业务系统（包括服务器及Mysql数据库）迁移到阿里云上，增加系统的可扩展性，并且降低运维成本，以下<strong>____</strong>是可行的操作。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.使用数据传输DTS的增量数据同步功能将自建机房的MySQL实例的数据迁移到RDS for MySQL</span></strong></li><li><strong><span style="color:#4CAF50">B.将本地的应用部署到阿里云的云服务器ECS实例上</span></strong></li><li><strong><span style="color:#4CAF50">C.通过已经部署好的云服务器ECS实例制作镜像，进行应用的快速复制，生成更多的应用服务器</span></strong></li><li><span style="color:#333">D.基于本地的应用服务器制作镜像上传到阿里云，直接生成新的云服务器ECS实例，提供服务</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>本地的应用服务器制作镜像不支持上传到阿里云作为镜像提供服务。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">375. 阿里云对象存储OSS的存储费用在所有地域支持“按量付费”，在部分地域支持“包年包月”和“按量付费”两种方式。用户可以通过“包年包月”的付费方式可以获得“资源包”，根据业务需求选择合适的资源包可以节约使用OSS的成本。 以下有关OSS“包年包月”收费方式的说法中<strong><strong>___</strong></strong>是正确的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.费用一次性支付，立即生效</span></strong></li><li><strong><span style="color:#4CAF50">B.用户购买的“包年包月”资源包在有效期内，扣费方式为先扣除已购买的资源包内的额度，超出部分按量收费</span></strong></li><li><strong><span style="color:#4CAF50">C.“包年包月”的资源包，采用按存储容量的阶梯计价，容量越大，单价越便宜</span></strong></li><li><span style="color:#333">D.存储容量相同的“包年包月”的资源包，购买时长越短，单价越便宜</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，存储容量相同的“包年包月”的资源包，购买时长越短，单价越贵，购买时长越长，单价越便宜</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">376. OSS是按使用收费的服务，为了防止您在OSS上的数据被其他人盗链，OSS支持基于HTTP header中表头字段referer的防盗链方法。用户在进行下面哪些访问操作的时候，OSS会进行防盗链验证？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.请求的Header中有“Authorization”字段的访问object</span></li><li><strong><span style="color:#4CAF50">B.通过URL签名访问object</span></strong></li><li><strong><span style="color:#4CAF50">C.匿名访问object</span></strong></li><li><span style="color:#333">D.白名单访问object</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>用户只有通过URL签名或者匿名访问Object时，才会做防盗链验证。请求Header中有Authorization字段时，不会做防盗链验证。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">377. OSS是按使用收费的服务，为了防止您在OSS上的数据被其他人盗链，OSS支持基于HTTP header中表头字段referer的防盗链方法。用户在进行下面哪些访问操作的时候，OSS会进行防盗链验证？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.请求的Header中有“Authorization”字段的访问object</span></li><li><strong><span style="color:#4CAF50">B.通过URL签名访问object</span></strong></li><li><strong><span style="color:#4CAF50">C.匿名访问object</span></strong></li><li><span style="color:#333">D.白名单访问object</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>用户只有通过URL签名或者匿名访问Object时，才会做防盗链验证。请求Header中有Authorization字段时，不会做防盗链验证。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">378. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。以下说法中正确的有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.有公网IP的负载均衡SLB实例删除后重建会分配一个新的公网IP，原有公网IP不可恢复</span></strong></li><li><span style="color:#333">B.在通过负载均衡SLB实例对外提供服务前，要确保已经完成并正确配置了所有负载均衡SLB实例后端云服务器ECS实例上的应用服务</span></li><li><strong><span style="color:#4CAF50">C.负载均衡SLB实例配置了健康检查，若一部分后端ECS实例宕机且仍有能正常提供对外服务的ECS实例，应用系统仍旧可以继续工作</span></strong></li><li><strong><span style="color:#4CAF50">D.负载均衡SLB实例提供后端云服务器ECS实例间的数据自动同步功能，采用的是rsync的远程同步技术</span></strong></li><li><span style="color:#333">E.负载均衡SLB实例配置了健康检查，若一部分后端ECS实例宕机，负载均衡将移除该部分ECS实例</span></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>在通过负载均衡SLB实例对外提供服务前，只需要确保SLB后端有一台ECS应用正常运行；若SLB未结合弹性伸缩一起使用，后端ECS实例宕机SLB会将其隔离（不再给其分发请求），直到该ECS健康检查恢复正常后，还会从隔离区移出，继续分发请求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">379. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，具有高可用、低成本、安全可靠等优点。关于低成本以下说法中正确的有<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.无论公网还是私网类型实例都支持按流量和带宽计费</span></li><li><strong><span style="color:#4CAF50">B.无需一次性采购昂贵的负载均衡设备</span></strong></li><li><strong><span style="color:#4CAF50">C.运维投入大大减少</span></strong></li><li><span style="color:#333">D.只收取流量费用，即根据实际使用流量付费，无需为负载均衡支付租费</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>题目中问的是负载均衡SLB低成本的描述正确的是，”无论公网还是私网类型实例都支持按流量和带宽计费”，显然是不正确的，私网是收取实例费的而不是按照流量和带宽收费。”只收取流量费用，即根据实际使用流量付费，无需为负载均衡支付租费”是不正确的，SLB不仅收取实际使用公网流量费用，还收取实例费用。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">380. 某电子购物网站，为了方便用户，提供了购物车的功能，即在用户登录期间，可以添加自己喜欢的商品到购物车，选择完成后一次性付款即可。上述网站搭建在阿里云上，选用了云服务器ECS实例和负载均衡SLB实例，应用程序将会话信息和购物车信息都只保存在了应用程序的内存中，公测期间发现绝大部分测试用户的购物车功能没有问题，但一小部分用户的购物车发生了最早添加的商品随机丢失的现象。试分析以下哪些原因可能会造成这种情况？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户购物的时长超过了负载均衡SLB实例中定义的会话保持的超时时间</span></strong></li><li><span style="color:#333">B.用户使用手机登录，一次购物的过程中，发生过网络的切换导致的重新链接</span></li><li><strong><span style="color:#4CAF50">C.某台云服务器ECS实例状态不正常，导致这部分用户前期的购物篮记录被清空</span></strong></li><li><span style="color:#333">D.负载均衡SLB实例未开启会话保持功能</span></li><li><strong><span style="color:#4CAF50">E.负载均衡SLB实例进行主备可用区切换导致部分用户数据丢失</span></strong></li></ul><p><strong>答案：</strong>A, C, E</p><p><strong>解析：</strong>商品的数据都保存在内存中，那既然出现了数据丢失，出现的问题要么是用户没有访问保存购物数据的那台机器，要么是保存他那台数据的机器出问题了。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">381. 阿里云的云监控通过监控弹性公网IP（EIP）的出流量、入流量、出流量数据包数、入流量数据包数4个监控项，帮助用户监测EIP的运行状态。下列关于弹性公网IP监控说法准确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.创建EIP后，云监控自动开始对其监控</span></strong></li><li><strong><span style="color:#4CAF50">B.用户可登录云监控的管理控制台界面查看EIP的监控数据</span></strong></li><li><strong><span style="color:#4CAF50">C.用户可以对监控项设置报警规则，以便数据异常时收到报警信息</span></strong></li><li><span style="color:#333">D.创建EIP后，云监控服务需要手动开启之后，才开始对EIP进行监控</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，创建EIP后，云监控服务自动开启，无需手动开启即可对EIP进行监控。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">382. 加入阿里云的云盾先知计划的企业，如果收到网络专家提供的漏洞信息，那么管理员能在先知计划控制台得到<strong><strong>_</strong></strong>信息。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.漏洞等级</span></strong></li><li><strong><span style="color:#4CAF50">B.漏洞状态</span></strong></li><li><strong><span style="color:#4CAF50">C.漏洞标题及详情</span></strong></li><li><strong><span style="color:#4CAF50">D.漏洞提交人</span></strong></li><li><span style="color:#333">E.出现漏洞的功能是哪个工程师开发的</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，先知计划是无法检测到漏洞的具体开发人员的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">383. 阿里云的云监控的“站点监控”功能可以对目标站点服务的可用性以及响应时间进行监控。系统已经默认预置了8种监控类型，包括http监控、ping监控、tcp监控、udp监控、DNS监控、pop监控、smtp监控、ftp监控，其中每种监控类型里面包含了两个监控项，分别是<strong>_</strong>和<strong>__</strong>.（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.响应时间：responsetime</span></strong></li><li><strong><span style="color:#4CAF50">B.状态码：status</span></strong></li><li><span style="color:#333">C.响应内容长度：length</span></li><li><span style="color:#333">D.请求时间：requestime</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>站点监控可以对目标站点服务的可用性以及响应时间进行监控。系统已经默认预置了8种监控类型，包括http监控、ping监控、tcp监控、udp监控、DNS监控、pop监控、smtp监控、ftp监控。其中每种监控类型里面包含了两个监控项：status和responsetime。参考链接：<a href="https://wenku.baidu.com/view/d2f007b1482fb4daa48d4b39.html" target="_blank" rel="noopener">https://wenku.baidu.com/view/d2f007b1482fb4daa48d4b39.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">384. 下列关于OSS静态网站托管说法正确的是？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户可以通过OSS将自己的bucket配置成静态网站托管模式</span></strong></li><li><strong><span style="color:#4CAF50">B.通过Bucket域名访问bucket配置的静态网站</span></strong></li><li><span style="color:#333">C.OSS bucket静态托管中的默认首页不支持html格式文件</span></li><li><strong><span style="color:#4CAF50">D.如果默认页面为空，则表示不启用静态页面托管</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>OSS的静态托管是支持html格式的文件的。参考链接：<a href="https://help.aliyun.com/document_detail/31872.html?spm=5176.10695662.1996646101.searchclickresult.44f06ee7RBCr4W" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31872.html?spm=5176.10695662.1996646101.searchclickresult.44f06ee7RBCr4W</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">385. 阿里云的云盾安骑士防暴力密码破解功能可以保护<strong>____</strong>服务。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.windows远程桌面服务（RDP）、Linux远程控制服务（SSH）</span></strong></li><li><strong><span style="color:#4CAF50">B.文件传输服务（FTP）</span></strong></li><li><strong><span style="color:#4CAF50">C.MySQL数据库服务、SQLServer数据库服务</span></strong></li><li><span style="color:#333">D.WEB服务（HTTP）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，WEB服务不属于安骑士的功能点。参考链接：<a href="https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.39025ad5X4JVKR" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.39025ad5X4JVKR</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">386. 阿里云的云盾的<strong>____</strong>服务可以进行DDoS攻击防护。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.态势感知</span></li><li><strong><span style="color:#4CAF50">B.DDoS基础防护</span></strong></li><li><strong><span style="color:#4CAF50">C.DDoS高防IP</span></strong></li><li><span style="color:#333">D.内容安全（原名：绿网）</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>可以进行DDoS攻击防护，很明显是DDoS基础防护，DDoS高防IP。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">387. 云计算服务的安全需要云服务的提供方（如阿里云）、ISV（独立软件开发商）和用户来共同参与，任何一方的疏漏都可能产生安全风险。云计算服务的ISV需要<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.制定完善的业务流程</span></li><li><span style="color:#333">B.制定良好的开发规范和测试规范，有完整的软件交付验收流程</span></li><li><strong><span style="color:#4CAF50">C.部署云计算应用时有统一的操作规范，操作过程可追溯</span></strong></li><li><strong><span style="color:#4CAF50">D.应用系统中不同角色的岗位划分不同的权限，禁止共享账号密码</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>题目中问是的ISV（独立软件开发商）需要做哪些来保障安全，就是问使用阿里云服务的企业需要采取哪些安全错误来保障安全，从安全的角度先考虑，所以需要考虑选项中的操作规范和角色账号的权限问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">388. 阿里云弹性伸缩（Auto Scaling）中的冷却时间是指在同一伸缩组内一个伸缩活动执行完成后的一段锁定时间内，该伸缩组不执行某些类型的伸缩活动。冷却时间可以避免过于频繁的资源增加或减少的操作，有利于系统的稳定，带给用户更好的体验。以下哪些类型的伸缩活动即使在冷却时间内也可以执行？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.云监控报警任务触发的伸缩活动</span></li><li><strong><span style="color:#4CAF50">B.定时任务触发的伸缩活动</span></strong></li><li><strong><span style="color:#4CAF50">C.手工触发的伸缩活动</span></strong></li><li><strong><span style="color:#4CAF50">D.健康模式触发的伸缩活动</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>在冷却时间内，伸缩组会拒绝由云监控报警任务触发的伸缩活动请求。但其他类型任务（手动执行任务、定时任务）触发的伸缩活动可以立即执行，绕过冷却时间。参考链接：<a href="https://help.aliyun.com/document_detail/25912.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25912.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">389. 您基于业务需求的需要，需要创建一台新的云服务器ECS实例来满足业务的需求，创建该ECS实例时需要要考虑如下哪些条件的限制？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.原有的服务部署的云服务器ECS实例所在的地域和可用区</span></strong></li><li><span style="color:#333">B.服务器ECS实例是否能够支持基础DDoS攻击</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的地域</span></strong></li><li><strong><span style="color:#4CAF50">D.云服务器ECS实例的操作系统</span></strong></li><li><strong><span style="color:#4CAF50">E.云服务器ECS实例所在的可用区</span></strong></li></ul><p><strong>答案：</strong>A, C, D, E</p><p><strong>解析：</strong>题目中问的是创建一个新的云服务器ECS实例与之前的实例搭配来完成需求，因为云服务器ECS实例支持5G以下的基础DDoS攻击，所以不需要考虑。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">390. 阿里云的云服务器ECS实例根据底层支持的硬件不同，而划分为不同的实例系列。对于实例系列 I采用 Intel Xeon CPU，实例系列 II采用Haswell CPU。以下关于实例系列说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.实例系列 II 的用户用户可以获得更大的实例规格</span></strong></li><li><strong><span style="color:#4CAF50">B.实例系列 II 同时增加了一些新的指令集，使整数和浮点运算的性能翻倍</span></strong></li><li><span style="color:#333">C.实例系列 I 与实例系列 II 之间可以互相升降配</span></li><li><strong><span style="color:#4CAF50">D.对于 I/O 优化实例，配合SSD云盘使用获得更高更好的 I/O 性能</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>系列 II 较系列 I 进行了硬件升级，采用 Haswell CPU、DDR4 内存，并默认为 I/O 优化实例，同时增加了一些新的指令集，使整数和浮点运算的性能翻倍，整体计算能力更强。但是不支持实例系列 I 与实例系列 II 之间可以互相升降配。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">391. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流分量发的服务，可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。阿里云的负载均衡SLB支持<strong>____</strong>层网络协议的负载均衡服务。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.3层（网络层）</span></li><li><strong><span style="color:#4CAF50">B.7层（应用层）</span></strong></li><li><strong><span style="color:#4CAF50">C.4层（传输层）</span></strong></li><li><span style="color:#333">D.2层（数据链路层）</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>阿里云的负载均衡SLB目前仅支持4层和7层的负载均衡。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">392. 某企业使用阿里云的专有网络VPC构建了一个隔离的网络环境，并通过VPN专线将该网络与传统数据中心组成一个按需定制的网络环境，这样就可以把一些原来在传统数据中心中运行的应用平滑迁移到了阿里云上。现在需要从公网上接收用户请求，并使用阿里云的负载均衡SLB实例将这些请求分配到VPC中的多台云服务器ECS实例上去。以下说法中正确的有<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.用户在VPC内创建负载均衡SLB实例，并挂载VPC内的ECS实例，通过跳板机接收外部请求，然后将这些请求通过负载均衡SLB实例分发给后端ECS实例</span></li><li><strong><span style="color:#4CAF50">B.用户在VPC内创建负载均衡SLB实例，并挂载VPC内的ECS实例，为负载均衡SLB实例绑定一个EIP，即可实现负载均衡SLB实例接受公网请求，并将这些请求分发给后端ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">C.用户创建公网IP的负载均衡SLB实例，挂载VPC中的ECS实例，这样来自于公网的请求就会被分流到VPC中的ECS实例上去处理</span></strong></li><li><span style="color:#333">D.用户创建公网IP的负载均衡SLB实例，挂载VPC中的ECS实例和本地数据中心的服务器，这样来自于公网的请求就会被分流到VPC中的ECS实例以及本地数据服务器上去处理</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>题目考察的是公网分发请求至SLB的正确方法，按照官方推荐应该是购买公网IP的负载均衡SLB实例接收公网请求，或者创建VPC内的负载均衡SLB实例，然后再给这个SLB绑定EIP来接收公网请求。用跳板机接收外部请求不规范且冗余，既然有了公网IP，就没有必要使用跳板机来接收公网请求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">393. 某社交网站的整个平台基于阿里云的负载均衡SLB、云服务器ECS和云数据库RDS构建，原来只提供WEB纯动态的文字信息交流。 最近网络直播很流行，运营团队为了增加会员活跃度，也准备开设网络直播业务，实现全国20万会员随时随地快速观看直播，预计同步在线人数3000人。 需要再开通阿里云的<strong>____</strong>产品来支撑这个业务。（正确答案的数量：4个）</font></p><ul><li><span style="color:#333">A.高性能计算 HPC (AliCloud HPC)</span></li><li><strong><span style="color:#4CAF50">B.弹性伸缩(Auto Scaling)</span></strong></li><li><strong><span style="color:#4CAF50">C.对像存储OSS</span></strong></li><li><strong><span style="color:#4CAF50">D.媒体转码（Media Transcoding）</span></strong></li><li><strong><span style="color:#4CAF50">E.内容分发网络CDN</span></strong></li></ul><p><strong>答案：</strong>B, C, D, E</p><p><strong>解析：</strong>题目中要求创建是社交网站，需要支持直播，所以需要媒体转码（Media Transcoding）服务；同时支持全国的会员随时随地快速观看，所以需要用到对象存储OSS来保存直播视频内容且配合内容分发网络CDN实现全国地区的加速观看。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">394. 您已经创建好了阿里云的云服务器ECS Linux实例，并承担该云服务器的系统管理员角色，当发生无法远程连接该云服务器ECS实例时，以下检查方法中正确的是？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.查看一下云服务器ECS实例上的防火墙是否有拦截，可以先关闭防火墙进行测试</span></strong></li><li><strong><span style="color:#4CAF50">B.查看一下云服务器ECS实例上是否有运行NetworkManeger的服务，这个服务可能会影响到您的网络，可以使用Service NetworkManager Status查看一下服务状态</span></strong></li><li><span style="color:#333">C.不需要检查本地客户端的网络对外访问是否正常</span></li><li><strong><span style="color:#4CAF50">D.如果在本地无法telnet到云服务器ECS实例的ssh远程端口，可以通过管理控制台的远程终端登陆到云服务器ECS实例后，查看一下服务器上的ssh服务是否正常启动</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>题目是遇到的问题是无法远程连接该云服务器ECS实例，需要分别从防火墙，端口，以及可能影响网络的服务入手，同时检查你所需要连接的本地客户端是否已经成功联网也是有必要的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">395. 阿里云负载均衡SLB是对多台云服务器ECS实例进行流量分发的服务。配置和管理一个负载均衡SLB实例，主要涉及以下<strong>____</strong>操作。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.负载均衡SLB实例的监听配置</span></strong></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB实例的后端ECS实例配置</span></strong></li><li><span style="color:#333">C.负载均衡SLB的公网IP</span></li><li><strong><span style="color:#4CAF50">D.负载均衡SLB实例的属性配置</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>公网IP是购买负载均衡SLB时候系统分配的，或者你单独购买EIP后单独给负载均衡SLB绑定。并不是在你在负载均衡的配置和管理里面可以设定的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">396. 云计算服务的安全需要云服务的提供方（如阿里云）、ISV（独立软件开发商）和用户来共同参与，任何一方的疏漏都可能产生安全风险。以下关于云计算安全责任的说法中<strong><strong>__</strong></strong>是正确的。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云负责底层云平台的安全，并为用户提供安全防护的工具（云盾）</span></strong></li><li><strong><span style="color:#4CAF50">B.操作系统之上的应用和数据安全需要用户的参与</span></strong></li><li><span style="color:#333">C.用户选择了阿里云，一切安全问题由阿里云全部搞定</span></li><li><span style="color:#333">D.安全责任完全由客户自己承担，上不上云没有区别</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>阿里云负责底层云平台的安全责任，用户仍然需要参与维护操作系统上的应用和数据安全。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">397. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。为了让用户对存放在OSS里的文件访问可控，OSS为每个存储空间(Bucket)提供了多种访问权限。<strong><strong>_</strong></strong>属于可以对Bucket设置的权限。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.私有读</span></li><li><strong><span style="color:#4CAF50">B.公共读写</span></strong></li><li><strong><span style="color:#4CAF50">C.公共读</span></strong></li><li><strong><span style="color:#4CAF50">D.私有</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>Bucket的权限没有私有读的权限，参考链接：<a href="https://help.aliyun.com/document_detail/31843.html?spm=5176.11065259.1996646101.searchclickresult.2a5211f9NulYEQ" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31843.html?spm=5176.11065259.1996646101.searchclickresult.2a5211f9NulYEQ</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">398. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。OSS 产品的账单费用由三部分组成，包括：存储空间费用、流量费用和API请求费用。下面对OSS的操作中<strong>___</strong>收取流量费用。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.从本地PC机上传文件到OSS</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例通过公网IP下载OSS文件</span></strong></li><li><span style="color:#333">C.云服务器ECS实例通过内网IP下载OSS文件</span></li><li><strong><span style="color:#4CAF50">D.从本地PC机下载OSS文件</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>上传：内网，外网都不收取流量费用；下载：内网不收取流量费用，外网收取流量费用。所以过公网IP下载OSS文件，本地PC机下载OSS文件都是收取流量费用的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">399. 路由表是阿里云专有网络VPC路由器上管理路由条目的列表，路由条目定义了通向指定目标网段的网络流量的下一跳地址。路由表支持通过<strong>____</strong>方式进行配置。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.远程登录到路由器进行控制</span></li><li><strong><span style="color:#4CAF50">B.专有网络VPC的管理控制台</span></strong></li><li><span style="color:#333">C.进入机房直接对路由器进行控制</span></li><li><strong><span style="color:#4CAF50">D.阿里云VPC的OpenAPI</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>您可以通过专有网络VPC的管理控制台以及专有网络VPC的相关路由表接口来管理配置路由表，参考链接：<a href="https://help.aliyun.com/document_detail/87057.html?spm=5176.10695662.1996646101.searchclickresult.3baf4a1a9j9jzj" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/87057.html?spm=5176.10695662.1996646101.searchclickresult.3baf4a1a9j9jzj</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">400. 路由器是阿里云专有网络VPC的枢纽。下列描述中关于路由器的说法中正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.路由器不支持根据具体的路由条目的设置来转发网络流量</span></li><li><strong><span style="color:#4CAF50">B.创建VPC时，系统会自动为每个VPC创建1个路由器</span></strong></li><li><strong><span style="color:#4CAF50">C.删除VPC时，会自动删除对应的路由器</span></strong></li><li><strong><span style="color:#4CAF50">D.不支持直接创建和删除路由器</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>路由器是支持根据具体的路由条目的设置来转发网络流量。VPC中的路由器都是随VPC的生命周期自动创建和删除的，用户不需要手动操作。参考链接：<a href="https://help.aliyun.com/document_detail/34218.html?spm=5176.10695662.1996646101.searchclickresult.6f0df61fKHXiuZ" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/34218.html?spm=5176.10695662.1996646101.searchclickresult.6f0df61fKHXiuZ</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">401. 云计算服务的安全需要云服务的提供方（如阿里云）、ISV（独立软件开发商）和用户来共同参与，任何一方的疏漏都可能产生安全风险。 管理员的日常运维习惯直接关系到云上资源的安全。以下<strong><strong>_</strong></strong>属于良好的运维习惯。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.管理员通过统一的堡垒机远程管理云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.购买云服务器ECS实例后，立即将管理密码修改为8位以上复杂密码</span></strong></li><li><span style="color:#333">C.管理员之前经常通过Email和QQ发送帐号和密码</span></li><li><span style="color:#333">D.三个管理员共用一套用户名和密码</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>题目中问的是良好的运维习惯，很显然管理员之前经常通过Email和QQ发送帐号和密码，三个管理员共用一套用户名和密码，属于无规范的运维行为。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">402. 阿里云的云服务器ECS拥有与传统服务器和虚拟主机无法企及的优势。在服务器容灾备份方面以下<strong>____</strong>属于云服务器ECS的优势。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.支持自动备份</span></li><li><strong><span style="color:#4CAF50">B.每份数据多份副本</span></strong></li><li><strong><span style="color:#4CAF50">C.单份数据损坏可在短时间内快速恢复</span></strong></li><li><span style="color:#333">D.需要用户人工制作数据备份</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>题目问的是ECS在容灾方面比传统虚拟主机拥有的优势，其中”支持自动备份”这个是传统虚拟主机也具备的。”需要用户人工制作数据备份”不能算优势。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">403. 阿里云弹性伸缩(Auto Scaling)，是根据用户的业务需求和策略，自动调整其弹性计算资源的管理服务。以下关于阿里云弹性伸缩的优势说法正确的有<strong>____</strong>？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.根据设定策略自动调整弹性计算资源，满足业务波动性比较大的场景</span></strong></li><li><strong><span style="color:#4CAF50">B.伸缩模式丰富，可同时配置多种伸缩模式</span></strong></li><li><strong><span style="color:#4CAF50">C.按规则自动创建和释放云服务器ECS实例，自动配置RDS访问白名单</span></strong></li><li><span style="color:#333">D.支持多种阿里云产品的动态伸缩，包括云服务器ECS、云数据库RDS、负载均衡SLB以及表格存储（Table Store，原OTS）</span></li><li><strong><span style="color:#4CAF50">E.根据需求分配资源，在无法准确预测业务变化时，解决业务连续性的问题</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>弹性伸缩目前只支持ECS及其数据盘的弹性伸缩，不支持云数据库RDS、负载均衡等云产品的弹性伸缩。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">404. 云计算是一种商业计算模型，它将计算任务分布在大量计算机组成的资源池上，使各种应用系统能够根据需要获取计算力、存储空间和信息服务。以下关于云计算特点的说法正确的有<strong>____</strong>？（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.虚拟化</span></strong></li><li><strong><span style="color:#4CAF50">B.按需服务</span></strong></li><li><span style="color:#333">C.仅支持单租户</span></li><li><strong><span style="color:#4CAF50">D.通用性</span></strong></li><li><strong><span style="color:#4CAF50">E.大规模</span></strong></li><li><strong><span style="color:#4CAF50">F.高可靠性</span></strong></li></ul><p><strong>答案：</strong>A, B, D, E, F</p><p><strong>解析：</strong>云计算的特点：大规模，虚拟化，高可靠性，通用性，按需服务，高可伸缩性，廉价性。云计算是支持多租户而不是仅支持单租户。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">405. 阿里云对象存储OSS里存储的所有文件必须隶属于某个存储空间Bucket，当一个用户创建了多个Bucket，每个Bucket为不同的应用服务时，最安全的方法是让每个应用只能访问对应的Bucket。阿里云的OSS与访问控制RAM配合可以满足此类业务需求。OSS配合RAM的方案描述正确的是<strong><strong>___</strong></strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.不同的应用访问不同的Bucket，但是权限只有“允许”和“拒绝”，不区分“读”和“写”</span></li><li><strong><span style="color:#4CAF50">B.开发环境和正式线上环境中的应用使用不同的Bucket</span></strong></li><li><strong><span style="color:#4CAF50">C.允许某个应用读，另一个应用写同一个Bucket里的文件</span></strong></li><li><strong><span style="color:#4CAF50">D.让某个应用临时读写某个Bucket，凭证过期后无法访问</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>不同的应用是应该访问不同的Bucket，权限不仅需要有“允许”和“拒绝”，而且为了安全，也需要区分“读”和“写”。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">406. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。在OSS中文件都隶属于某一个存储空间Bucket，并且能以Bucket为单位设置相关的属性，以决定整个Bucket里的文件对外展现的形式和特定的功能。以下<strong><strong>__</strong></strong>可以通过Bucket属性设置的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.防盗链设置</span></strong></li><li><span style="color:#333">B.设置OSS文件被访问时的HTTP头（Header）</span></li><li><strong><span style="color:#4CAF50">C.自定义域名绑定</span></strong></li><li><strong><span style="color:#4CAF50">D.读写权限（ACL）设置</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>目前在OSS的控制台的属性设置里面，是没有设置OSS文件被访问时的HTTP头（Header）这个操作，具体的可以实践操作了解。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">407. 您已经创建好的阿里云的云服务器ECS实例上部署了服务A，当服务A不再需要提供服务时，可以使用该云服务器部署服务B，如果服务A和B所需的操作系统不同，则需要更换该ECS实例的系统盘。在执行该操作的过程中，以下说法正确的是？（正确答案的数量：5个）</font></p><ul><li><span style="color:#333">A.更换系统盘之后，您的云服务器ECS实例的IP地址会发生变化</span></li><li><strong><span style="color:#4CAF50">B.更换系统盘之后，您现有系统盘的自动快照及其上的数据会丢失</span></strong></li><li><strong><span style="color:#4CAF50">C.更换系统盘时可以选择用户自定义镜像、阿里云为您提供的公共镜像</span></strong></li><li><strong><span style="color:#4CAF50">D.在有数据盘的情况下，如果是Windows系统更换至Linux系统，由于Linux默认无法识别NTFS格式，需要您单独安装软件识别，例如ntfs3G等</span></strong></li><li><strong><span style="color:#4CAF50">E.更换系统盘前云服务器ECS实例要处于”已停止”状态</span></strong></li><li><strong><span style="color:#4CAF50">F.在有数据盘的情况下，如果是Linux系统更换至Windows系统，由于Windows系统默认无法识别ext3，ext4，xfs等文件系统格式的磁盘，需要您单独安装软件识别，例如 ext2read ext2fsd 等</span></strong></li></ul><p><strong>答案：</strong>B, C, D, E, F</p><p><strong>解析：</strong>排除法，更换系统盘并不是导致网络层的IP地址会发生变化。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">408. 云计算是一种商业计算模型，它将计算任务分布在大量计算机组成的资源池上，使各种应用系统能够根据需要获取计算力、存储空间和信息服务。以下哪些是按照云计算服务的部署方式分类的？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.公共云</span></strong></li><li><strong><span style="color:#4CAF50">B.混合云</span></strong></li><li><strong><span style="color:#4CAF50">C.专有云</span></strong></li><li><span style="color:#333">D.能源云</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>能源云并不属于的云计算服务的部署方式。云计算的四种部署方式:私有云、社区云、公有云（公共云）和混合云。参考链接：<a href="http://www.enkj.com/idcnews/Article/20180627/13246" target="_blank" rel="noopener">http://www.enkj.com/idcnews/Article/20180627/13246</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">409. 某大型企业准备将公司内部的整套业务系统都迁到阿里云上，以节省整体的IT采购成本和运维成本。在安全性方面，公司提出了两点要求：1、因管理员经常出差，要能支持多地远程的安全运维。 2、有多个子系统是不同部门独立使用的，子系统之间要做好网络隔离。 以下<strong><strong>__</strong></strong>方案组合可以满足该公司的需求。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.建立单独的ECS实例作为堡垒机，用于远程登录运维，授权堡垒机可访问其它子系统所在的ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.在堡垒机上开启VPN服务（也可以直接使用云市场的VPN镜像），管理员运维时采用VPN加密通信</span></strong></li><li><span style="color:#333">C.在专有网络 VPC下创建多台ECS实例，用于安装不同部门使用的子系统。所有ECS实例只分配私网IP，并放入唯一的安全组</span></li><li><strong><span style="color:#4CAF50">D.使用云服务器ECS实例的安全组功能，将运行不同的子系统ECS分别放入独立的安全组</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>排除法，不用部门使用的子系统应该根据不同子系统的应用配置不同的安全组，每个子系统的安全组的分开配置，这样方便于日后的维护管理。而不是放入唯一的安全组。所以”放入唯一的安全组”是错误的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">410. 您已经购买了阿里云的一台云服务器ECS实例并挂载3块数据盘，现在需要对该云服务ECS实例进行升级，可以升级的配置包括<strong>____</strong>。（（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.有限的扩展磁盘的容量</span></strong></li><li><strong><span style="color:#4CAF50">B.CPU</span></strong></li><li><strong><span style="color:#4CAF50">C.内存</span></strong></li><li><span style="color:#333">D.无上限的增加数据盘</span></li><li><strong><span style="color:#4CAF50">E.带宽</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>一台ECS实例最多能挂载16块云盘作数据盘用，所以并不支持无上限的增加数据盘。参考链接：<a href="https://help.aliyun.com/document_detail/25446.html?spm=5176.10695662.1996646101.searchclickresult.6c505e81Fmniwi" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25446.html?spm=5176.10695662.1996646101.searchclickresult.6c505e81Fmniwi</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">411. B公司想基于阿里云的产品构建一个纯WEB版本的网盘，用于公司内3千名员工的内部文件的存储和分享。要求员工能在线上传和下载文件，并查看文件列表，员工之间可以授权共享查看和下载，存储容量为10Tb。那么B公司应该选用阿里云的<strong>____</strong>产品来保证网盘的可扩展性。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.内容分发网络CDN，缓存热点文件</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS，运行网盘应用程序</span></strong></li><li><strong><span style="color:#4CAF50">C.云数据库RDS，保存文件基本信息、下载链接、员工信息等</span></strong></li><li><strong><span style="color:#4CAF50">D.对象存储OSS，保存网盘里的文件</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>因为是一个公司的员工，不存在分布在全国各地的情况，所以不需要用到内容分发网络CDN。其他的ECS，RDS，OSS都需要用到。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">412. 路由器是阿里云专有网络VPC的枢纽。下列描述中关于路由器的说法中正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.删除VPC时，会自动删除对应的路由器</span></strong></li><li><strong><span style="color:#4CAF50">B.不支持直接创建和删除路由器</span></strong></li><li><strong><span style="color:#4CAF50">C.创建VPC时，系统会自动为每个VPC创建1个路由器</span></strong></li><li><span style="color:#333">D.路由器不支持根据具体的路由条目的设置来转发网络流量</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>路由器支持根据具体的路由条目的设置来转发网络流量。路由条目定义了通向指定目标网段的网络流量的下一跳地址。路由表根据具体的路由条目的设置来转发网络流量。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/53682.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/53682.htm</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">413. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。与自建存储对比，OSS在可靠性、安全、成本和数据处理能力方面具备明显的优势。<strong>____</strong>属于OSS安全方面的优势。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.提供多种鉴权和授权机制及白名单、防盗链、主子账号功能</span></strong></li><li><strong><span style="color:#4CAF50">B.免费支持防DDoS攻击、自动流量清洗及黑洞功能</span></strong></li><li><strong><span style="color:#4CAF50">C.多用户资源隔离机制</span></strong></li><li><span style="color:#333">D.流量清洗和黑洞设备需要另外购买，OSS提供强大的API支持</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>题目中问的是OSS安全方面的优势，OSS提供企业级多层次安全防护，无需另外购买清洗和黑洞设备。参考链接：<a href="https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.176365d3EcRMPL" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.176365d3EcRMPL</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">414. 阿里云的云服务器ECS应用非常广泛，既可以单独使用作为简单的 Web 服务器，也可以与其他阿里云产品（如 OSS、CDN等）搭配提供强大的多媒体解决方案。以下<strong>____</strong>是云服务器ECS的典型应用场景。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.多媒体、大流量的APP或网站</span></strong></li><li><strong><span style="color:#4CAF50">B.简单的Web应用</span></strong></li><li><span style="color:#333">C.海量的数据分析</span></li><li><strong><span style="color:#4CAF50">D.企业应用开发环境</span></strong></li><li><strong><span style="color:#4CAF50">E.访问量波动大的APP或网站</span></strong></li><li><strong><span style="color:#4CAF50">F.企业官网</span></strong></li></ul><p><strong>答案：</strong>A, B, D, E, F</p><p><strong>解析：</strong>还想数据分析需要借助Hadoop等软件配合硬件来实现，ECS不适合海量数据分析的工作，也不是ECS的典型应用场景。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">415. 创建阿里云的云服务器ECS实例之前，需要对ECS实例的配置进行选型，阿里云为用户提供了推荐的配置组合方案来满足大部分用户的需求，这些推荐配置只是作为您开始使用云服务器ECS实例的参考。同时，阿里云还提供了灵活、可编辑的配置修改方式。如果您在使用过程中，发现ECS实例的配置过高或过低，可以随时修改配置进行ECS实例的变配。下列关于ECS实例的变配说法正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.升级云服务器ECS实例的CPU和内存后，必须通过阿里云的管理控制台重启ECS实例才能生效，在ECS实例内重启无效</span></strong></li><li><strong><span style="color:#4CAF50">B.变配后，云服务器ECS实例的带宽即时生效</span></strong></li><li><strong><span style="color:#4CAF50">C.变配后，云服务器ECS实例的公网和内网的 IP 地址不会改变</span></strong></li><li><span style="color:#333">D.不支持对云服务器ECS实例的配置进行降级</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>阿里云服务器ECS支持自定义升级，可以根据用户需求，针对CPU、内存、带宽进行升级。其中带宽支持按天来进行升级。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">416. 阿里云弹性伸缩(Auto Scaling)中的伸缩组，是指具有相同应用场景的ECS实例集合。当用户创建一个伸缩组时需要包含以下哪些内容？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.伸缩触发任务</span></li><li><strong><span style="color:#4CAF50">B.伸缩配置</span></strong></li><li><strong><span style="color:#4CAF50">C.伸缩活动</span></strong></li><li><strong><span style="color:#4CAF50">D.伸缩规则</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>伸缩组包含伸缩配置、伸缩规则、伸缩活动。参考链接：<a href="https://help.aliyun.com/document_detail/25858.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25858.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">417. 对象是阿里云对象存储OSS存储数据的基本单元，也被称为OSS的文件。每个对象由文件名（Key），用户数据（Data）和元信息（Object Meta）组成。其中，对象的元信息是一组键值对，表示对象的一些属性。OSS支持的文件操作包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.文件创建</span></strong></li><li><strong><span style="color:#4CAF50">B.文件读取</span></strong></li><li><span style="color:#333">C.文件修改</span></li><li><strong><span style="color:#4CAF50">D.文件删除</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>OSS的文件（Object）不支持修改。参考链接：<a href="https://help.aliyun.com/knowledge_detail/65426.html?spm=5176.10695662.1996646101.searchclickresult.44fd254c1MBrPD" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/65426.html?spm=5176.10695662.1996646101.searchclickresult.44fd254c1MBrPD</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">418. 使用阿里云的高速通道可以实现专有网络VPC之间的互联和私网通信。以下<strong>____</strong>场景可以通过高速通道实现。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.同一个帐号处于两个不同地域的VPC之间进行私网通信</span></strong></li><li><strong><span style="color:#4CAF50">B.同一个帐号下在同一地域内的两个VPC之间的私网通信</span></strong></li><li><span style="color:#333">C.同一个账号下的VPC与经典网络的云服务器ECS实例的私网通信</span></li><li><strong><span style="color:#4CAF50">D.不同账号下的两个网段不同的VPC之间可以通过高速通道进行私网通信</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>高速通道（Express Connect）是一款基于 IPVPN 的便捷高效的网络服务，用于在云上的不同网络环境间实现高速、稳定、安全的私网通信，包括跨地域/跨用户的 VPC 内网互通、专线接入等场景，有效的帮助您提高网络拓扑的灵活性和跨网络通信的质量和安全性。VPC中的ECS不可以和经典网络的ECS实现高速通道的通信。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">419. 云计算服务的安全需要云服务的提供方（如阿里云）、ISV（独立软件开发商）和用户来共同参与，任何一方的疏漏都可能产生安全风险。 云计算服务的用户需要<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.提供物理基础设施的安全防护</span></li><li><span style="color:#333">B.保证云机房的多路供电</span></li><li><strong><span style="color:#4CAF50">C.定期修改业务系统密码</span></strong></li><li><strong><span style="color:#4CAF50">D.加强组织内部的信息安全管理，避免敏感信息外泄</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>题目中问的是ISV（独立软件开发商）需要做哪些来保障安全，就是问使用阿里云服务的企业需要采取哪些安全错误来保障安全，从安全的角度先考虑，所以定期修改业务系统密码，加强组织内部的信息安全管理都是可行的办法。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">420. 您发现某台阿里云的云服务器ECS实例的磁盘上的数据被误删除，需要回滚到之前某个时刻的数据，可以通过对该磁盘进行回滚操作来实现。登录到阿里云的管理控制台进行回滚操作时，您发现不能进行该操作，可能是<strong>____</strong>原因造成的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例的状态为“启动中”</span></strong></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例的状态为“运行中”</span></strong></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的状态为“已过期”</span></strong></li><li><span style="color:#333">D.云服务器ECS实例的状态为“已停止”</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>回滚磁盘必须要求云盘必须已经 挂载到某台ECS实例上，而且已经 停止实例。所以不会是“已停止”的状态造成的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">421. 您已经基于阿里云的云服务器ECS实例构建好了一个web网站，向外提供服务，最近你发现随着访问量的上涨，您的客户访问图片的速度有的时候会很慢，你发现网页通过手机和pad等进行访问的时候，图片的适配也做的不太好，有些影响业务。通过<strong>____</strong>方式可以最高效率地解决您碰到的问题。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.将网站的图片内容存放到对象存储OSS中解决访问速度慢的问题</span></strong></li><li><span style="color:#333">B.将网站的图片内容存放到RDS中解决访问速度慢的问题</span></li><li><span style="color:#333">C.自己开发图片适配的能力来匹配不同的终端访问</span></li><li><strong><span style="color:#4CAF50">D.将网站的图片存放到对象存储OSS中，并开通图片处理的功能，在不同的终端访问时调用图片处理能力进行实时处理来解决适配问题</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>题目中说了会有图片访问速度很慢，以及图片的适配较差，所以需要用对象存储OSS中解决访问速度慢的问题，结合对象存储OSS中的图片处理能力来解决图片适配差的问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">422. 阿里云的同一个账号在同一个地域的不同的云服务器ECS实例，可以通过安全组规则设置ECS实例之间内网互通。同一个安全组下的ECS实例默认是内网互通的，不同的安全组下ECS实例默认是内网不通的。如果希望两台ECS实例InstanceA和InstanceB可以内网互通，以下操作中正确的包括<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.如果云服务器ECS实例InstanceA和InstanceB不在同一个安全组内，只需要在其中一个安全组内设置内网授权另一个安全组可以访问的安全组规则，就可以满足内网都互通了</span></li><li><span style="color:#333">B.为了实现内网互通，一定要把ECS实例InstanceA和InstanceB放在同一个安全组内</span></li><li><strong><span style="color:#4CAF50">C.如果ECS实例InstanceA和InstanceB不在同一个安全组内，两个安全组各自增加授权另一个安全组可以访问的安全组规则，就可以满足内网都互通了</span></strong></li><li><strong><span style="color:#4CAF50">D.把ECS实例InstanceA和InstanceB放入到相同的安全组中，就可以满足内网都互通了</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>同一个账号在同一个地域的的情况下，通过安全组实现内网互通，要么是在同一个安全组下面，要么是两个安全组相互授权对方可以访问。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">423. MapReduce是一种编程模型，用于大规模数据集的并行运算，可以非常好的和云计算相结合以处理海量数据计算。MapReduce 的设计目标包括以下哪些项？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.实时性</span></li><li><strong><span style="color:#4CAF50">B.高容错性</span></strong></li><li><strong><span style="color:#4CAF50">C.易于扩展</span></strong></li><li><strong><span style="color:#4CAF50">D.易于编程</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>MapReduce将自己的程序运行在分布式系统上，他的计算速度比较慢，计算出来的中间结果等等都会写到磁盘上，输出的结果也会到磁盘上，读写磁盘就意味着性能不能达到实时的要求。做历史数据的批处理比较好。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">424. 某创业团队开发了一款提供“公共图片服务”的互联网应用，主要用途是为电商类网站提供图片托管，实现海量小图片存储和全国快速访问，每日平均增加500Gb图片文件，访问PV每日3000万次。通过自主开发的API接口用于文件上传、查询和删除。目前该团队准备把全部应用迁到阿里云上，至少应该开通阿里云上的<strong>____</strong>产品。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.对像存储OSS</span></strong></li><li><strong><span style="color:#4CAF50">B.云服务器ECS</span></strong></li><li><span style="color:#333">C.弹性伸缩(Auto Scaling)</span></li><li><strong><span style="color:#4CAF50">D.内容分发网络CDN</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>题目中说了，需要图片托管，所以需要OSS，需要快速访问，所以需要CDN，需要”自主开发的API接口用于文件上传、查询和删除”，所以需要ECS来部署。没有说到弹性伸缩(Auto Scaling)的要求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">425. 某购物网站使用负载均衡SLB和云服务器ECS搭配来响应买家的请求，同时出于对买家请求波动较大的情况，选用阿里云弹性伸缩（Auto Scaling）弹性的分配合适的资源，既能保证网站系统的正常运营，又节省了资源使用的成本以及人工维护成本。关于负载均衡SLB和弹性伸缩（Auto Scaling）配合使用的说法中，正确的有<strong>____</strong>？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.负载均衡SLB和弹性伸缩（Auto Scaling）必须在同一个地域（Region）</span></strong></li><li><strong><span style="color:#4CAF50">B.弹性伸缩（Auto Scaling）中自动产生的ECS实例可以自动配置到负载均衡SLB中去</span></strong></li><li><span style="color:#333">C.负载均衡SLB和弹性伸缩（Auto Scaling）必须在同一个可用区（Zone）</span></li><li><strong><span style="color:#4CAF50">D.弹性伸缩（Auto Scaling）中的伸缩配置，可以不选择公网带宽</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>SLB和ESS只需要在一个地域。创建伸缩配置时，ECS实例可以不选择公网带宽。但是为了方便管理ECS实例，建议您购买至少1Mbps的ECS带宽。参考链接：<a href="http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/autoscalingcommonproblemcnzh20170418.pdf" target="_blank" rel="noopener">http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/autoscalingcommonproblemcnzh20170418.pdf</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">426. 阿里云的负载均衡SLB是对多台云服务器ECS实例进行流量分发的负载均衡服务，支持多种负载均衡的策略，包括<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.最近最少使用算法（Least Recently Used， 简称LRU）</span></li><li><strong><span style="color:#4CAF50">B.加权轮询</span></strong></li><li><strong><span style="color:#4CAF50">C.加权最小连接数</span></strong></li><li><span style="color:#333">D.先进先出（FIFO）</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>负载均衡支持轮询、加权轮询（WRR）、加权最小连接数（WLC）三种调度算法。参考链接：<a href="https://help.aliyun.com/document_detail/53858.html?spm=5176.11065259.1996646101.searchclickresult.5e425aaeec4o52" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/53858.html?spm=5176.11065259.1996646101.searchclickresult.5e425aaeec4o52</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">427. 您在创建阿里云的云服务器实例时，以下<strong>____</strong>配置是在购买云服务器时需要指定的。（正确答案的数量：4个）</font></p><ul><li><span style="color:#333">A.上层部署的应用</span></li><li><strong><span style="color:#4CAF50">B.内存</span></strong></li><li><strong><span style="color:#4CAF50">C.地域</span></strong></li><li><strong><span style="color:#4CAF50">D.CPU</span></strong></li><li><strong><span style="color:#4CAF50">E.镜像</span></strong></li></ul><p><strong>答案：</strong>B, C, D, E</p><p><strong>解析：</strong>上层部署的应用是在阿里云云服务器ECS购买了以后才需要部署的，内存，地域，CPU，镜像都是需要在购买的时候指定的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">428. 云计算是一种商业计算模型，它将计算任务分布在大量计算机组成的资源池上，使各种应用系统能够根据需要获取计算力、存储空间和信息服务。以下关于使用公共云计算相对于使用传统IDC的优势，从云计算的使用者角度来看，说法正确的有<strong>____</strong>？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云计算的使用者节约了建立基础设施的成本</span></strong></li><li><strong><span style="color:#4CAF50">B.云计算的使用者能快速搭建应用</span></strong></li><li><strong><span style="color:#4CAF50">C.云计算的使用者简化了管理和维护工作</span></strong></li><li><span style="color:#333">D.云计算的使用者可以完全管理和控制底层基础设施</span></li><li><strong><span style="color:#4CAF50">E.云计算的使用者拥有更大的灵活性和扩展性</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>阿里云云计算的使用者是不可以管理和控制底层基础设施。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">429. 关于阿里云的云服务器ECS实例是否支持安装虚拟化程序的说法正确的包括<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例是基于虚拟化平台运行的，不支持部署虚拟化程序</span></strong></li><li><span style="color:#333">B.如果在云服务器ECS实例中部署虚拟化程序，服务器出现的问题是可以预测的</span></li><li><span style="color:#333">C.可以在云服务器ECS实例中部署虚拟化程序，阿里云提供相应的技术支持</span></li><li><strong><span style="color:#4CAF50">D.如果在云服务器ECS实例中部署虚拟化程序，会导致服务器出现不可预测的问题</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>]如果在云服务器ECS实例中部署虚拟化程序，服务器出现的问题是不可预测的。阿里云强烈不建议在云服务器ECS实例中部署虚拟化程序，这样会导致云服务器ECS出现不可预测的问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">430. 您希望将本地已经在运行的业务系统（包括服务器及Mysql数据库）迁移到阿里云上，增加系统的可扩展性，并且降低运维成本，以下<strong>____</strong>是可行的操作。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.通过已经部署好的云服务器ECS实例制作镜像，进行应用的快速复制，生成更多的应用服务器</span></strong></li><li><strong><span style="color:#4CAF50">B.可以将自建机房的数据库实时同步到阿里云的云数据库RDS实例里面</span></strong></li><li><span style="color:#333">C.基于本地的应用服务器制作镜像上传到阿里云，直接生成新的云服务器ECS实例，提供服务</span></li><li><strong><span style="color:#4CAF50">D.将本地的应用部署到阿里云的云服务器ECS实例上</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>你本地的系统跟阿里云的ECS的系统可能存在不兼容的情况，所以基于本地制作镜像不可行。实时同步可以通过中间件实现的，阿里云有开源的Canal数据同步软件支持实时同步。参考链接：<a href="https://help.aliyun.com/knowledge_detail/97661.html?spm=5176.10695662.1996646101.searchclickresult.546230a92OGkPV" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/97661.html?spm=5176.10695662.1996646101.searchclickresult.546230a92OGkPV</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">431. 阿里云的负载均衡SLB是对多台云服务器ECS实例进行流量分发的服务，支持四层和七层的转发协议。其中四层服务主要是依据<strong>____</strong>把流量分发给对应的云服务器ECS实例。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.报文中真正有意义的应用层内容</span></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB中设定的转发策略和规则</span></strong></li><li><strong><span style="color:#4CAF50">C.报文中的目标IP地址和端口</span></strong></li><li><span style="color:#333">D.报文中的源IP地址和端口</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>注意题目考的是四层，四层是通过SLB中设定的转发策略和规则和报文中的目标IP地址和端口分发流量，七层是通过报文中真正有意义的应用层内容和负载均衡SLB中设定的转发策略和规则分发流量。参照：<a href="https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ" target="_blank" rel="noopener">https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">432. 您需要在阿里云上创建云服务器ECS实例，<strong>____</strong>因素可能导致您创建的云服务器ECS实例的所产生的费用不同。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例的付费模式</span></strong></li><li><span style="color:#333">B.将要部署在云服务器ECS实例上的应用不同</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的镜像类型</span></strong></li><li><strong><span style="color:#4CAF50">D.云服务器ECS实例的地域</span></strong></li><li><strong><span style="color:#4CAF50">E.云服务器ECS实例的公网带宽不同</span></strong></li></ul><p><strong>答案：</strong>A, C, D, E</p><p><strong>解析：</strong>服务器ECS实例上的应用不同不会影响到ECS的定价。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">433. 阿里云的云服务器ECS拥有与传统服务器和虚拟主机无法企及的优势。阿里云基于基于边界网管协议（Border Gateway Protocol，BGP）的最优路由算法提供多线接入。以下关于云服务器ECS的多线BGP接入说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云在骨干机房有出口带宽大和云服务器独享的出口带宽的特点</span></strong></li><li><span style="color:#333">B.多线接入与云服务的质量无关</span></li><li><strong><span style="color:#4CAF50">C.通过BGP多线机房，实现全国访问流畅均衡</span></strong></li><li><strong><span style="color:#4CAF50">D.通过多线接入可以实现更高的云服务质量</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>多线接入与云服务的质量是有关系的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">434. 以下哪些状态属于ECS生命周期中的稳定状态？(正确答案的数量：3个)</font></p><ul><li><strong><span style="color:#4CAF50">A.运行中</span></strong></li><li><strong><span style="color:#4CAF50">B.已停止</span></strong></li><li><strong><span style="color:#4CAF50">C.已过期</span></strong></li><li><span style="color:#333">D.停止中</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>稳定状态为已停止，运行中，停止中和创建中均为中间状态，特别注意运行中是稳定状态而非中间状态。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">435. 在使用阿里云云产品时，可以通过以下哪些方式来提供数据库服务？？(正确答案的数量：4个)</font></p><ul><li><strong><span style="color:#4CAF50">A.Linux的环境安装包安装数据库</span></strong></li><li><strong><span style="color:#4CAF50">B.单独购买RDS数据库</span></strong></li><li><strong><span style="color:#4CAF50">C.使用镜像市场免费配置环境的数据库</span></strong></li><li><strong><span style="color:#4CAF50">D.Windows的环境安装包安装数据库</span></strong></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>四种方式都是支持提供数据库的服务的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">436. CDN缓存是为了加速页面的访问，阿里云CDN提供了哪几种刷新缓存的方法？(正确答案的数量：3个)</font></p><ul><li><span style="color:#333">A.整站刷新</span></li><li><strong><span style="color:#4CAF50">B.目录刷新</span></strong></li><li><strong><span style="color:#4CAF50">C.URL 预热</span></strong></li><li><strong><span style="color:#4CAF50">D.URL 刷新</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>CDN刷新缓存的方式确实有三种，分别是URL刷新，目录刷新，URL预热，参考链接：<a href="https://help.aliyun.com/document_detail/27140.html?spm=5176.11065259.1996646101.searchclickresult.63ad6c8frDE1c1" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27140.html?spm=5176.11065259.1996646101.searchclickresult.63ad6c8frDE1c1</a>.</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">437. 以下哪些存储，数据库类的阿里云产品结合才能满足大多数互联网应用的需求？(正确答案的数量：3个)</font></p><ul><li><strong><span style="color:#4CAF50">A.OSS存储服务</span></strong></li><li><strong><span style="color:#4CAF50">B.ECS云服务器</span></strong></li><li><strong><span style="color:#4CAF50">C.RDS关系型数据库</span></strong></li><li><span style="color:#333">D.OTS结构化数据库</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>数据存储(OTS)保存客户海量用能数据，满足大数据分析的需求，而不是满足大多数互联网应用的需求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">438. 下列哪些云产品可以创建为专有网络类型？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.ECS</span></strong></li><li><strong><span style="color:#4CAF50">B.RDS</span></strong></li><li><span style="color:#333">C.ODPS</span></li><li><strong><span style="color:#4CAF50">D.SLB</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>目前云服务器ECS，数据库RDS，负载均衡SLB都是支持专用网络VPC网络的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">439. 以下哪些配置是在购买ECS时需要指定的？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.CPU</span></strong></li><li><strong><span style="color:#4CAF50">B.内存</span></strong></li><li><strong><span style="color:#4CAF50">C.地域</span></strong></li><li><strong><span style="color:#4CAF50">D.镜像</span></strong></li><li><span style="color:#333">E.IP地址</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>IP地址是购买ECS随机分配的，不支持指定。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">440. 在ECS中挂载磁盘的时候哪些请求参数时必须的？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.DiskId</span></strong></li><li><strong><span style="color:#4CAF50">B.InstanceId</span></strong></li><li><span style="color:#333">C.Action</span></li><li><span style="color:#333">D.Device</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>Device非挂载云盘（挂载磁盘）接口AttachDisk的必须参数，参考链接：<a href="https://help.aliyun.com/document_detail/25515.html?spm=a2c4g.11186623.2.40.1ee57d5609djrG#AttachDisk" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25515.html?spm=a2c4g.11186623.2.40.1ee57d5609djrG#AttachDisk</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">441. Channel是OSS 图片服务API的基本概念之一，Channel是IMG上的命名空间，它具有以下哪些功能？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.控制权限</span></strong></li><li><strong><span style="color:#4CAF50">B.日志记录</span></strong></li><li><strong><span style="color:#4CAF50">C.计费</span></strong></li><li><span style="color:#333">D.管理Object</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>Channel 是 IMG 上的命名空间，也是计费、权限控制、日志记录等高级功能的管理实体。参考链接：<a href="https://help.aliyun.com/document_detail/44687.html?spm=5176.11065259.1996646101.searchclickresult.1022522cJLSaLP" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/44687.html?spm=5176.11065259.1996646101.searchclickresult.1022522cJLSaLP</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">442. 负载均衡SLB到期之后，会对SLB的后端ECS实例造成什么影响？ （正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS本身不会受到影响</span></strong></li><li><span style="color:#333">B.如果域名是解析到SLB上的，那么不会影响站点的访问</span></li><li><span style="color:#333">C.ECS服务器会同时到期</span></li><li><strong><span style="color:#4CAF50">D.如果部署在ECS上的应用对应的域名是解析到SLB上的，那么会影响站点的访问</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>负载均衡SLB到期，导致用户无法访问负载均衡SLB服务，影响站点的访问。同时负载均衡SLB也无法将请求分发至后端的服务器。但是云服务器ECS本身的服务还是会正常提供不受影响的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">443. 地域（Region）是指ECS实例所在的物理位置。目前全球可供选择的地域有哪些？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.北京</span></strong></li><li><strong><span style="color:#4CAF50">B.青岛</span></strong></li><li><strong><span style="color:#4CAF50">C.香港</span></strong></li><li><strong><span style="color:#4CAF50">D.杭州</span></strong></li><li><span style="color:#333">E.蒙古</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>目前地域中还未有蒙古可供选择。具体的可至云服务器控制台在查看具体的地域和可用区。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">444. ECS如何克隆一台一模一样的实例？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.通过快照，创建一个新的系统盘，生成新的实例</span></li><li><strong><span style="color:#4CAF50">B.对已经配置完成的数据盘进行打快照，然后在购买或者升级页面，添加磁盘的地方点：“用快照创建磁盘”，选择你要的快照即可。</span></strong></li><li><span style="color:#333">C.启动新生成的ECS登陆检查数据及环境</span></li><li><strong><span style="color:#4CAF50">D.通过创建自定义镜像的方式，创建一个自定义镜像，然后使用这个自定义镜像创建ECS即可</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>题目中问的是如何克隆一台ECS实例，实例包括了系统盘和数据盘，系统盘需要通过镜像来生成，数据盘需要通过打快照，然后新数据盘用打的快照生成。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">445. 使用了阿里云CDN后，如果缓存命中率比较低，可能的原因是<strong>____</strong>？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.缓存配置不合理，针对某些文件设置较短，导致CDN节点频繁回源</span></strong></li><li><strong><span style="color:#4CAF50">B.HTTP Header设置导致无法缓存，需要用户检查源站的 CacheControl 设置或者 Expires 的设置</span></strong></li><li><strong><span style="color:#4CAF50">C.源站动态资源较多，多为不可缓存的内容，也会导致频繁回源拉取</span></strong></li><li><strong><span style="color:#4CAF50">D.网站访问量较低，文件热度不够，CDN收到请求较少无法有效命中缓存</span></strong></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>题目考察的是缓存命中率比较低的原因，参考链接：<a href="https://help.aliyun.com/knowledge_detail/40108.html?spm=5176.10695662.1996646101.searchclickresult.77b42eccVMufzW" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40108.html?spm=5176.10695662.1996646101.searchclickresult.77b42eccVMufzW</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">446. 下面可能是ECS实例的稳定状态的是<strong>____</strong>？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.运行中</span></strong></li><li><strong><span style="color:#4CAF50">B.已停止</span></strong></li><li><span style="color:#333">C.停止中</span></li><li><span style="color:#333">D.创建中</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>稳定状态为已停止，运行中，已过期，停止中和创建中均为中间状态，特别注意运行中是稳定状态而非中间状态。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">447. 通过阿里云“弹性伸缩”服务自动创建的ECS符合以下哪些特征？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.创建的ECS会配置相同的IP地址</span></li><li><strong><span style="color:#4CAF50">B.如果伸缩组里指定了RDS实例，系统会自动将ECS的IP加入指定的RDS访问白名单当中</span></strong></li><li><strong><span style="color:#4CAF50">C.如果伸缩组里指定了SLB实例，系统会自动将ECS的加入到SLB组里</span></strong></li><li><strong><span style="color:#4CAF50">D.创建的ECS配置都是相同的</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>弹性伸缩出来的机器配置和规格相同，但是不会出现相同IP的情况。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">448. ECS服务器使用注意事项说法正确的是<strong>____</strong>？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器的内核和操作系统版本不要随意升级</span></strong></li><li><strong><span style="color:#4CAF50">B.Linux的云服务器数据盘未做分区和格式化，使用前请挂载数据盘</span></strong></li><li><span style="color:#333">C.Windows操作系统的云服务器建议使用虚拟内存</span></li><li><strong><span style="color:#4CAF50">D.网卡的MAC地址不要修改</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>使用Windows操作系统的时候，只有机器内存较低（低于2G）的时候，建议使用虚拟内存。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">449. 云盾”基础DDoS防护“功能在管理控制台可以配置针对云服务器的流量清洗触发值，请选出可配置的所有维度，达到任意一个值即开始流量清洗？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.ECS公网IP每秒接收的字节数(b)</span></li><li><span style="color:#333">B.ECS公网IP每秒发送的字节数(b)</span></li><li><strong><span style="color:#4CAF50">C.ECS公网IP每秒处理的报文数量(PPS)</span></strong></li><li><strong><span style="color:#4CAF50">D.ECS公网IP每秒处理的流量值（bps）</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>流量清洗的触发指标有公网IP每秒处理的报文数量(PPS)和公网IP每秒处理的流量值（bps）。具体可以参考阿里云的DDoS防护操作文档：<a href="https://help.aliyun.com/document_detail/28408.html?spm=a2c4g.11186623.6.559.14353b7b6BNchA" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28408.html?spm=a2c4g.11186623.6.559.14353b7b6BNchA</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">450. 阿里云OSS与自建存储相比，有以下哪些优点？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.海量存储</span></strong></li><li><strong><span style="color:#4CAF50">B.低成本</span></strong></li><li><strong><span style="color:#4CAF50">C.安全</span></strong></li><li><strong><span style="color:#4CAF50">D.多线BGP接入</span></strong></li><li><span style="color:#333">E.支持数据备份</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>自建的存储也是支持数据备份的，这个并不是OSS独有的优势。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">451. SLB实例监听可选择的协议类型有哪些？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.TCP</span></strong></li><li><strong><span style="color:#4CAF50">B.HTTPS</span></strong></li><li><span style="color:#333">C.FTP</span></li><li><strong><span style="color:#4CAF50">D.HTTP</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>负载均衡SLB实例监听目前支持，TCP，HTTP，HTTPS协议。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">452. 以下关于OSS图片处理API Channel说法正确的有<strong>____</strong>？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.一个用户最多可创建 10 个 Channel</span></strong></li><li><span style="color:#333">B.存储容量每个Channel最高支持2PB</span></li><li><strong><span style="color:#4CAF50">C.IMG名称在整个图片处理服务中具有全局唯一性，且不能修改</span></strong></li><li><strong><span style="color:#4CAF50">D.每个Channel中存放的 Object 的数量和大小总和没有限制</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>单个Object（即每张图片）允许的最大大小是20MB。但是每个Channel中存放的object的数量没有限制。所以每个Channel的容量是没有上限的。所以”存储容量每个Channel最高支持2PB”说法是错误的。参考链接：<a href="https://help.aliyun.com/document_detail/32207.html?spm=5176.11065259.1996646101.searchclickresult.52bfe7bcKSIYRr" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32207.html?spm=5176.11065259.1996646101.searchclickresult.52bfe7bcKSIYRr</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">453. 以下是ECS实例数据盘挂载点的是<strong>____</strong>？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A./dev/xvdz</span></strong></li><li><strong><span style="color:#4CAF50">B./dev/xvdd</span></strong></li><li><span style="color:#333">C./dev/xvda</span></li><li><strong><span style="color:#4CAF50">D./dev/xvdb</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>正常情况下用fdisk l命令,可以查看到新增的硬盘。/dev/xvda为系统盘，/dev/xvdb,/dev/xvdc…/dev/xvdz都是数据盘。所以/dev/xvda为系统盘不会选择。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">454. 如何避免SLB服务本身故障导致的单点问题？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.在不同地域（Region）创建多个SLB实例， 通过DNS轮询的方式对外提供服务，从而提高跨地域的可用性</span></strong></li><li><span style="color:#333">B.SLB实例后端的ECS可以是不同Zone下的机器， 从而提高本地可用性</span></li><li><strong><span style="color:#4CAF50">C.在同一地域 （Region）创建多个SLB实例，通过DNS轮询的方式对外提供服务，从而提高本地可用性</span></strong></li><li><span style="color:#333">D.无法避免</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>题目说了是避免SLB服务本身故障，SLB就算挂多个可用区的ECS，但负载均衡SLB实例挂了就会导致整个服务挂了，所以需要用到多个SLB实例。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">455. 云服务器ECS在哪些状态下才能创建快照？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.Running</span></strong></li><li><span style="color:#333">B.Stopping</span></li><li><span style="color:#333">C.任何状态</span></li><li><strong><span style="color:#4CAF50">D.Stopped</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>创建快照实例必须处于运行中（Running）或已停止（Stopped）状态。参考链接：<a href="https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.3eef3e7fIEQwIY" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25455.html?spm=5176.11065259.1996646101.searchclickresult.3eef3e7fIEQwIY</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">456. 下列<strong>____</strong>属于阿里云的云服务器ECS产品相对于传统物理服务器的优势。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.宽带升降更敏捷</span></strong></li><li><strong><span style="color:#4CAF50">B.无需自建，云服务器启动就自动具备防护DDoS攻击的能力</span></strong></li><li><strong><span style="color:#4CAF50">C.无需额外开发，云服务器支持宕机迁移，可用性更高</span></strong></li><li><strong><span style="color:#4CAF50">D.云服务器的交付周期短</span></strong></li><li><span style="color:#333">E.云服务器可以运行传统物理服务器不可以运行的应用</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>题目中问的是阿里云云服务器ECS和传统的物理服务器的优势，其中云服务器的系统和传统服务器的系统内核都是一致的，所以不会存在云服务器可以运行传统物理服务器不可以运行的应用。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">457. 您可以根据业务的需要，选择采用手动或者镜像的方式进行阿里云的云服务器ECS实例的使用环境的部署。针对这两种部署方式，以下说法中正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云的云市场提供了丰富的镜像资源，大部分镜像都集成了操作系统和应用程序</span></strong></li><li><strong><span style="color:#4CAF50">B.在创建ECS实例时，可以选择云市场的镜像来快速获得所需的应用程序，无需自行安装，如PHP，MySQL 等</span></strong></li><li><strong><span style="color:#4CAF50">C.如果您需要个性化定制的运行环境，可以使用手动部署</span></strong></li><li><span style="color:#333">D.如果您使用镜像市场的镜像来重新初始化ECS实例，可以通过更换系统盘来完成操作，同时数据盘的数据也会受到影响</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>更改系统盘操作，只会影响系统盘的数据，数据盘的数据不会受到任何影响。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">458. A公司基于阿里云服务构建了一套销售管理平台，采用三台云服务器ECS实例进行构建，其中一台ECS实例安装了MySQL，作为平台的数据库服务器，另外两台当作WEB服务器。经过一段时间的发展，员工人数激增，销售统计需求增多，平台响应速度逐渐受到挑战，通过云监控发现两台ECS实例的CPU占用率平均超过70%，数据库的负载接近75%。 遇到这种情况可以选择阿里云的<strong>____</strong>服务来优化性能。（正确答案数量：2个）</font></p><ul><li><span style="color:#333">A.使用内容分发网络CDN，将平台的css，javascript文件做加速缓存</span></li><li><strong><span style="color:#4CAF50">B.通过增加负载均衡SLB，并新增ECS实例的方式缓解现有ECS实例的负载</span></strong></li><li><strong><span style="color:#4CAF50">C.使用云数据库RDS代替自建MySQL，获得更好的数据库性能；并创建RDS只读实例分流数据库读请求，降低RDS实例主库的压力</span></strong></li><li><span style="color:#333">D.将数据导入到对象存储OSS，分担平台的存储压力</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>题目中说到遇到了以下两个问题：两台ECS实例的CPU占用率平均超过70%，数据库的负载接近75%，所以需要通云数据库RDS产品来解决数据库性能问题；需要通过新增ECS实例并将其加入负载均衡SLB来解决ECS实例性能问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">459. 您需要在阿里云上创建云服务器ECS实例，<strong>____</strong>因素可能导致您创建的云服务器ECS实例的所产生的费用不同。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例的地域</span></strong></li><li><strong><span style="color:#4CAF50">B.云服务器ECS实例的付费模式</span></strong></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例的镜像类型</span></strong></li><li><span style="color:#333">D.将要部署在云服务器ECS实例上的应用不同</span></li><li><strong><span style="color:#4CAF50">E.云服务器ECS实例的公网带宽不同</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>排除法，可以了解一下ECS的费用组成部分，即哪些配置会影响到ECS的价格。很显然，部署在ECS上面的不同应用是属于系统软件部分，不会影响到ECS的费用。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">460. 云服务器ECS实例的付费方式包括包年包月和按量付费两种。对于按量付费的云服务器ECS实例的操作，以下描述正确的包括<strong><strong>_</strong></strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.可以随时释放不使用的云服务器ECS实例，不会引起费用的浪费</span></strong></li><li><strong><span style="color:#4CAF50">B.可以设置云服务器ECS实例的自动释放时间</span></strong></li><li><span style="color:#333">C.不能取消已经设置的云服务器ECS实例的自动释放时间</span></li><li><strong><span style="color:#4CAF50">D.可以查看云服务器ECS实例的消费记录</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>可以随时取消已经设置的云服务器ECS实例的自动释放时间</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">461. 您所在的企业准备上线一个预计会有很大流量的多媒体APP应用，希望基于阿里云的产品来保证系统的快速上线，为了更好的降低存储的费用并且降低用户的访问等待时间，您可以使用<strong>____</strong>产品与云服务器ECS产品搭配使用，来满足以上需求。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.单独购买多线BGP服务来降低用户访问等待时间</span></li><li><strong><span style="color:#4CAF50">B.OSS作为静态图片、视频、下载包的存储，以降低存储费用</span></strong></li><li><strong><span style="color:#4CAF50">C.配合CDN进行静态内容的加速 ，可以减少用户访问等待时间</span></strong></li><li><span style="color:#333">D.使用专有网络VPC来提升网络可用性</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>划重点：降低存储的费用，降低用户的访问等待时间。所以需要选择对象存储OSS以及内容分发CDN。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">462. 您在通过Open API制作阿里云的云服务器ECS实例的自定义镜像的时候失败了，有可能是<strong>____</strong>原因引起的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.选择数据盘快照制作</span></strong></li><li><span style="color:#333">B.选择系统盘快照制作</span></li><li><strong><span style="color:#4CAF50">C.没有设置自定义镜像的名称</span></strong></li><li><strong><span style="color:#4CAF50">D.没有设置自定义镜像的描述</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>云服务器ECS实例的自定义镜像的时候失败了，因为自定义镜像本身就是用系统盘快照来制作的，所以不会是选择系统盘快照制作导致的，可能是选择数据盘快照制作导致的，同时制作镜像时，自定义镜像的名称和自定义镜像的描述都是必须的不可为空。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">463. 阿里云的云服务器ECS实例在同一个地域内，不同账号下，经典网络下可以通过安全组规则设置两台云服务器之间内网互通。比如：UserA的用户在杭州有一台经典网络的ECS云服务器InstanceA（内网IP：A.A.A.A），InstanceA所属的默认安全组为GroupA，UserB的用户在杭州有一台经典网络的ECS云服务器InstanceB(内网IP:B.B.B.B)，InstanceB所属的默认安全组为GroupB。通过安全组配置实现InstanceA和InstanceB在内网上互通，正确的操作包括<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.UserA为GroupA添加一条这样的规则：在内网入方向上授权B.B.B.B的IP可以访问GroupA下的所有云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.UserB为GroupB添加一条这样的规则：在内网入方向上授权A.A.A.A的IP可以访问GroupB下的所有云服务器ECS实例</span></strong></li><li><span style="color:#333">C.UserA为GroupA添加一条这样的规则：在内网出方向上授权B.B.B.B的IP可以访问GroupA下的所有云服务器ECS实例</span></li><li><span style="color:#333">D.UserB为GroupB添加一条这样的规则：在内网出方向上授权A.A.A.A的IP可以访问GroupB下的所有云服务器ECS实例</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>两台同一地域不同账号下的服务器，需要授权内网互通，只需要各自在自己的安全组入方向添加允许对方ECS的内网IP访问即可。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">464. 您开通了阿里云的云服务器ECS实例之后，可以免费开通云盾的<strong>____</strong>安全能力对您的云服务器ECS实例的安全进行保护。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.DDoS基础防护</span></strong></li><li><strong><span style="color:#4CAF50">B.阿里绿网</span></strong></li><li><strong><span style="color:#4CAF50">C.安骑士</span></strong></li><li><span style="color:#333">D.服务器安全托管</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>服务器安全托管不属于云盾功能，而是属于安全管家的服务。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">465. 阿里云弹性伸缩(Auto Scaling)中，冷却时间是指在同一个伸缩组内，当有一个伸缩活动被成功执行后的一段锁定时间内，该伸缩组不执行其他的伸缩活动。以下关于冷却时间的说法正确的有？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.冷却时间锁定的是同一个伸缩组的伸缩活动，对于多伸缩组内的不同伸缩活动，不会锁定</span></strong></li><li><strong><span style="color:#4CAF50">B.当伸缩组处于冷却时间内时，可以通过先停用伸缩组再重新启动伸缩组的方式，让伸缩组的冷却时间提前结束</span></strong></li><li><strong><span style="color:#4CAF50">C.当伸缩组加入或移出多个ECS实例时，最后一个ECS实例加入或移出完成后，整个伸缩组冷却时间才开始计时</span></strong></li><li><span style="color:#333">D.在伸缩组的冷却时间内，云监控报警类型的请求可以绕过冷却时间立即执行伸缩活动，其他类型的触发任务会被拒绝（如用户手工执行伸缩规则、定时任务等）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>在冷却时间内，伸缩组会拒绝由云监控报警任务触发的伸缩活动请求。但其他类型任务（手动执行任务、定时任务）触发的伸缩活动可以立即执行，绕过冷却时间。参考链接：<a href="https://help.aliyun.com/document_detail/25912.html?spm=5176.10695662.1996646101.searchclickresult.490817e5BOV3hA" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25912.html?spm=5176.10695662.1996646101.searchclickresult.490817e5BOV3hA</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">466. 阿里云弹性伸缩(Auto Scaling)中的伸缩组，是指具有相同应用场景的ECS实例集合。当用户创建一个伸缩组时需要包含以下哪些内容？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.伸缩规则</span></strong></li><li><strong><span style="color:#4CAF50">B.伸缩活动</span></strong></li><li><strong><span style="color:#4CAF50">C.伸缩配置</span></strong></li><li><span style="color:#333">D.伸缩触发任务</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>伸缩组包含伸缩配置、伸缩规则、伸缩活动。参考链接：<a href="https://help.aliyun.com/document_detail/25858.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25858.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">467. 在使用阿里云弹性伸缩(Auto Scaling)中，用户希望能在某个时间点执行某种预定义好的规则，如每天晚上00:00减少一台云服务器ECS实例，在已启用的伸缩组中，可以通过以下哪两个操作配合实现？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.新建一个伸缩组</span></li><li><strong><span style="color:#4CAF50">B.创建伸缩规则</span></strong></li><li><strong><span style="color:#4CAF50">C.创建定时任务</span></strong></li><li><span style="color:#333">D.创建报警任务</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>本题中伸缩组已经创建了，所以「创建一个伸缩组」不会选，要实现定时任务，需要创建一个规则且添加一个定时任务。和报警任务也没有任何关系哦。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">468. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。在OSS里存储文件前首先要创建一个存储空间Bucket,之后才能在Bucket中进行文件的上传和管理。以下有关Bucket的描述中正确的包括<strong><strong>_</strong></strong>（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.同一个Bucket内部的空间是扁平的，所有的对象都是直接隶属于其对应的Bucket</span></strong></li><li><strong><span style="color:#4CAF50">B.每个用户可以拥有多个Bucket</span></strong></li><li><strong><span style="color:#4CAF50">C.Bucket的名称在OSS范围内必须是全局唯一的，一旦创建之后无法修改</span></strong></li><li><span style="color:#333">D.Bucket在创建时需要指定容量上限</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>Bucket容量是没有上限的，所以无需在创建时指定。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">469. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。除了基本的存储功能外，OSS还提供了强大的图片处理能力，可根据实际业务需要对图片进行加工和转换。OSS的图片处理能力包括<strong><strong>___</strong></strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.图片缩放、添加水印</span></strong></li><li><strong><span style="color:#4CAF50">B.图片格式转换（例如：由jpg转换成png）</span></strong></li><li><strong><span style="color:#4CAF50">C.图片360度范围内旋转</span></strong></li><li><span style="color:#333">D.OCR文字识别（将图片中的文字直接转成文本）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>OSS目前不具备OCR文字识别的处理能力。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">470. OSS是按使用收费的服务，为了防止用户在OSS上的数据被其他人盗链，OSS支持基于HTTP header中表头字段referer的防盗链方法。下列关于OSS防盗链的说法正确的是？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.Referer参数支持通配符“*”和“？”</span></strong></li><li><strong><span style="color:#4CAF50">B.白名单为空时，不会检查referer字段是否为空。</span></strong></li><li><span style="color:#333">C.在支持通配符中，可以使用问号“？”代替0个或多个字符</span></li><li><strong><span style="color:#4CAF50">D.白名单不为空，且设置了不允许referer字段为空的规则；则只有referer属于白名单的请求被允许，其他所有的请求会被拒绝。</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>在支持通配符中，正确是用星号*：代替0个或多个字符。参考链接：<a href="https://help.aliyun.com/document_detail/44198.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/44198.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">471. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。为了方便用户把OSS服务集成到自己的网站或应用中，OSS提供了“自定义域名绑定”的功能，通过该功能用户可以实现通过自己的域名来访问OSS中的文件（如： <a href="http://img.mydomain.net/xxxx）。以下有关OSS绑定域名的相关说法_______是正确的。（正确答案的数量：3个）" target="_blank" rel="noopener">http://img.mydomain.net/xxxx）。以下有关OSS绑定域名的相关说法_______是正确的。（正确答案的数量：3个）</a></font></p><ul><li><strong><span style="color:#4CAF50">A.如果用户绑定的域名和OSS服务在同一个阿里云帐号中管理，在OSS管理控制台中可以选择自动添加或修改域名的CNAME记录</span></strong></li><li><strong><span style="color:#4CAF50">B.不管域名是否在阿里云管理，绑定到OSS的域名必须在工信部备案</span></strong></li><li><span style="color:#333">C.如果在OSS绑定域名时提示绑定的域名已经被其他用户绑定，此时用户无需额外操作即可进行强制绑定</span></li><li><strong><span style="color:#4CAF50">D.绑定域名的时候可以选择“自动”或“手动”添加域名解析</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>在OSS绑定域名时提示绑定的域名已经被其他用户绑定，需要验证域名所有权后才可继续进行绑定操作。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39675.html?spm=5176.10695662.1996646101.searchclickresult.1a6159ccftBNU5" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39675.html?spm=5176.10695662.1996646101.searchclickresult.1a6159ccftBNU5</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">472. 阿里云OSS图片处理服务（Image Service，简称 IMG），阿里云OSS图片处理服务有哪些性能？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.海量图片处理</span></strong></li><li><span style="color:#333">B.无成本</span></li><li><strong><span style="color:#4CAF50">C.通过简单的RESTful接口对图片进行处理</span></strong></li><li><strong><span style="color:#4CAF50">D.可靠性高</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>OSS的图片处理为收费服务。所以是需要成本的。参考链接：<a href="https://help.aliyun.com/document_detail/47735.html?spm=5176.10695662.1996646101.searchclickresult.47a6133cKtZMg7" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/47735.html?spm=5176.10695662.1996646101.searchclickresult.47a6133cKtZMg7</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">473. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，具有高可用、低成本、安全可靠等特点。关于阿里云的负载均衡SLB的说法正确的有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.无需一次性采购昂贵的负载均衡设备</span></strong></li><li><strong><span style="color:#4CAF50">B.解决了单台ECS实例的单点问题</span></strong></li><li><strong><span style="color:#4CAF50">C.支持同城容灾</span></strong></li><li><span style="color:#333">D.结合云盾提供免费的20G以上的防DDoS攻击能力</span></li><li><span style="color:#333">E.无论公网还是私网类型实例都支持按流量计费</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>SLB不需要购买设备，同时支持同城容灾。结合云盾提供免费的5G防DDoS攻击能力；负载均衡SLB的作用就是为了解决单台云服务器单点问题，负载均衡后端多台ECS同时对外提供服务从而扩展了应用的服务能力，增强了应用的可用性；SLB实例的收费不仅有流量费还要实例费/规格费（参考链接：<a href="https://help.aliyun.com/document_detail/27692.html?spm=a2c4g.11186623.6.551.1b716327zYZvSJ）。" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27692.html?spm=a2c4g.11186623.6.551.1b716327zYZvSJ）。</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">474. 在部分地域（Region），阿里云的负载均衡SLB支持应用层的WAF安全防护。WAF是WEB应用防火墙的简称（Web Application FireWall），主要用于保护网站（HTTP服务）的安全性，实时对所有的HTTP请求进行合法性检查。阿里云负载均衡SLB的WAF可以提供针对<strong>____</strong>攻击类型的安全防护。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.SQL注入</span></strong></li><li><strong><span style="color:#4CAF50">B.跨站脚本</span></strong></li><li><strong><span style="color:#4CAF50">C.WebShell</span></strong></li><li><strong><span style="color:#4CAF50">D.CSRF（Crosssite Request Forgery）</span></strong></li><li><strong><span style="color:#4CAF50">E.本地文件包含</span></strong></li><li><span style="color:#333">F.暴力密码破解</span></li></ul><p><strong>答案：</strong>A, B, C, D, E</p><p><strong>解析：</strong>暴力密码破解是属于云盾下面安骑士的功能，不属于WEB应用防火墙的功能。参考链接：<a href="https://help.aliyun.com/document_detail/63632.html?spm=5176.11065259.1996646101.searchclickresult.6bb517bdLI0XnZ，WAF漏洞释义参考链接：https://help.aliyun.com/knowledge_detail/42197.html?spm=a2c4g.11186631.2.3.28484a58O0riGT" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/63632.html?spm=5176.11065259.1996646101.searchclickresult.6bb517bdLI0XnZ，WAF漏洞释义参考链接：https://help.aliyun.com/knowledge_detail/42197.html?spm=a2c4g.11186631.2.3.28484a58O0riGT</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">475. 阿里云的负载均衡SLB是对多台云服务器ECS实例进行流量分发的负载均衡服务，支持四层和七层的转发协议。其中四层服务主要是依据<strong>____</strong>把流量分发到对应的云服务器ECS实例上去。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.报文中的目标IP地址和端口</span></strong></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB中设定的转发策略和规则</span></strong></li><li><span style="color:#333">C.报文中真正有意义的应用层内容</span></li><li><span style="color:#333">D.报文中的源IP地址和端口</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>注意题目考的是四层，四层是通过SLB中设定的转发策略和规则和报文中的目标IP地址和端口分发流量，七层是通过报文中真正有意义的应用层内容和负载均衡SLB中设定的转发策略和规则分发流量。参照：<a href="https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ" target="_blank" rel="noopener">https://yq.aliyun.com/articles/554057?spm=5176.11065265.1996646101.searchclickresult.7e2e7eee4dJusQ</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">476. SLB中的四层负载均衡采用开源软件LVS，并根据云计算的需求对其官方进行了定制化，下列哪些属于阿里云在LVS官方问题上进行了定制化？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.采用Tengine实现负载均衡</span></li><li><strong><span style="color:#4CAF50">B.DDoS攻击防御功能</span></strong></li><li><strong><span style="color:#4CAF50">C.采用LVS集群部署方式</span></strong></li><li><strong><span style="color:#4CAF50">D.优化keepalived性能</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>这个是文档原话：优化了以下问题：<br>解决1：新增转发模式FULLNAT，实现LVSRealServer间跨vlan通讯；<br>解决2：新增synproxy等攻击TCP标志位DDOS攻击防御功能；<br>解决3：采用LVS集群部署方式；<br>解决4：优化keepalived性能；<br>参考链接；<a href="https://yq.aliyun.com/articles/1803" target="_blank" rel="noopener">https://yq.aliyun.com/articles/1803</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">477. 阿里云的负载均衡SLB支持多种协议的转发服务，其中就包括UDP，它是面向非连接的协议，发送数据包前并不会与对方建立连接，且不提供差错恢复和数据重传。它的优点是速度快，效率高，对某些特定的场景来说非常适合。您手上有几家正在使用负载均衡SLB的客户，以下场景中<strong>____</strong>适合使用基于UDP协议的负载均衡SLB。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.某视频点播网站，用户观通过点播观看视频</span></strong></li><li><strong><span style="color:#4CAF50">B.某新媒体公司，通过手机APP端提供资讯服务，在客户刷新的时候推送新闻到客户端</span></strong></li><li><strong><span style="color:#4CAF50">C.某在线交友网站的视频聊天室</span></strong></li><li><span style="color:#333">D.某公司提供的域名解析服务</span></li><li><strong><span style="color:#4CAF50">E.某在线语音图片等智能识别网站，要求将用户需求中的音频请求发送至音频服务器处理，需求中的对图片的请求发送至图片服务器处理</span></strong></li><li><span style="color:#333">F.某邮件服务商提供的发送或接收邮件功能</span></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>域名解析服务和邮件服务并不是走UDP协议。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">478. 您申请了阿里云的弹性公网IP（EIP），通过HTTP无法正确地访问该公网IP对应的网页，可能是<strong>____</strong>问题引起的。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.EIP选择了华北2（北京）地域，而您从上海地区访问</span></li><li><strong><span style="color:#4CAF50">B.弹性公网IP没有绑定到云服务器ECS实例上</span></strong></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例有安全组策略，禁止80端口访问</span></strong></li><li><strong><span style="color:#4CAF50">D.您的账号已经欠费</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>弹性公网IP（Elastic IP Address，简称EIP），是可以独立购买和持有的公网IP地址资源，公网访问是支持全国所以地域的访问的。所以不会因为从上海地区的访问华北2的EIP而无法访问的问题。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">479. 如果您需要对阿里云的专有网络VPC下的云服务器ECS实例的私网IP进行修改，可以通过<strong>____</strong>方式变更。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.当需要修改的地址超出ECS实例所在的交换机的地址范围时，可以变更云服务器ECS实例所在的交换机，并变更云服务器ECS实例的私网IP</span></strong></li><li><strong><span style="color:#4CAF50">B.当需要修改的地址没有超过ECS实例所在的交换机的地址范围时，可直接变更云服务器ECS实例的私网IP</span></strong></li><li><span style="color:#333">C.当需要修改的地址超出ECS实例所在的路由器的地址范围时，变更云服务器ECS实例所在的路由器，并变更云服务器ECS实例的私网IP</span></li><li><span style="color:#333">D.当需要修改的地址没有超过ECS实例所在的路由器的地址范围时，可直接变更云服务器ECS实例的私网IP</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>修改私网IP地址有两种方式：如果您不需要更换交换机，则直接修改私网IP即可。如果需要更换交换机，则可以变更云服务器ECS实例所在的交换机，然后直接修改云服务器ECS实例的私网IP。参考链接：<a href="https://help.aliyun.com/document_detail/27733.html，https://help.aliyun.com/document_detail/27733.html?spm=a2c4g.11186623.2.17.29393732dbEE1X#taskbngthnxdb" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27733.html，https://help.aliyun.com/document_detail/27733.html?spm=a2c4g.11186623.2.17.29393732dbEE1X#taskbngthnxdb</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">480. 阿里云专有网络VPC支持多种的网络连接方式，打通您的VPC与传统数据中心。目前阿里云支持的网络连接方式包括<strong><strong>__</strong></strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.VPN</span></strong></li><li><span style="color:#333">B.HTTP代理</span></li><li><span style="color:#333">C.跳板机中转</span></li><li><strong><span style="color:#4CAF50">D.专线连接</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>打通您的VPC与传统数据中心，所以需要基于公网的VPN或者专线。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">481. 某阿里云用户开发了一款手机APP游戏，支持上传文字和图片进行互动式交流，很受用户欢迎。最近在运营过程中出现两个问题：每天有超过1000多个用户因本地DNS篡改导致游戏中断； 另外用户上传的内容存在违规图片，已收到公安人员的一次正式警告。管理员使用阿里云的<strong><strong>____</strong></strong>产品，可以降低这两个风险。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里绿网</span></strong></li><li><strong><span style="color:#4CAF50">B.HTTPDNS</span></strong></li><li><span style="color:#333">C.DDoS高防IP</span></li><li><span style="color:#333">D.安全管家</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>划重点：本地DNS篡改导致游戏中断，上传的内容存在违规图片。所以需要选择HTTPDNS和阿里绿网服务。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">482. 阿里云的云盾的先知计划产品是调动众多网络安全专家的力量一起维护互联网平台和业务的安全，降低客户的安全损失。先知计划是由<strong>____</strong>为企业提供众测服务。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.通过实名认证的白帽子</span></strong></li><li><strong><span style="color:#4CAF50">B.多家经阿里云授权的安全公司</span></strong></li><li><span style="color:#333">C.阿里自己的渗透测试团队</span></li><li><span style="color:#333">D.具有一定安全知识的网民</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>先知计划是由独立于阿里云的安全服务的提供者“白帽子”或“安全公司”为企业提供众测服务。参考漏洞收集操作步骤部分：<a href="https://help.aliyun.com/document_detail/28382.html?spm=a2c4g.11186623.6.553.c0d35a00k0gtzZ" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28382.html?spm=a2c4g.11186623.6.553.c0d35a00k0gtzZ</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">483. 某用户开通了阿里云的云服务器ECS实例，作为管理员的他频繁收到云盾暴力破解的告警，以下<strong><strong><strong>_</strong></strong></strong>措施可以降低密码被破解的风险。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.修改远程管理服务的端口号</span></strong></li><li><strong><span style="color:#4CAF50">B.设置8位以上的复杂密码，定期修改</span></strong></li><li><span style="color:#333">C.购买DDoS高防IP</span></li><li><strong><span style="color:#4CAF50">D.在ECS前面增加负载均衡SLB，去掉ECS实例的公网IP，让ECS实例只响应来自SLB的请求</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>DDoS高防IP只功能是防DDoS的大流量攻击，确保云服务稳定正常。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">484. 某互联网金融公司为了实现业务快速上线，系统快速部署，基于阿里云搭建IT基础架构。由于其业务特性，不定期会有理财套餐的秒杀、促销活动，为了能够应对更大、更具偶发性的业务压力，需要全面考虑应用、数据库等层面的扩展，以下说法正确的是：（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.使用SLB实现应用层的弹性扩展</span></strong></li><li><strong><span style="color:#4CAF50">B.使用DRDS实现数据库层的弹性扩展</span></strong></li><li><strong><span style="color:#4CAF50">C.使用弹性伸缩使云服务器轻松应对秒杀场景扩容</span></strong></li><li><span style="color:#333">D.应用之间采用紧耦合架构</span></li><li><span style="color:#333">E.将系统搭建在同一地域有利于系统的弹性扩展</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>应用层的弹性,通过SLB后增加机器实现，DRDS就是数据库集群，可以实现数据库的弹性扩展（<a href="https://help.aliyun.com/product/29657.html），应用间应该采用松耦合的架构来提高系统的可跨展性，紧耦合不利于维护。弹性扩展和部署在同一地域没有关系，多个地域也可以每个地域单独实现弹性拓展。" target="_blank" rel="noopener">https://help.aliyun.com/product/29657.html），应用间应该采用松耦合的架构来提高系统的可跨展性，紧耦合不利于维护。弹性扩展和部署在同一地域没有关系，多个地域也可以每个地域单独实现弹性拓展。</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">485. 阿里云内容分发网络CDN建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络替代传统以WEB Server为中心的数据传输模式。如果用户在使用CDN的过程中发现CDN缓存的”命中率“比较低，可能的原因是<strong><strong><strong>_</strong></strong></strong>。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.网站访问量较低，文件热度不够，CDN收到请求较少无法有效命中缓存</span></strong></li><li><strong><span style="color:#4CAF50">B.缓存配置不合理，针对某些文件设置较短，导致CDN节点频繁回源</span></strong></li><li><strong><span style="color:#4CAF50">C.HTTP Header设置导致无法缓存，需要用户检查源站的 CacheControl 设置或者 Expires 的设置</span></strong></li><li><strong><span style="color:#4CAF50">D.源站动态资源较多，多为不可缓存的内容，也会导致频繁回源拉取</span></strong></li><li><span style="color:#333">E.开通CDN时选择的带宽不足，服务能力已达到上限</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，CDN是按照按每日带宽峰值计费，所以不存在带宽不足，服务能力达上限的问题</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">486. 如果用户需要实现OSS Object 上传，下面哪些情况下使用OSS 简单上传？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.需要支持断点上传</span></li><li><strong><span style="color:#4CAF50">B.上传文件最大不超过5GB</span></strong></li><li><strong><span style="color:#4CAF50">C.在上传单个文件过程中可以携带meta信息</span></strong></li><li><strong><span style="color:#4CAF50">D.基于PUT方式或POST方式的http请求上传</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>简单上传指的是使用OSS API中的PutObject方法上传单个文件（Object）。简单上传适用于一次HTTP请求交互即可完成上传的场景，比如小文件（小于5GB）的上传。上传文件时支持设置Object Meta。参考链接：<a href="https://help.aliyun.com/document_detail/31848.html?spm=5176.10695662.1996646101.searchclickresult.7ecf1517cvojCt" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31848.html?spm=5176.10695662.1996646101.searchclickresult.7ecf1517cvojCt</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">487. 您希望将您的应用部署在阿里云的产品上，实现减低成本、提升服务的可用性、云服务器快速部署和数据的异地备份这些需求，以下<strong>____</strong>阿里云产品可以分别满足这些需求。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS的快照备份满足了应用、数据快速恢复的需求</span></strong></li><li><strong><span style="color:#4CAF50">B.通过制作云服务器ECS的镜像实现了高效、便捷的部署</span></strong></li><li><strong><span style="color:#4CAF50">C.合理选择地域来满足应用部署对地域的需求，同时也满足了关键应用、数据对异地备份的需求</span></strong></li><li><strong><span style="color:#4CAF50">D.负载均衡SLB配合ECS实例可以提升服务的可用性</span></strong></li><li><span style="color:#333">E.合理选择内容分发网络CDN可以满足数据异地备份的需求</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>内容分发网络CDN只是用来加快静态资源的访问速度，和数据异地备份没有关系。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">488. 您创建了一台操作系统为Windows的阿里云的云服务器ECS实例，您本地的机器采用的是Windows系统，可以采用<strong>____</strong>方式进行登录该ECS实例。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.ECS实例有公网带宽的情况下，可以通过远程桌面连接 (Microsoft Terminal Services Client, MSTSC)登录ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.无论您在创建ECS实例时是否购买了带宽，都可以通过阿里云的管理控制台的管理终端登录ECS实例</span></strong></li><li><span style="color:#333">C.只有ECS实例有公网带宽的情况下，才可以通过阿里云的管理控制台的管理终端登录实例</span></li><li><strong><span style="color:#4CAF50">D.ECS实例有公网带宽的情况下，可以通过手机上的远程桌面 APP （例如 微软远程桌面MSTSC APP）登录ECS实例</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>阿里云的管理控制台在Windows的实例没有公网的时候，也是可以连接的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">489. 云服务器Elastic Compute Service（ECS）是阿里云提供的一种基础云计算服务。云服务器ECS与传统IDC比较优点有哪些？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户自定义快照</span></strong></li><li><span style="color:#333">B.以单线和双线为主</span></li><li><strong><span style="color:#4CAF50">C.快速自动故障恢复</span></strong></li><li><strong><span style="color:#4CAF50">D.内置主流的操作系统</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>云服务器是BGP多线机房，全国访问流畅均衡，传统IDC是以单线和双线为主。参考地址：<a href="https://bbs.aliyun.com/simple/t538527.html" target="_blank" rel="noopener">https://bbs.aliyun.com/simple/t538527.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">490. 您可以通过<strong>____</strong>方式进行您的阿里云的云服务器ECS实例的运行数据的监控，从而进行监控信息的分析来判断业务的运行状态。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.通过阿里云的ECS管理控制台的实例详情页面进行CPU利用率和网络的出网和入网情况的监控</span></strong></li><li><strong><span style="color:#4CAF50">B.通过云监控服务的管理控制台进行实例运行情况的监控，并设置报警规则进行定制化的监控</span></strong></li><li><span style="color:#333">C.通过云服务器ECS的管理控制台可以进行监控告警的设置</span></li><li><span style="color:#333">D.通过云盾进行ECS实例CPU利用率情况的监控</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>目前只支持在云监控的管理控制台来进行监控告警的设置。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">491. 阿里云的云服务器ECS产品拥有传统服务器和虚拟主机无法企及的优势。在易用性方面，云服务器ECS产品具备<strong>____</strong>明显特点。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云的云市场提供了丰富的操作系统和应用软件</span></strong></li><li><strong><span style="color:#4CAF50">B.通过镜像可一键部署相同的操作系统和软件环境</span></strong></li><li><strong><span style="color:#4CAF50">C.可快速复制多台ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">D.支持自定义镜像、数据盘快照</span></strong></li><li><strong><span style="color:#4CAF50">E.通过阿里云的管理控制台可以在任何地方进行云服务器ECS实例的管理</span></strong></li><li><span style="color:#333">F.可以任意修改云服务器ECS实例的各种系统配置，也不会影响ECS实例的正常使用</span></li></ul><p><strong>答案：</strong>A, B, C, D, E</p><p><strong>解析：</strong>任意修改云服务器ECS实例的各种系统配置可能会导致服务器出现异常。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">492. 阿里云的云服务器ECS产品支持的SSD云盘，可以用于I/O 密集型应用、中大型关系型数据库及NoSQL 数据库中。以下哪些是SSD云盘独有的优势？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.采用分布式三副本机制，提供 99.9999999% 的数据可靠性</span></li><li><strong><span style="color:#4CAF50">B.SSD云盘的随机和顺序读写的IOPS都比普通云盘高</span></strong></li><li><span style="color:#333">C.单块云盘最大提供 32768 GB 存储空间</span></li><li><strong><span style="color:#4CAF50">D.访问时延可以达到 0.5−2 ms</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>题目中问的是：SSD云盘独有的优势。所以需要普通云盘没有的优势。其中三副本机制的高可靠性以及最大提供 32768 GB 存储空间普通云盘也有这个特性。SSD云盘的顺序读写的IOPS都比普通云盘要高，以及访问延时很低，这个是它独有的优势。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">493. 阿里云弹性伸缩（Auto Scaling）的伸缩配置（Scaling Configuration）中支持设置的镜像类型包含下面哪些？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.自定义镜像</span></strong></li><li><strong><span style="color:#4CAF50">B.公共镜像</span></strong></li><li><strong><span style="color:#4CAF50">C.共享镜像</span></strong></li><li><span style="color:#333">D.云市场镜像</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>弹性伸缩设置ECS配置的时候，不支持使用云市场的镜像，主要是因为部分云市场的镜像是收费的，阿里云控制台没有云市场镜像的选项。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">494. 在删除阿里云弹性伸缩(Auto Scaling)的伸缩组时有两种模式：强制删除和非强制删除。在非强制删除模式下，必须满足以下哪两个条件才可以删除？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.伸缩组没有任何伸缩活动正在执行</span></strong></li><li><strong><span style="color:#4CAF50">B.伸缩组当前的ECS实例数量为0</span></strong></li><li><span style="color:#333">C.伸缩组没有对应的定时任务以及报警任务</span></li><li><span style="color:#333">D.伸缩组没有和负载均衡SLB，云数据库RDS配合使用</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>如果 Forcedelete 属性为 false，必须满足以下两个条件，才能删除伸缩组：1.伸缩组没有任何伸缩活动正在执行。2.伸缩组当前的 ECS 实例数量（Total Capacity）为 0。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">495. 阿里云弹性伸缩（Auto Scaling）的移出策略（RemovalPolicy）是指当需要从伸缩组移出云服务器ECS实例并且有多种选择时，则按该策略选择需要移出的云服务器ECS实例。假设您需要添加N台包年包月ECS实例加入伸缩组，并且希望这些ECS实例不会自动被移出，那么您需要做以下哪两个配置？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.将最小实例数（MinSize）设置为N或者大于N</span></strong></li><li><strong><span style="color:#4CAF50">B.将移出策略的第一条挑选规则设置为“最早伸缩配置对应的实例”</span></strong></li><li><span style="color:#333">C.将最大实例数（MaxSize）设置为N或者大于N</span></li><li><span style="color:#333">D.将移出策略的第一条挑选规则设置为“最新创建的实例”</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>题目问的是如何确保自己创建的N台ECS不被移出，，N台的添加的N台包年包月的，“最早伸缩配置对应的实例”意思就是伸缩组会优先移除伸缩配置创建的ECS实例，但是你设置了最小实例数是N，所以不会移除你添加的N个ECS实例。区分一下“最新创建的实例” （如果作为一级筛选条件，不区分是用户手工加入的 ECS 实例还是自动创建的 ECS 实例，直接按最新创建的 ECS 实例进行移出。），最早伸缩配置创建的 ECS 实例（对于用户手工移入的 ECS 实例，自动跳过此条件；如果与伸缩配置相关联的 ECS 实例已经全部移出，还要继续移出 ECS 实例时，则在用户手工加入的 ECS 实例中随机选一台。同时这也是阿里云官方原话，参考链接：<a href="https://help.aliyun.com/document_detail/25969.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25969.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">496. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。OSS免费提供了多种监控报表，方便用户随时关注OSS中文件的访问和资源占用情况。OSS支持<strong>____</strong>监控功能。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.存储空间的监控</span></strong></li><li><span style="color:#333">B.访问OSS文件的用户终端类型（PC端或手机端）的监控</span></li><li><strong><span style="color:#4CAF50">C.对OSS服务请求的PV访问量（包括PUT、GET的请求数）的监控</span></strong></li><li><strong><span style="color:#4CAF50">D.对OSS服务请求的UV访问人次的监控</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>OSS不支持对终端的类型进行监控。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">497. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。<strong>____</strong>场景适合使用OSS服务。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.手机APP应用的升级包下载</span></strong></li><li><strong><span style="color:#4CAF50">B.海量图片文件的存储</span></strong></li><li><span style="color:#333">C.结构化数据的存储和查询</span></li><li><strong><span style="color:#4CAF50">D.海量视频文件的存储</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>结构化数据的存储和查询比较适合用RDS等数据库产品解决，不适合使用对象存储OSS服务。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">498. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。OSS 产品的账单费用由三部分组成，包括：存储空间费用、流量费用和API请求费用。下面对OSS的操作中<strong>___</strong>收取流量费用。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.从本地PC机下载OSS文件</span></strong></li><li><span style="color:#333">B.从本地PC机上传文件到OSS</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例通过公网IP下载OSS文件</span></strong></li><li><span style="color:#333">D.云服务器ECS实例通过内网IP下载OSS文件</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>OSS只有在公网下行（即公网下载文件）的时候才会收取流量费，内网上行下行都不收取流量费用。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">499. C公司基于阿里云的产品构建了一个共享软件下载的WEB网站，所有下载内容保存在阿里云对象存储OSS中，用户可以直接访问OSS为每个对象提供的链接完成下载。最近一年的业务增长很快，下载量同比增加了300%，每月下载流量超过500Tb。公司的运营团队想通过架构升级来降低网站的云资源使用成本（至少降低20%），同时提升用户的下载速度。该网站通过<strong>____</strong>可以达到预期目标。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.使用内容分发网络(CDN)提升用户下载速度，并降低网络流量成本</span></strong></li><li><span style="color:#333">B.新增多台云服务器ECS实例</span></li><li><strong><span style="color:#4CAF50">C.通过购买对象存储服务OSS的流量包节省成本</span></strong></li><li><span style="color:#333">D.使用加密DNS服务（HTTPDNS）</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>题目中说了，公司团队需要降低网站的云资源使用成本，同时提升用户的下载速度。所以需要购买对象存储服务OSS的流量包节省流量使用成本，使用内容分发网络(CDN)提升用户下载速度，同时降低网络流量成本。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">500. 阿里云的云服务器ECS产品拥有传统服务器和虚拟主机无法企及的优势。<strong>____</strong>属于云服务器ECS产品在服务器容灾备份方面的优势。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.每份数据多份副本</span></strong></li><li><span style="color:#333">B.需要用户人工制作数据备份</span></li><li><strong><span style="color:#4CAF50">C.单份数据损坏可在短时间内快速恢复</span></strong></li><li><strong><span style="color:#4CAF50">D.无需额外的开发，支持自动的磁盘数据备份</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>云服务器ECS产品默认支持三副本备份的方式，服务器容灾并不需要用户人工数据备份。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">501. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。与自建存储相比，OSS在可靠性、安全、成本和数据处理能力方面具备明显的优势。下面<strong>___</strong>属于OSS的成本优势。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.OSS首次开通时无需选择容量大小，后续可根据实际需要随时扩容，扩容时业务只中断12秒</span></li><li><strong><span style="color:#4CAF50">B.OSS服务基于多线BGP骨干网络构建，下行无带宽限制，上行流量免费</span></strong></li><li><strong><span style="color:#4CAF50">C.OSS最终用户不需要投入运维人员与托管费用，后台运维完全由阿里云负责</span></strong></li><li><strong><span style="color:#4CAF50">D.无需一次按峰值容量的存储硬件设备，按实际使用容量付费</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>OSS的下行的带宽都是没有限制的，上行（即上传）的流量是免费的。同时OSS的Bucket空间是没有上限的，所以不存在扩容的情况，更不存在业务中断的情况。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">502. 阿里云的负载均衡SLB可以把用户请求按照预设的转发策略分发到后端服务器池中的多台云服务器ECS实例上去，由不同的ECS实例完成请求的响应。以下关于后端服务器池中的ECS实例说法正确的是? (正确答案的数量:3个)</font></p><ul><li><strong><span style="color:#4CAF50">A.同一组ECS实例可以搭建多个网站，并可以同时对这些网站进行负载均衡</span></strong></li><li><strong><span style="color:#4CAF50">B.在使用负载均衡SLB实例的过程中，只要不超过限制，可以随时调整后端ECS实例的数目</span></strong></li><li><strong><span style="color:#4CAF50">C.负载均衡SLB不提供CNAME地址，需要直接将域名解析到负载约衡SLB提供的服务IP地址上</span></strong></li><li><span style="color:#333">D.后端服务池中的ECS实例的权重加起来一定等于100</span></li><li><span style="color:#333">E.后端服务池中的ECS实例必须都是运行中状态</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>负载均衡SLB不提供CNAME地址，只提供IP地址；后端服务器的权重之和是没有限制的，你可以每个权重都设置为100；后端服务池中的ECS可能由于异常导致机器不能正常运行，会出现非运行中的情况。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">503. 在阿里云负载均衡SLB实例和云服务器ECS实例配合使用时，最终服务请求都会被负载均衡SLB实例按照转发的策略和规则分发到ECS实例上去执行。负载均衡SLB实例后端云服务器ECS实例的管理和配置，决定了整个系统的处理能力。以下关于后端云服务器ECS实例，说法正确的有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.负载均衡SLB实例的服务能力与后端ECS实例的公网宽带无关</span></strong></li><li><strong><span style="color:#4CAF50">B.在使用负载均衡SLB实例的过程中可以随时调整后端ECS实例的数目</span></strong></li><li><strong><span style="color:#4CAF50">C.不同操作系统的云服务器ECS实例可以同时做为负载均衡SLB实例的后端服务器</span></strong></li><li><span style="color:#333">D.禁用后端云服务器ECS实例的公网网卡不会影响负载均衡SLB服务</span></li><li><span style="color:#333">E.后端云服务器ECS实例的网络类型必须和负载均衡的实例类型一致</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>如果ECS有公网IP，禁用公网网卡就会影响负载均衡服务。因为在有公网网卡的情况下，默认路由会走公网，如禁用就无法回包从而影响负载均衡服务。建议不要禁止，如一定要这么做，需要修改默认路由为私网才会不影响服务。但需要考虑业务是否对公网有依赖，如通过公网访问RDS等。参考链接：<a href="https://help.aliyun.com/knowledge_detail/55193.html?spm=5176.11065259.1996646101.searchclickresult.59e9582dzvtlCD，后端云服务器ECS的网络类型不一定需要和负载均衡一直，负载均衡可以混挂经典网络和VPC网络的ECS。" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/55193.html?spm=5176.11065259.1996646101.searchclickresult.59e9582dzvtlCD，后端云服务器ECS的网络类型不一定需要和负载均衡一直，负载均衡可以混挂经典网络和VPC网络的ECS。</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">504. Google在2003年到2006年期间陆续公布了三篇技术论文，这也逐渐成为云计算发展的基石。这三篇论文主要阐述的内容和以下哪几项技术相关？（正确答案数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.GFS</span></strong></li><li><strong><span style="color:#4CAF50">B.BigTable</span></strong></li><li><strong><span style="color:#4CAF50">C.MapReduce</span></strong></li><li><span style="color:#333">D.HBase</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>Google 在 2003 年到 2006 年公布了关于 GFS、MapReduce 和 BigTable 三篇技术论文。参考链接：<a href="https://wenku.baidu.com/view/7ac65964a8114431b80dd84c.html" target="_blank" rel="noopener">https://wenku.baidu.com/view/7ac65964a8114431b80dd84c.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">505. 在实际项目中，通常会把阿里云的负载均衡SLB、云服务器ECS以及弹性伸缩（Auto Scaling）结合起来使用，以下关于三者配合使用的说法中正确的有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.三者可以不在同一个地域（Region），也能配合使用</span></li><li><strong><span style="color:#4CAF50">B.负载均衡SLB实例必须打开健康检查，否则无法和弹性伸缩配合使用</span></strong></li><li><strong><span style="color:#4CAF50">C.一个SLB实例可以绑定多个伸缩组</span></strong></li><li><strong><span style="color:#4CAF50">D.一个伸缩组可以同时支持多个SLB实例</span></strong></li><li><span style="color:#333">E.负载均衡SLB实例必须关闭会话保持，否则将影响弹性伸缩活动的执行</span></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>三者必须要在同一个地域才配合使用。会话保持的开关和弹性伸缩的拓展没有关联性能。弹性伸缩会自动释放ECS实例，所以建议伸缩组内ECS实例不要保存应用状态信息和相关数据等信息，例如会话记录（Session）、数据库或者日志等。但是你不关闭并不会影响到伸缩活动的执行。所以”[答案解析]三者必须要在同一个地域才配合使用。会话保持的开关和弹性伸缩的拓展没有关联性能。弹性伸缩会自动释放ECS实例，所以建议伸缩组内ECS实例不要保存应用状态信息和相关数据等信息，例如会话记录（Session）、数据库或者日志等。但是你不关闭并不会影响到伸缩活动的执行。所以”必须关闭会话保持，否则将影响弹性伸缩活动的执行”的描述是不正确的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">506. 某企业网站使用阿里云负载均衡SLB实例来转发用户请求给后端云服务器ECS实例,如果负载均衡SLB实例被释放掉了,可能会对整个系统产生一些影响。以下说法中正确的有<strong>____</strong>(正确答案的数量:2个)</font></p><ul><li><strong><span style="color:#4CAF50">A.ECS实例本身不会受到影响</span></strong></li><li><strong><span style="color:#4CAF50">B.如果部署在后端ECS实例上的应用对应的域名是解析到负载均衡SLB实例IP上的,那么会影响站点的访问口</span></strong></li><li><span style="color:#333">C.ECS实例会立即被释放</span></li><li><span style="color:#333">D.如果部署在后端ECS实例上的应用对应的域名是解析到负载均衡SLB实例IP上的,释放后会导致ECS实例上负载不再均衡,只要保证ECS实例运行状态正常,网站的访问就不会受到影响</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>SLB的释放只会影响到SLB实例，后端的ECS实例没有影响。但是因为域名是解析到SLB的IP的，所以域名访问会受到影响。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">507. CDN节点系统关键组件有哪些?(正确答案的数量:3个)</font></p><ul><li><span style="color:#333">A.origin</span></li><li><strong><span style="color:#4CAF50">B.LVS</span></strong></li><li><strong><span style="color:#4CAF50">C.tengine</span></strong></li><li><strong><span style="color:#4CAF50">D.swift</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>LVS做四层均衡负载；Tengine做七层负载均衡；Swift做HTTP缓存。参考链接：<a href="http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/cdnbriefmanualcnzh20160511.pdf" target="_blank" rel="noopener">http://docsaliyun.cnhangzhou.oss.aliyuninc.com/pdf/cdnbriefmanualcnzh20160511.pdf</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">508. 阿里云的云盾数据风控产品是通过领先的行为收集技术和机器学习模型,解决账号、活动、支付等关键业务环节存在的欺诈威胁,降低企业经济损失。 数据风控产品具体可以防范<strong>____</strong>安全威胁。（正确答案的数量:3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.垃圾注册</span></strong></li><li><span style="color:#333">B.CC攻击</span></li><li><strong><span style="color:#4CAF50">C.营销作弊</span></strong></li><li><strong><span style="color:#4CAF50">D.盗卡支付</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>CC注册是Web应用防火墙的功能，数据风控的防护点列表参考：<a href="https://help.aliyun.com/document_detail/28311.html?spm=a2c4g.11186623.6.546.5adb176biAlDHr" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28311.html?spm=a2c4g.11186623.6.546.5adb176biAlDHr</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">509. 云存储是在云计算上衍生发展出来的一个概念,将存储资源池中的存储和数据服务,通过网络以统一的接口按需提供给授权用户。云存储具备以下哪些特点?(正确答案的数量:5个)</font></p><ul><li><strong><span style="color:#4CAF50">A.高可扩展性:云存储的规模可以动态伸缩,满足数据规模增长的需要</span></strong></li><li><strong><span style="color:#4CAF50">B.高可靠性和高可用性:通过副本复制以及节点故障自动容错等技术,提供了很高的可靠性和可用性</span></strong></li><li><span style="color:#333">C.管理和维护:为了防止出现由意外故障而导致服务终止的现象,用户需要了解数据存储在不同节点上的具体分布</span></li><li><strong><span style="color:#4CAF50">D.透明服务:提供统一的接口,比如RESTful接口的形式提供服务,后端存储节点对用户透明</span></strong></li><li><strong><span style="color:#4CAF50">E.按需服务:云存储是一个庞大的资源池,用户可按需申请、使用</span></strong></li><li><strong><span style="color:#4CAF50">F.超大规模:云存储具有相当的规模,单个用户存储的数据可达TB级甚至PB级</span></strong></li></ul><p><strong>答案：</strong>A, B, D, E, F</p><p><strong>解析：</strong>用户虽然需要管理和维护，但是没有必要了解数据的具体节点分布。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">510. 伸缩配置(Scaling Configuration)定义了用于弹性伸缩的ECS实例的配置信息。弹性伸缩为某个伸缩组自动增加ECS实例时,会根据伸缩配置创建ECS实例。ESS伸缩配置具有以下几种状态?(正确答案的数量:2个)</font></p><ul><li><strong><span style="color:#4CAF50">A.Active</span></strong></li><li><strong><span style="color:#4CAF50">B.Inactive</span></strong></li><li><span style="color:#333">C.Deleting</span></li><li><span style="color:#333">D.down</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>伸缩配置具有以下几种状态（LifecycleState）：Active：生效状态，伸缩组会采用处于生效状态的伸缩配置自动创建ECS实例。Inacitve：失效状态，该伸缩配置存在于伸缩组中，但伸缩组不会采用处于失效状态的伸缩配置自动创建ECS实例。参考链接：<a href="https://help.aliyun.com/document_detail/25945.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25945.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">511. 您可以使用阿里云的云服务器ECS实例的内网IP进行通信来提升通信效率的同时还节省流量费用,以下哪些云产品之间的通信可以通过内网IP并不需要其他产品的辅助直接完成?（正确答案的数量:3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.相同地域的不同的云服务器ECS实例之间</span></strong></li><li><strong><span style="color:#4CAF50">B.相同地域的云服务器ECS实例与对象存储OSS之间</span></strong></li><li><strong><span style="color:#4CAF50">C.相同地域的云服务器ECS实例与云服务器RDS实例之间</span></strong></li><li><span style="color:#333">D.不同地域的不同的云服务器ECS实例之间</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>不同地域之前的ECS不支持通过内网地址互相访问。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">512. 阿里云的云服务器ECS实例的生命周期是从创建开始到释放结束。释放方式包括包年包月的实例到期、按量付费的实例欠费停机、按量付费实例的用户主动释放。在ECS实例的生命周期中有不同的实例状态，关于ECS实例状态的说法正确的是<strong><strong>_</strong></strong>。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.实例状态可以分为中间状态和稳定状态</span></strong></li><li><strong><span style="color:#4CAF50">B.处于“已停止”状态的云服务器ECS实例不能对外提供业务</span></strong></li><li><strong><span style="color:#4CAF50">C.ECS实例进行重新初始化系统盘或数据盘的操作时，将处于“重新初始化中”状态，如果ECS实例长时间处于该状态，则说明该实例出现异常</span></strong></li><li><strong><span style="color:#4CAF50">D.包年包月的ECS实例到期后因没有及时续费，或者按量付费的实例因账户欠费都会导致ECS实例变成“已过期”状态，“已过期”的ECS实例不能对外提供业务</span></strong></li><li><span style="color:#333">E.“运行中”是一个ECS实例的中间状态</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>“运行中”是稳定状态。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">513. 阿里云的云服务器ECS实例的磁盘快照是对某一个时刻的磁盘数据的备份，基于快照进行磁盘回滚操作时会把磁盘上的数据恢复到快照制作时的数据，在执行回滚快照操作时以下说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.回滚快照会把磁盘上的数据回滚到快照制作时的数据，快照制作时间点到当前时间之间该磁盘上的数据变化将会丢失</span></strong></li><li><strong><span style="color:#4CAF50">B.回滚快照操作只能针对打过快照的磁盘进行</span></strong></li><li><strong><span style="color:#4CAF50">C.回滚快照操作时必需在云服务器ECS实例的状态为“停止”时才能进行</span></strong></li><li><span style="color:#333">D.磁盘在未创建快照的情况下也允许通过其他磁盘的快照进行回滚或数据恢复</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>磁盘在未创建快照的情况下是不允许通过其他磁盘的快照进行回滚或数据恢复</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">514. 使用阿里云负载均衡SLB将负载分发到多台云服务器ECS实例上去的时候，<strong>____</strong>即可获得发起请求的用户的真实IP。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.7层服务可以通过Http Header:XForwardedFor获取来访者真实IP，并保证配置负载均衡SLB监听时开启“获取真实访问IP”</span></strong></li><li><strong><span style="color:#4CAF50">B.4层服务可以直接获取，无需额外配置</span></strong></li><li><span style="color:#333">C.4层服务可以通过Http Header:XForwardedFor获取来访者真实IP，并保证配置负载均衡SLB监听时开启“获取真实访问IP”</span></li><li><span style="color:#333">D.7层服务可以直接获取，无需额外配置</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>针对4层（TCP协议）负载均衡服务，可以直接获取用户IP，七层则需要通过请求头中的XForwardedFor获取。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">515. 某企业经营着一个电商平台，托管在传统机房。主要销售方式是靠会员好友之间推荐和真实评价来吸引客户，因此平台专门设置了一个交互式的论坛，平均24小时发贴量超过5000个。面临的主要困难是：每周23次的DDoS攻击，每次的流量在200M 到 1.5G之间。另外论坛内容审核工作量大，共投入了6个人24小时轮岗审核发贴内容中是否有违规信息。公司上周决定要把平台全部迁至阿里云上，使用云盾的<strong><strong>_</strong></strong>功能可以解决这些困扰。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.DDoS基础防护，可防护小规模的DDoS攻击</span></strong></li><li><span style="color:#333">B.开启态势感知，自动屏蔽违法信息</span></li><li><span style="color:#333">C.开启安骑士，在用户发贴的当时就能立即阻止</span></li><li><strong><span style="color:#4CAF50">D.开启阿里绿网，具有自动识别违规内容的功能，可降低审核工作量</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>题目中主要遇到两个问题：第一是每周23次的DDoS攻击，每次的流量在200M 到 1.5G之间，所以DDoS攻击的流量在4.5G以下，所以DDoS基础防护可以防护5G以下的DDoS攻击。第二是论坛内容违规审核工作量大，所以需要采用阿里绿网（现：内容安全）来降低审核工作量。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">516. 某创业团队开发了一款手机游戏，第一个版只使用阿里云的1台最高配置的云服务器ECS实例和云数据库RDS实例。上线3周后做了一次推广，用户量以每天300人的速度在增长，该ECS实例的负载越来越高，已无法正常响应用户请求。并且在上周连续受到了两次6Gb的DDoS攻击，服务累计中断了3小时，使这个小团队感觉到网络安全和高可用是当下最需要解决的两个问题。 这种情况下，通过增加阿里云的<strong>____</strong>产品可以解决这些问题。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.对像存储OSS</span></li><li><strong><span style="color:#4CAF50">B.负截均衡SLB</span></strong></li><li><strong><span style="color:#4CAF50">C.DDoS高防IP</span></strong></li><li><span style="color:#333">D.DDoS基础防护</span></li><li><strong><span style="color:#4CAF50">E.云服务器ECS实例</span></strong></li></ul><p><strong>答案：</strong>B, C, E</p><p><strong>解析：</strong>题目中主要遇到两个问题：第一是ECS实例的负载越来越高，所以需要增加云服务器ECS实例，然后配置到负截均衡SLB后端来实现负载，实现均衡负载来减轻当前ECS实例的压力。第二是受到了两次6Gb的DDoS攻击，攻击的流量大于5G，所以需要采用DDoS高防IP来提供DDoS防护能力。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">517. 阿里云官网有很多阿里云内容分发网络CDN与其它云产品组合的方案与业务场景供用户参考。 以下选项中<strong><strong>_</strong></strong>场景适合使用阿里云内容分发网络CDN。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.日访问次数低于100的BBS论坛</span></li><li><strong><span style="color:#4CAF50">B.日访问次数大于10万次的阿里云虚拟主机纯静态站点</span></strong></li><li><strong><span style="color:#4CAF50">C.某中型电商类网站中的图片、html、css、js文件</span></strong></li><li><strong><span style="color:#4CAF50">D.新闻门户网站，日访问人数超过3000万次，用户遍布全国各地</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>日均低于100的访问次数，不适合用CDN，因为热点不够，可能不足够形成CDN热点文件。同时从成本出发也不适合使用。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">518. 在移动互联网时代下,手机APP上传的数据越来越多。手机APP直联阿里云对象存储OSS实现上传和下载,可以让开发者能更加专注于自己的应用逻辑。要想 实现这个方案,且确保每一次对OSS的访问都是安全可控的,至少需要OSS和哪些阿里云的<strong><strong>__</strong></strong>产品配合。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.负载均衡SLB（提升并发处理能力）</span></li><li><strong><span style="color:#4CAF50">B.云服务器ECS(部署应用服务器)</span></strong></li><li><span style="color:#333">C.内容分发网络CDN（提高访问速度）</span></li><li><strong><span style="color:#4CAF50">D.访问控制（Resource Access Management）,用来生成临时访问凭证</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>划重点：手机APP直联阿里云对象存储OSS实现上传和下载。说明就是手机需要下载的话直接从OSS的地址下载，只需要开发者的ECS服务器生成临时访问凭证即可。所以需要ECS和RAM权限控制。参考地址：<a href="https://help.aliyun.com/document_detail/31926.html?spm=a2c4g.11186623.6.1124.123a6eddL1vq4l" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31926.html?spm=a2c4g.11186623.6.1124.123a6eddL1vq4l</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">519. 阿里云负载均衡服务SLB提供性能保障型实例，该类型实例提供了可保障的性能指标, 那么它的关键指标有<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.最大连接数Max Connection</span></strong></li><li><strong><span style="color:#4CAF50">B.每秒新建连接数Connection Per Second (CPS)</span></strong></li><li><strong><span style="color:#4CAF50">C.每秒查询数Query Per Second (QPS)</span></strong></li><li><span style="color:#333">D.连接响应超时重试次数 Connection Response timeout retry times</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>考察的是：性能保障型实例的三个关键指标，参考链接：<a href="https://help.aliyun.com/document_detail/85939.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85939.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">520. 负载均衡实例监听负责检查连接请求，然后根据调度算法定义的转发策略将请求流量分发至后端服务器。SLB实例监听可选择的协议类型有哪些？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.FTP</span></li><li><strong><span style="color:#4CAF50">B.HTTP</span></strong></li><li><strong><span style="color:#4CAF50">C.HTTPS</span></strong></li><li><strong><span style="color:#4CAF50">D.TCP</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>目前负载均衡SLB监听仅支持 TCP/UDP（4 层） 和 HTTP/HTTPS（7 层） 这 4 种协议。参考链接：<a href="https://help.aliyun.com/document_detail/85943.html?spm=a2c4g.11186623.6.578.291d18d2aPO4mv" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85943.html?spm=a2c4g.11186623.6.578.291d18d2aPO4mv</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">521. 如果用户已经开通了阿里云的云盾数据风控产品，当需要对业务请求进行风险判断时，可以调用数据风控产品提供的API进行“服务风险识别结果”查询，查询结果可能包括<strong><strong><strong>_</strong></strong></strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.不确定，无法判断是否有风险</span></li><li><strong><span style="color:#4CAF50">B.可信，可以直接进入业务流程，对用户无感知</span></strong></li><li><strong><span style="color:#4CAF50">C.可疑，需要进一步验证或打标记观察</span></strong></li><li><strong><span style="color:#4CAF50">D.风险，可以直接拦截或将业务权限级别调低</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>风险识别平台可对不同状态（可信、可疑、恶意）的请求进行不同处理。参考链接：<a href="https://wenku.baidu.com/view/b39a0aa0a1116c175f0e7cd184254b35eefd1a3c.html" target="_blank" rel="noopener">https://wenku.baidu.com/view/b39a0aa0a1116c175f0e7cd184254b35eefd1a3c.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">522. 阿里云的负载均衡SLB中的证书（Certificate）用于HTTPS协议，当需要使用加密传输时，用户可以将证书上传至负载均衡SLB实例中，在创建HTTPS协议监听时绑定证书，提供HTTPS服务。用户可以采取<strong>____</strong>方式上传证书。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.通过负载均衡SLB的API上传</span></strong></li><li><strong><span style="color:#4CAF50">B.通过负载均衡SLB的管理控制台上传</span></strong></li><li><span style="color:#333">C.通过FTP服务上传</span></li><li><span style="color:#333">D.先将证书上传至负载均衡SLB的后端服务器ECS实例上，负载均衡SLB会据此自动更新证书</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>可以通过负载均衡的控台及负载均衡的API上传HTTPS证书，控台上传参考链接：<a href="https://help.aliyun.com/document_detail/32336.html?spm=5176.10695662.1996646101.searchclickresult.21a0a47fjTyj4U，API上传参考链接：https://help.aliyun.com/document_detail/34181.html?spm=a2c4g.11186623.6.677.21e6e775xllShc" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32336.html?spm=5176.10695662.1996646101.searchclickresult.21a0a47fjTyj4U，API上传参考链接：https://help.aliyun.com/document_detail/34181.html?spm=a2c4g.11186623.6.677.21e6e775xllShc</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">523. 您需要将阿里云的专有网络VPC与传统数据中心组成一个按需定制的网络环境，实现应用的平滑迁移上云。专有网络VPC可以与<strong>____</strong>连接方式组合来实现该架构。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.vRouter</span></li><li><strong><span style="color:#4CAF50">B.专线</span></strong></li><li><span style="color:#333">C.SDN</span></li><li><strong><span style="color:#4CAF50">D.VPN</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>根据题意，需要让专有网络VPC与传统数据中心实现内网访问，所以专线和VPN可以满足要求。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">524. 当您发现无法将指定的阿里云的块存储挂载到某台的云服务器ECS实例上时，可能是<strong>____</strong>原因造成的。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS实例已经挂载的数据盘数量达到上限</span></strong></li><li><strong><span style="color:#4CAF50">B.购买的块存储和云服务器ECS实例不在同一个可用区</span></strong></li><li><span style="color:#333">C.云服务器ECS实例处于已停止状态</span></li><li><span style="color:#333">D.云服务器ECS实例没有公网IP</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>题目中所说的是无法将数据盘挂载到ECS上面，请分析一下原因。分析一下挂载云盘的注意事项：<a href="https://help.aliyun.com/document_detail/25446.html?spm=5176.11065259.1996646101.searchclickresult.1380778eSJx2wx，发现" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25446.html?spm=5176.11065259.1996646101.searchclickresult.1380778eSJx2wx，发现</a> 一台ECS实例最多能挂载16块云盘作数据盘用，且云盘只能挂载到同一地域下同一可用区内的实例上，不能跨可用区挂载。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">525. 阿里云弹性伸缩(Auto Scaling)中的伸缩触发任务用于触发伸缩规则的任务，常见的有定时任务、云监控的报警任务等。对于报警任务，支持以下哪些触发条件？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.CPU负载</span></strong></li><li><strong><span style="color:#4CAF50">B.内存利用率</span></strong></li><li><strong><span style="color:#4CAF50">C.系统平均负载</span></strong></li><li><strong><span style="color:#4CAF50">D.外网和内网出入流量</span></strong></li><li><span style="color:#333">E.磁盘IOPS</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>报警任务支持：CPU，内存，系统平均负载，内外网出和入流量，TCP总连接数和已建立连接数。系统盘读和写BPS，系统盘读和写IOPS，内网网卡收包数和发包数。磁盘IOPS不是具体的确定的属性，具体的要区分具体的系统盘读和写BPS，系统盘读和写IOPS。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">526. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，可以通过流量分发扩展应用系统对外的服务能力，通过消除单点故障提升应用系统的可用性。阿里云的负载均衡SLB包括<strong>____</strong>等主要的组成部分。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.LoadBalancer</span></strong></li><li><strong><span style="color:#4CAF50">B.Listener</span></strong></li><li><strong><span style="color:#4CAF50">C.Backend Server</span></strong></li><li><span style="color:#333">D.Heartbeat</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>考察负载均衡由以下三个部分。参考链接：<a href="https://help.aliyun.com/document_detail/27539.html?spm=a2c4g.11186623.6.544.652473e3oaFHOL" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27539.html?spm=a2c4g.11186623.6.544.652473e3oaFHOL</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">527. 虚拟化（英语：Virtualization）是云计算的底层结构。它是一种资源管理技术，是将计算机的各种实体资源，如服务器、网络、内存及存储等，予以抽象、转换后呈现出来，打破实体结构间的不可切割的障碍，使用户可以比原本的组态更好的方式来应用这些资源。对于虚拟实例的实现方式，包括下面几类：（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.全虚拟化</span></strong></li><li><strong><span style="color:#4CAF50">B.半虚拟化</span></strong></li><li><strong><span style="color:#4CAF50">C.硬件辅助虚拟化</span></strong></li><li><span style="color:#333">D.分布式虚拟化</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>虚拟化技术包括：全虚拟化，半虚拟化，硬件辅助虚拟化。参考链接：<a href="https://www.jianshu.com/p/312056e70387?from=timeline" target="_blank" rel="noopener">https://www.jianshu.com/p/312056e70387?from=timeline</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">528. C公司在传统IDC机房有一套应用系统，用了共计50多台服务器，运维成本越来越高，希望迁到阿里云降低资产拥有成本和运维成本。该系统的硬件包括30台WEB服务器、5台MySQL数据库服务器、5台文件存储服务器、5台自建LVS负载均衡、5台数据备份服务器。 C公司要想在系统功能不损失的前提下上云，应该选用阿里云的<strong>____</strong>产品。（正确答案数量：4）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS</span></strong></li><li><strong><span style="color:#4CAF50">B.云数据库RDS</span></strong></li><li><strong><span style="color:#4CAF50">C.对象存储OSS</span></strong></li><li><span style="color:#333">D.弹性伸缩(Auto Scaling)</span></li><li><strong><span style="color:#4CAF50">E.负载均衡SLB</span></strong></li></ul><p><strong>答案：</strong>A, B, C, E</p><p><strong>解析：</strong>题目中的系统的硬件分别对应，30台WEB服务器对应云服务器ECS、5台MySQL数据库服务器对应云数据库RDS、5台文件存储服务器对应对象存储OSS、5台自建LVS负载均衡对应负载均衡SLB、5台数据备份服务器是不需要的，因为ECS和OSS提供了多重冗余备份。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">529. 您计划基于阿里云的云服务器ECS实例搭建一个网站，有可能会影响网站打开速度的因素包括<strong><strong>_</strong></strong>。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.网页内容本身的大小</span></strong></li><li><strong><span style="color:#4CAF50">B.网络的带宽</span></strong></li><li><strong><span style="color:#4CAF50">C.是否有大量数据库的操作</span></strong></li><li><strong><span style="color:#4CAF50">D.是否过多引用了其他网站的内容</span></strong></li><li><span style="color:#333">E.云服务器ECS实例的磁盘大小</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，云服务器ECS实例的磁盘大小是不会影响到网站的访问速度的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">530. 您创建阿里云的云服务器ECS实例的同时可以创建多块数据盘，用于存储应用的数据。如果是Linux ECS实例的数据盘创建成功之后，数据盘的设备名可以是<strong><strong>__</strong></strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A./dev/xvda</span></li><li><strong><span style="color:#4CAF50">B./dev/xvdb</span></strong></li><li><strong><span style="color:#4CAF50">C./dev/xvdd</span></strong></li><li><strong><span style="color:#4CAF50">D./dev/xvdz</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>正常情况下用fdisk l命令,可以查看到新增的硬盘。/dev/xvda为系统盘，/dev/xvdb,/dev/xvdc…/dev/xvdz都是数据盘。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">531. 阿里云的云服务器ECS产品根据底层使用的硬件不同划分为不同的实例系列。对于实例系列I采用Intel Xeon CPU，实例系列II采用Haswell CPU。以下关于云服务器ECS产品的实例系列说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.实例系列II的用户可以获得更大的实例规格</span></strong></li><li><strong><span style="color:#4CAF50">B.实例系列II相对于实例系列I增加了一些新的指令集，使整数和浮点运算的性能翻倍</span></strong></li><li><span style="color:#333">C.ECS实例创建以后可以进行实例系列I与实例系列II的变更</span></li><li><strong><span style="color:#4CAF50">D.实例系列II全部为 I/O 优化实例，配合SSD云盘使用可以获得更高的I/O性能</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>排除法，实例系列I和实例系列II直接是不同的处理器系列，创建之后不支持变更。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">532. 创建阿里云的云服务器ECS实例时，要根据您的业务需求进行实例规格和配置的选择。下列说法中关于实例选择的描述中正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.企业级异构计算规格族群可以提供更好的浮点运算性能</span></strong></li><li><strong><span style="color:#4CAF50">B.实例均为 I/O 优化实例，可以发挥磁盘的更好性能</span></strong></li><li><strong><span style="color:#4CAF50">C.如果您要使用Windows系统的ECS实例部署Web环境，建议选择至少2GB或更高内存的实例规格</span></strong></li><li><span style="color:#333">D.需要单独开通云盾的基础防护服务</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，云盾的基础防护服务在ECS创建完成后自动开通，不需要单独开通。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">533. 阿里云弹性伸缩(Auto Scaling)，是根据用户的业务需求和策略，自动调整其弹性计算资源的管理服务。它主要可以提供<strong>____</strong>功能。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.根据客户业务需求横向扩展云服务器ECS实例的数量，即自动增加或减少云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">B.支持负载均衡SLB配置：在增加或减少云服务器ECS实例时，自动向负载均衡SLB实例中添加或移除相应的云服务器ECS实例</span></strong></li><li><strong><span style="color:#4CAF50">C.支持云数据库RDS访问白名单：在增加或减少云服务器ECS实例时，自动向云数据库RDS访问白名单中添加或移出该云服务器ECS实例的IP</span></strong></li><li><span style="color:#333">D.根据客户业务需求提升或者缩减单个云服务器ECS实例的配置（包括内存大小、CPU个数等）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，弹性伸缩(Auto Scaling)是横向扩展，扩展的是云服务器ECS实例的个数，云服务器ECS实例的配置是不支持伸缩的。所以根据客户业务需求提升或者缩减单个云服务器ECS实例的配置（包括内存大小、CPU个数等）是错误的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">534. 阿里云弹性伸缩(Auto Scaling)，是根据用户的业务需求和策略，自动调整其弹性计算资源的管理服务。以下哪些应用场景可以由弹性伸缩实现？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户根据自己的业务需求自动调整其弹性计算资源，在满足业务需求高峰增长时无缝地增加ECS实例数量</span></strong></li><li><strong><span style="color:#4CAF50">B.用户根据自己的业务需求自动调整其弹性计算资源，在业务需求下降时自动减少ECS实例数量以节约成本</span></strong></li><li><strong><span style="color:#4CAF50">C.当伸缩组中的某个ECS实例发生故障时，弹性伸缩会创建新的ECS实例，接管故障ECS实例的计算任务</span></strong></li><li><span style="color:#333">D.用户根据自己的业务需求，自动调整期弹性计算资源，在业务需求上升时，自动提高ECS的配置</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，弹性伸缩(Auto Scaling)是横向扩展，扩展的是云服务器ECS实例的个数，云服务器ECS实例的配置是不支持伸缩的。所以自动提高ECS的配置是错误的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">535. OSS提供自动保存访问日志记录功能。Bucket的拥有者可以通过OSS控制台为其所拥有的Bucket开启访问日志记录功能。下列关于OSS开启访问日志说法正确的是？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.开启访问日志记录功能后，访问日志每分钟生成一次</span></li><li><strong><span style="color:#4CAF50">B.开启访问日志记录功能后，访问日志会按照固定的命名规则，生成一个Object写入用户指定的Bucket</span></strong></li><li><strong><span style="color:#4CAF50">C.Bucket的拥有者可以通过OSS控制台，为其所有的bucket开启访问日志纪录功能</span></strong></li><li><strong><span style="color:#4CAF50">D.通过对生成的日志文件进行分析，可以轻松定位在OSS Bucket上的所有操作</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>当一个Bucket(源Bucket，Source Bucket)开启访问日志记录功能后，OSS自动将访问Bucket中文件的的请求访问记录，以小时为单位，按照设置的命名规则，生成一个Object写入用户指定的bucket(目标Bucket，Target Bucket)。日志每一小时自动生成一次，通过对生成的日志文件进行分析，可以轻松定位在OSS Bucket上的所有操作。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39654.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39654.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">536. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。OSS提供了多种文件上传的方法，以方便用户在不同的场景中使用。阿里云OSS支持<strong><strong>___</strong></strong>文件上传方法。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.从OSS管理控制台直接上传</span></strong></li><li><strong><span style="color:#4CAF50">B.通过OpenAPI上传</span></strong></li><li><strong><span style="color:#4CAF50">C.通过SDK上传</span></strong></li><li><strong><span style="color:#4CAF50">D.通过云市场里的FTP工具上传</span></strong></li><li><span style="color:#333">E.通过移动硬盘直接拷贝到OSS中</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，OSS对象存储不支持从移动硬盘直接拷贝到OSS中去。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">537. 用户可以通过控制台或API配置监听的健康检查。下列属于SLB健康检查必选参数配置的有？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.响应超时时间</span></strong></li><li><strong><span style="color:#4CAF50">B.健康检查间隔</span></strong></li><li><strong><span style="color:#4CAF50">C.不健康阀值</span></strong></li><li><span style="color:#333">D.健康检查请求</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>注意题目要求的是必选参数，考的是配置健康检查的实际操作能力，健康检查请求不是必须的配置参数。参考链接：<a href="https://help.aliyun.com/document_detail/55477.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/55477.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">538. 阿里云的专有网络VPC可以构建出一个隔离的网络环境，在这个网络中可以完全掌控自己的虚拟网络，也可以通过特定的连接方式将VPC与传统数据中心组成一个按需定制的网络环境。以下<strong>____</strong>可以通过阿里云的专有网络VPC产品实现。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.在单个地域内按业务需要私有网络的网段划分和IP分配，并在该专有网络VPC内创建云产品实例</span></strong></li><li><strong><span style="color:#4CAF50">B.可以通过将资源部署在处于同一个地域中的不同可用区的交换机中，从而实现利用阿里云的可用区进行容灾</span></strong></li><li><span style="color:#333">C.可以通过将资源部署在同一个VPC网络中处于不同地域的交换机中，从而实现利用阿里云多地域进行容灾</span></li><li><strong><span style="color:#4CAF50">D.通过物理专线将自有数据中心和阿里云VPC连接起来，实现用户网络与阿里云专有网络之间的内网互通</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>同一个VPC只能创建同一个地域不同可用区的交换机实现可用区容灾，不支持跨VPC创建交换机。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">539. 关于阿里云的云监控产品的”自定义监控“是提供给用户自由定义监控项及报警规则的一项功能。 以下关于”自定义监控“的描述，正确的是<strong><strong>_</strong></strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户可以对自己关心的业务进行监控，将采集到监控数据上报至云监控，由云监控进行数据的处理，并根据结果进行报警</span></strong></li><li><span style="color:#333">B.只允许用户选择有限的固定模板，监控特定的服务器性能指标</span></li><li><span style="color:#333">C.自定义的监控项的数量是有上限的，且上报监控数据的程序必须部署在阿里云的云服务器</span></li><li><strong><span style="color:#4CAF50">D.自定义的监控项的数量是没有上限的，上报监控数据的程序可以部署在阿里云的云服务器以外的机器</span></strong></li></ul><p><strong>答案：</strong>A, D</p><p><strong>解析：</strong>自定义的监控项的数量是没有数量限制的，且阿里云提供接口可以给开发者上报数据。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">540. 阿里云的云盾的先知计划，是调动众多网络安全专家的力量一起维护互联网平台和业务的安全，降低客户的安全损失。云盾先知计划具有<strong><strong>___</strong></strong>特点。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.私有的安全中心</span></strong></li><li><strong><span style="color:#4CAF50">B.可靠的安全专家，由实名认证过的白帽子和阿里云授权的安全公司组成</span></strong></li><li><strong><span style="color:#4CAF50">C.按效果付费</span></strong></li><li><strong><span style="color:#4CAF50">D.具有完善的漏洞闭环，从漏洞发现到解决建议的完整链接</span></strong></li><li><span style="color:#333">E.发现漏洞时直接修复</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，先知计划发现漏洞并不会直接修复，而是会给企业提供参考的漏洞修复方案，由对应的运维人员来选择处理漏洞的方案。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">541. 一个日访问量超过10万PV的小型门户网站想迁到阿里云上，主要提供文字和图片类信息服务，已经实现了动静分离，目标是满足全中国网民的快速访问，2年内日PV超过100万。 选择阿里云的<strong>____</strong>产品组合起来可以满足这个业务需求。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS</span></strong></li><li><strong><span style="color:#4CAF50">B.对像存储OSS</span></strong></li><li><strong><span style="color:#4CAF50">C.内容分发网络CDN</span></strong></li><li><strong><span style="color:#4CAF50">D.云数据库RDS</span></strong></li><li><span style="color:#333">E.媒体转码（Media Transcoding）</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>题目中需要将访问量超过10万PV的小型门户网站想迁到阿里云上，主要提供文字和图片类信息服务。已经实现了动静分离，目标是满足全中国网民的快速访问。1. 需要ECS来搭建和运行网站服务；2. 需要RDS来存储门户网站的用户数据。3. 需要对象存储OSS来实现图片等信息的存储。4. 需要内容访问CDN来满足全中国网民的快速访问。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">542. 您在创建阿里云的云服务器ECS实例时可选的镜像包括<strong>____</strong>。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.阿里云提供的公共镜像</span></strong></li><li><strong><span style="color:#4CAF50">B.阿里云镜像市场的镜像</span></strong></li><li><strong><span style="color:#4CAF50">C.基于云服务器ECS实例制作的自定义镜像</span></strong></li><li><strong><span style="color:#4CAF50">D.其他阿里云用户共享给您的自定义镜像</span></strong></li><li><strong><span style="color:#4CAF50">E.从其他地域复制过来的自定义镜像</span></strong></li><li><span style="color:#333">F.用户上传的镜像</span></li></ul><p><strong>答案：</strong>A, B, C, D, E</p><p><strong>解析：</strong>题目中问的是创建阿里云的云服务器ECS实例时可选的镜像，虽然用户是可以自己上传本地镜像的，但是上传的本地镜像需要用户把本地镜像制作为自定义镜像，所以在创建云服务器ECS的时候是没有用户上传的镜像的选项的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">543. 阿里云的云服务器ECS实例的可用区是指在同一地域内，电力和网络互相独立的物理区域。关于云服务器ECS可用区的说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.如果您的应用需要较高的容灾能力，建议您将云服务器ECS实例部署在同一地域的同一可用区内</span></li><li><strong><span style="color:#4CAF50">B.同一可用区内的ECS实例之间的网络延时更小</span></strong></li><li><strong><span style="color:#4CAF50">C.在同一地域内不同可用区之间内网互通，可用区之间能做到机房级别的故障隔离</span></strong></li><li><strong><span style="color:#4CAF50">D.是否将云服务器ECS实例放在同一个可用区内，主要取决于对容灾能力和网络延时的要求</span></strong></li><li><span style="color:#333">E.如果您的应用在ECS实例之间需要非常低的网络时延，则建议您将ECS实例创建在不同的可用区内</span></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>看清题意，如果您的应用需要较高的容灾能力，建议您将云服务器ECS实例部署在同一地域的不同可用区内；如果您的应用在ECS实例之间需要非常低的网络时延，则建议您将ECS实例创建在相同的可用区内。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">544. 地域指的是阿里云的云服务器ECS实例所在的物理位置。用户可以根据自己的客户群体分布的不同选择不同地域的云服务器ECS实例提供服务。以下关于ECS实例的地域说法正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.同一地域内的ECS实例内网间是可以互通的</span></strong></li><li><strong><span style="color:#4CAF50">B.不同地域之间的ECS实例内网不互通</span></strong></li><li><strong><span style="color:#4CAF50">C.不同地域之间的不同云产品，内网不互通</span></strong></li><li><span style="color:#333">D.华北1（青岛）的ECS实例可以通过内网访问华东1（杭州）的云数据库RDS实例</span></li><li><span style="color:#333">E.美西（硅谷）的ECS实例可以通过内网访问亚太（新加坡）的OSS Bucket</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>同一个地域之间内网是互通的，不同的地域之前内网默认不互通。所以华北1（青岛）的ECS实例是不可以通过内网访问华东1（杭州）的云数据库RDS实例；美西（硅谷）的ECS实例是不可以通过内网访问亚太（新加坡）的OSS Bucket。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">545. 某视频公司，使用负载均衡SLB将用户的访问请求分发到20台云服务器ECS实例上，由这些配置相同的ECS实例来响应用户的请求。春节将至，根据经验预估，假期期间业务量会增加一倍。可以使用阿里云弹性伸缩（Auto Scaling）来满足资源的弹性变化的需求，由于可以准确的预测业务量变化情况，因此可以选择多种伸缩模式来实现。以下说法正确的是？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.定时任务：在假期开始当天，增加ECS实例个数到40台，假期过后减少至20台</span></strong></li><li><span style="color:#333">B.云监控报警任务：通过监控CPU，负载等，在资源紧张时动态增加ECS实例，在资源空闲时，减少ECS实例</span></li><li><strong><span style="color:#4CAF50">C.固定数量模式：从假期开始当天，设置伸缩组的最小实例数为40台，假期过后将该参数调至20台</span></strong></li><li><strong><span style="color:#4CAF50">D.健康模式：保持伸缩组中当前的所有的ECS实例能正常工作，以满足用户访问请求的响应</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>题目考察的是选择哪几种伸缩模式实现比较合理，并不是说单独需要什么模式来实现。划重点：由于可以准确预测业务量变化情况。所以不需要动态增加机器，所以报警任务不会选。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">546. 某企业想使用云服务器ECS+负载均衡SLB+弹性伸缩（Auto Scaling）的架构搭建一个企业级的门户网站，技术负责人对于负载均衡和弹性伸缩配合使用没有经验，于是将他理解的两种产品配合使用的一些技术细节列成了一个表单，并请作为架构师的您帮他做一下鉴别，其中<strong>____</strong>这些项是正确的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.创建伸缩组时指定的SLB实例必须是已启用状态</span></strong></li><li><strong><span style="color:#4CAF50">B.创建伸缩组时指定的SLB实例的所有配置的监听端口必须开启健康检查</span></strong></li><li><span style="color:#333">C.如果SLB实例已挂载了VPC（指阿里云专有网络，AliCloud VPC）类型的ECS实例，则不支持在该SLB下增加经典网络类型的ECS实例</span></li><li><strong><span style="color:#4CAF50">D.伸缩组会自动将加入伸缩组的ECS实例添加到指定的SLB实例当中</span></strong></li><li><span style="color:#333">E.创建伸缩组时指定的SLB实例必须和该伸缩组在同一个可用区（Zone)</span></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>阿里云负载均衡SLB目前确实是支持经典网络的ECS和VPC的ECS混合挂载的。在负载均衡SLB和弹性伸缩一起使用的时候，负载均衡实例和伸缩组必须位于同一地域。而不需要在同一个可用区。参考链接：<a href="https://help.aliyun.com/document_detail/101364.html?spm=a2c4g.11186623.6.611.6e61398fjR4jfs" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/101364.html?spm=a2c4g.11186623.6.611.6e61398fjR4jfs</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">547. 伸缩活动的生命周期为：判断伸缩组的健康状态和边界条件 步骤与 启动 cooldown 步骤之间的所有活动，下面哪些活动是伸缩组自动扩展必要的？（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.ECS 实例的状态、类型</span></li><li><strong><span style="color:#4CAF50">B.ECS 实例分配 IP</span></strong></li><li><strong><span style="color:#4CAF50">C.启动 ECS 实例</span></strong></li><li><span style="color:#333">D.添加 RDS 白名单</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>添加RDS白名单，虽然也是在自动伸缩的步骤中，但是伸缩组中不涉及RDS使用的实例不需要添加RDS白名单。请参考：<a href="https://www.cloud.alipay.com/docs/2/25914，关注自动拓展的部分。" target="_blank" rel="noopener">https://www.cloud.alipay.com/docs/2/25914，关注自动拓展的部分。</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">548. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。OSS服务的使用费由“存储费用”、“流量费用”、“API请求费用”三部分组成。在实际业务场景中，用户可以根据实际情况优化使用方式来降低OSS的使用成本。 以下是某管理员提出的几项优化建议，您认为<strong><strong>_</strong></strong>可以直接降低OSS使用成本。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.如果OSS服务产生的费用中外网流量费用占比较大，可以结合阿里云CDN服务来降低OSS的流量费用</span></strong></li><li><strong><span style="color:#4CAF50">B.如果云服务器ECS和OSS在同一地域，可以使用OSS内网地址通信，降低流量费用</span></strong></li><li><strong><span style="color:#4CAF50">C.如果业务的访问量比较平稳，存储空间和外网流量可预测，可以购买包年包月的资源包来降低存储和流量两项费用</span></strong></li><li><strong><span style="color:#4CAF50">D.定期删除已经过期不用的文件，降低占用的OSS存储空间，节约存储费用</span></strong></li><li><span style="color:#333">E.对OSS的大批量操作尽量安排在晚上，夜间的API请求费用更低</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，OSS是收费是统一的，不会因为时间的差异而导致相应的费用差异。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">549. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本，高可靠的云存储服务。与自建存储对比，OSS在可靠性、安全、成本和数据处理能力方面具备明显的优势。 <strong><strong>_</strong></strong>属于OSS可靠性方面的优势。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.服务可用性不低于99.9%，不受限于硬件可靠性</span></strong></li><li><strong><span style="color:#4CAF50">B.存储规模可自动扩展，OSS对外服务不中断</span></strong></li><li><strong><span style="color:#4CAF50">C.数据自动多重冗余备份</span></strong></li><li><span style="color:#333">D.底层数据异地存储（自动在多个地域分散保存）</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>参考链接：<a href="https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.6bd165d3B6aBDC" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.543.6bd165d3B6aBDC</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">550. 阿里云的负载均衡SLB提供对多台云服务器ECS实例进行流量分发的服务，对于公网的负载均衡SLB实例，支持<strong>____</strong>两种付费模式。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.按使用流量计费</span></strong></li><li><strong><span style="color:#4CAF50">B.按固定带宽计费</span></strong></li><li><span style="color:#333">C.按后端服务器台数计费</span></li><li><span style="color:#333">D.按照后端服务器的计算能力计费</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>SLB支持按使用流量或者按照固定宽带付费。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">551. 阿里云的云盾的先知计划，是调动众多网络安全专家的力量一起维护互联网平台和业务的安全，降低客户的安全损失。适合使用先知计划的用户包括<strong><strong><strong>_</strong></strong></strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.网站曾经被入侵，导致数据被泄露或者业务被篡改，造成公关风险，影响了公司形象和业务，正在寻求互联网安全解决方案</span></strong></li><li><strong><span style="color:#4CAF50">B.网站漏洞多次被曝光，被竞争对手恶意炒作，正在寻求互联网安全解决方案</span></strong></li><li><strong><span style="color:#4CAF50">C.买了很多安全产品和设备，但还是出现被攻击和入侵的情况，正在寻求互联网安全解决方案</span></strong></li><li><span style="color:#333">D.用户的业务全部部署在自己的局域网，在公共互联网上无法访问，正在寻求内网安全的解决方案</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，用户的业务全部部署在自己的局域网，则在公网无法访问，所以无法适用于先知的使用场景。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">552. 阿里云内容分发网络CDN和传统厂商的CDN相比具有稳定快速、节约成本和简单易用三个特点。关于阿里云CDN易用性优势的描述，正确的是<strong><strong>_</strong></strong>（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.WEB管理控制台了提供丰富简洁的配置界面，支持自定义防盗链、缓存策略、HTTP响应头等功能</span></strong></li><li><strong><span style="color:#4CAF50">B.可通过OpenAPI和SDK对CDN进行开通和关闭</span></strong></li><li><strong><span style="color:#4CAF50">C.如果CDN服务和加速域名同在一个阿里云帐号下管理，可以实现自动修改解析</span></strong></li><li><span style="color:#333">D.用户只能通过OpenAPI下载CDN访问日志</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>CDN控制台也是可以下载CDN访问日志的，OpenAPI并不是唯一途径。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">553. 云服务器ECS系统资源监控DashBoard页面内容有哪些？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.CPU使用率</span></strong></li><li><strong><span style="color:#4CAF50">B.磁盘IO</span></strong></li><li><strong><span style="color:#4CAF50">C.网络带宽</span></strong></li><li><span style="color:#333">D.TPS</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>DashBoard不支持对TPS的监控</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">554. 伸缩活动的生命周期为：判断伸缩组的健康状态和边界条件 步骤与 启动 cooldown 步骤之间的所有活动。手工加入既有的ECS实例，还包括A:判断ECS实例的状态、类型；B:分配ActivityId和执行伸缩活动；C:修改Total Capacity；D:加入ECS实例等活动，这些活动正确的顺序是<strong><strong>_</strong></strong>。</font></p><ul><li><strong><span style="color:#4CAF50">A.ABDC</span></strong></li><li><span style="color:#333">B.BADC</span></li><li><span style="color:#333">C.ADBC</span></li><li><span style="color:#333">D.BCAD</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>手工加入的步骤：1. 判断伸缩组的健康状态、边界条件和 ECS 实例的状态、类型。2. 分配 ActivityId 和执行伸缩活动。3. 加入 ECS 实例。4. 修改 Total Capacity。5. 添加 RDS 白名单。6. 挂载负载均衡，将权重设为当前伸缩组中已激活的伸缩配置上指定的“负载均衡权重”。此处使用了伸缩配置上指定的“负载均衡权重”。7. 伸缩活动完成，启动 cooldown。参考链接：<a href="https://bbs.aliyun.com/simple/t586976.html" target="_blank" rel="noopener">https://bbs.aliyun.com/simple/t586976.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">555. 您在原有的数据中心已经部署了部分应用，现在需要构建新的应用，但本地的数据中心内的物理资源不够用，也没有办法进行扩容，使用以下哪些方案可以用于解决该问题？（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.在阿里云上申请专有网络VPC服务，并基于VPC申请新的云服务资源，与您原有的数据中心使用相同的内网地址网段</span></strong></li><li><strong><span style="color:#4CAF50">B.通过专线打通原有数据中心与阿里云上的VPC，实现已有数据中心向云上的平滑迁移</span></strong></li><li><strong><span style="color:#4CAF50">C.通过VPN打通原有数据中心与阿里云上的VPC，实现已有数据中心向云上的平滑迁移</span></strong></li><li><span style="color:#333">D.直接申请阿里云的云服务器无需任何操作就可以与原有的数据中心内网打通，实现已有数据中心向云上的平滑迁移</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>无需任何操作是不会打通的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">556. 创建阿里云的云服务器ECS实例时需要选择地域，地域有时候也被称为“节点”，是指实例所在的地理位置。关于ECS实例地域的说法正确的包括<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.地域与用户距离越近，延迟越少，下载速度越快。例如，您的用户都分布在华北地区，则可以选择在华北2（北京）地域创建ECS实例实现更快的访问</span></strong></li><li><span style="color:#333">B.云服务器ECS实例创建完成后可以更换地域</span></li><li><strong><span style="color:#4CAF50">C.不同地域提供的可用区数量、实例系列、存储类型、实例价格等会有所差异，可以根据业务需求进行选择</span></strong></li><li><strong><span style="color:#4CAF50">D.不同地域间的内网不能互通</span></strong></li></ul><p><strong>答案：</strong>A, C, D</p><p><strong>解析：</strong>云服务器ECS不支持更换地域，也不支持更换可用区。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">557. 下列ECS实例的生命周期的状态哪些属于中间状态？（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.重置中</span></strong></li><li><span style="color:#333">B.运行中</span></li><li><strong><span style="color:#4CAF50">C.停止中</span></strong></li><li><span style="color:#333">D.已过期</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>云服务器ECS的运行中和已过期属于稳定状态。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">558. 在使用阿里云弹性伸缩(Auto Scaling)创建伸缩组之后，除地域属性之外,还有以下哪些属性不可以修改?（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.伸缩组名称</span></li><li><strong><span style="color:#4CAF50">B.负载均衡实例</span></strong></li><li><strong><span style="color:#4CAF50">C.RDS 数据库实例</span></strong></li><li><span style="color:#333">D.移出策略</span></li></ul><p><strong>答案：</strong>B, C</p><p><strong>解析：</strong>伸缩组名称是可以修改成其他名称，移出策略是可以修改为其他策略。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">559. 某公司运维人员开通阿里云负载均衡SLB实例时选择了华东1多可用区类型,为实现同地域容灾方案,其中主可用区选择了可用区 A,备可用区设置了可用区 B,后端服务器设置了4台ECS实例,其中2台在华东1的可用区A,另外2台在华东1的可用区B,下面说法正确的有<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.当可用区A发生故障时，用户访问流量将转发至备可用区B内的ECS实例</span></strong></li><li><span style="color:#333">B.当可用区A发生故障时，用户可以手动快速将负载均衡切换到另外一个备可用区以恢复服务能力</span></li><li><strong><span style="color:#4CAF50">C.当主可用区A恢复时，负载均衡会自动切换到主可用区提供服务</span></strong></li><li><span style="color:#333">D.当主可用区A恢复时，用户可以手动快速将负载均衡会切换到主可用区提供服务</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>当主机工作正常时，流量将直接转发至主机；当主机宕机时，流量将切换至备机。参考链接：<a href="https://help.aliyun.com/document_detail/85965.html?spm=5176.11065259.1996646101.searchclickresult.735c5dd8Ck1Y2A" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85965.html?spm=5176.11065259.1996646101.searchclickresult.735c5dd8Ck1Y2A</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">560. 云监控是阿里巴巴集团多年来服务器监控技术研究积累的成果，结合阿里云的云计算平台强大的数据分析能力客户提供各种应用和服务器的第三方监控服务。当用户收到云服务器ECS实例的IOPS使用率超过80%的报警通知且不知道该如何处理时，可以通过<strong>____</strong>向阿里云获得帮助。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.查看云服务器ECS或云监控产品文档</span></strong></li><li><strong><span style="color:#4CAF50">B.提工单给售后工程师</span></strong></li><li><strong><span style="color:#4CAF50">C.在阿里云论坛或云栖社区寻找答案</span></strong></li><li><span style="color:#333">D.无法从阿里云获得帮助</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，无法从阿里云获得帮助肯定是不正确的。用户在云监控收到相应的报警信息后，如果不知道解决方法可以在阿里云多种渠道寻求帮助。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">561. 所有接入CDN的域名都要经过审核，发现以下任意一种情况，CDN目前不支持接入的加速域名类型包括？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.无法正常访问或内容不含有任何实质信息；</span></strong></li><li><strong><span style="color:#4CAF50">B.游戏私服类、传奇类游戏、纸牌类游戏；</span></strong></li><li><strong><span style="color:#4CAF50">C.P2P类网站、彩票类网站；</span></strong></li><li><strong><span style="color:#4CAF50">D.违规医院和药品类网站、涉黄、涉毒、涉赌等；</span></strong></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>所有接入CDN的域名都要经过域名内容审核。CDN目前不支持接入的域名包括但不限于：无法正常访问或内容不含有任何实质信息，游戏私服类，传奇类游戏、纸牌类游戏，盗版软件等无版，下载网站，P2P类金融网站，彩票类网站，违规医院和药品类网站，涉黄、涉毒、涉赌等。参考链接：<a href="https://help.aliyun.com/document_detail/27114.html?spm=5176.11065259.1996646101.searchclickresult.5bb11bebBxyLLV" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27114.html?spm=5176.11065259.1996646101.searchclickresult.5bb11bebBxyLLV</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">562. 在众多的网络攻击类型中，“SQL注入”是应用层面临的主要攻击之一。如果用户搭建在云上的网站发现SQL注入漏洞，可能造成的危害包括<strong>____</strong>。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.网页被篡改</span></strong></li><li><strong><span style="color:#4CAF50">B.数据被篡改</span></strong></li><li><strong><span style="color:#4CAF50">C.核心数据被窃取</span></strong></li><li><strong><span style="color:#4CAF50">D.数据库所在服务器被攻击变成傀儡主机</span></strong></li><li><span style="color:#333">E.运行云上虛拟机的物理服务器损坏</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>“SQL注入”破坏的是用户数据库的数据，数据库数据被破坏可能会导致题目中说的网页中关联的数据库数据被篡改，网页数据被篡改，用户根据脚本窃取核心数据，数据库所在服务器被攻击变成傀儡主机。但是“SQL注入”并不会导致云上虛拟机的物理服务器损坏。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">563. 云监控是阿里巴巴集团多年来服务器监控技术研究积累的成果，结合阿里云的云计算平台强大的数据分析能力客户提供各种应用和服务器的第三方监控服务，当出现异常时可以通过以下哪些方式进行报警通知？（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.手机短信</span></strong></li><li><strong><span style="color:#4CAF50">B.钉钉机器人</span></strong></li><li><strong><span style="color:#4CAF50">C.电子邮件</span></strong></li><li><strong><span style="color:#4CAF50">D.电话</span></strong></li><li><span style="color:#333">E.微信</span></li><li><span style="color:#333">F.QQ</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>目前云监控报警支持的通知方式为：电话+短信+邮件+钉钉机器人。参考连接：<a href="https://help.aliyun.com/document_detail/35179.html?spm=5176.11065259.1996646101.searchclickresult.2cf218739hdE23" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/35179.html?spm=5176.11065259.1996646101.searchclickresult.2cf218739hdE23</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">564. 网络基础设施已经成为云计算服务商的核心竞争力，拥有BGP线路的机房比普通的单线机房提供更快的网络传输能力，以下<strong>____</strong>属于BGP机房的优点。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.服务器只需要设置一个IP地址，服务器的上行路由与下行路由都能选择最优的路径，所以能真正实现高速的单IP高速访问</span></strong></li><li><strong><span style="color:#4CAF50">B.由于BGP协议本身具有冗余备份、消除环路的特点，所以当IDC服务商有多条BGP互联线路时可以实现路由的相互备份，在一条线路出现故障时路由会自动切换到其它线路</span></strong></li><li><span style="color:#333">C.BGP机房的服务器都具备双机或多机冗错功能，一台服务器宕机后不影响整体的对外服务，具备更高的可用性</span></li><li><strong><span style="color:#4CAF50">D.使用BGP协议可以使网络具有很强的扩展性，将IDC网络与其他运营商互联，实现单IP多线路</span></strong></li></ul><p><strong>答案：</strong>A, B, D</p><p><strong>解析：</strong>BGP机房的服务器并不是都具备双机或多机冗错功能。参考BGP机房的优点：（1）服务器只需要设置一个IP地址，最佳访问路由是由网络上的骨干路由器根据路由跳数与其它技术指标来确定的，不会占用服务器的任何系统资源。服务器的上行路由与下行路由都能选择最优的路径，所以能真正实现高速的单IP高速访问。（2）由于BGP协议本身具有冗余备份、消除环路的特点，所以当IDC服务商有多条BGP互联线路时可以实现路由的相互备份，在一条线路出现故障时路由会自动切换到其它线路。（3）使用BGP协议还可以使网络具有很强的扩展性可以将IDC网络与其他运营商互联，轻松实现单IP多线路，做到所有互联运营商的用户访问都很快。这个是双IP双线无法比拟的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">565. 阿里云的云服务器ECS实例通常是黑客攻击的重要目标。针对云服务器ECS实例的攻击有多种类型，<strong>____</strong>攻击是专门针对云服务器ECS实例的操作系统的。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.安装木马后门</span></strong></li><li><strong><span style="color:#4CAF50">B.SSH密码暴力破解</span></strong></li><li><strong><span style="color:#4CAF50">C.RDP密码暴力破解</span></strong></li><li><span style="color:#333">D.SQL注入</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>排除法，SQL注入是针对RDS数据库进行的攻击。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">566. 阿里云对象存储OSS提供了静态网站托管的功能，A公司的架构师小明一年前基于此功能为公司建设了一个企业门户网站。 出于业务发展的需要，现在网站需要支持动态功能，包括产品信息的动态增加和展示，数据总量预估在2G左右。 公司目前没有数据库开发和管理的人员，小明至少需要选择阿里云的<strong><strong>__</strong></strong>产品配合OSS一起实现这个方案。（正确答案的数量：2个）</font></p><ul><li><strong><span style="color:#4CAF50">A.云服务器ECS</span></strong></li><li><span style="color:#333">B.分布式关系型数据库服务（Distributed Relational Database Service，简称DRDS）</span></li><li><strong><span style="color:#4CAF50">C.云数据库RDS</span></strong></li><li><span style="color:#333">D.云盾DDoS高防IP</span></li></ul><p><strong>答案：</strong>A, C</p><p><strong>解析：</strong>划重点：公司需要实现网站的动态功能，包括产品信息的动态增加和展示。所以需要云服务器ECS来实现网站的动态部署，需要云数据库RDS来保存产品的信息。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">567. 如果用户需要实现OSS Object上传，下面哪些情况下使用OSS简单上传？（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.需要支持断点上传</span></li><li><strong><span style="color:#4CAF50">B.上传文件最大不超过5GB</span></strong></li><li><strong><span style="color:#4CAF50">C.在上传单个文件过程中可以携带meta信息</span></strong></li><li><strong><span style="color:#4CAF50">D.基于PUT方式或POST方式的http请求上传</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>简单上传不需要支持断点上传。简单上传指的是使用OSS API中的PutObject方法上传单个文件（Object）。简单上传适用于一次HTTP请求交互即可完成上传的场景，比如小文件（小于5GB）的上传。参考链接：<a href="https://help.aliyun.com/document_detail/31848.html?spm=5176.10695662.1996646101.searchclickresult.57211517eait5L" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31848.html?spm=5176.10695662.1996646101.searchclickresult.57211517eait5L</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">568. 阿里云内容分发网络CDN建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络替代传统WEB Server为中心的数据传输模式。在CDN工作过程中，用户的访问请求首先会到达边缘节点，然后通过回源的方式从源站点抓取数据。以下关于阿里云CDN用户在源站服务器上获取“访客真实IP”的说法，正确的是<strong>____</strong>。（正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.只能通过修改用户应用程序的方法获取</span></li><li><strong><span style="color:#4CAF50">B.“访客真实IP”保存在HTTP协议的“X—ForwardedFor”Header中，可以在Apache和Nginx的自定义LOG中直接获取到</span></strong></li><li><span style="color:#333">C.Windows平台下，如果使用IIS，需要安装一个“F5XForwardedFor”的扩展模块，才能在日志里看到“访客真实IP”</span></li><li><strong><span style="color:#4CAF50">D.在阿里云CDN的管理控制台中有一键开通“记录访客真实IP”的功能，用户设置了这个关开后，可以在访问日志中直接看到访客真实IP</span></strong></li></ul><p><strong>答案：</strong>B, D</p><p><strong>解析：</strong>题库考察的是在源站服务器上获取“访客真实IP”的做法正确描述。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">569. 在整个互联网的安全链条中，有些环节是和最终用户（网民）直接相关的，而且很难从服务器端完全避免。以下不安全行为中<strong>____</strong>是和最终用户（网民）相关的。（正确答案的数量：3个）</font></p><ul><li><span style="color:#333">A.通过Email发送钓鱼网站链接</span></li><li><strong><span style="color:#4CAF50">B.免费软件中携带盗号木马</span></strong></li><li><strong><span style="color:#4CAF50">C.通过Email图文发送系统登录账号和密码</span></strong></li><li><strong><span style="color:#4CAF50">D.发现应用系统的安全漏洞，很长时间不修复</span></strong></li></ul><p><strong>答案：</strong>B, C, D</p><p><strong>解析：</strong>题目问的是和最终用户相关不安全行为，排除法，通过Email发送钓鱼网站链接是黑客的行为，是和最终用户没有关联的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">570. 阿里云的云盾”DDoS基础防护”功能在管理控制台可以配置针对云服务器的流量清洗的阀值，达到任意一个值即开始流量清洗。清洗阀值包括<strong>____</strong>。 （正确答案的数量：2个）</font></p><ul><li><span style="color:#333">A.云服务器ECS实例公网IP每天接收的字节数(b)</span></li><li><span style="color:#333">B.云服务器ECS实例公网IP每天发送的字节数(b)</span></li><li><strong><span style="color:#4CAF50">C.云服务器ECS实例公网IP每秒处理的报文数量(PPS)</span></strong></li><li><strong><span style="color:#4CAF50">D.云服务器ECS实例公网IP每秒处理的流量值（bps）</span></strong></li></ul><p><strong>答案：</strong>C, D</p><p><strong>解析：</strong>触发清洗阈值：指的是触发流量清洗所需要的最低值，包括每秒流量，每秒报文数量，每秒HTTP请求数三个触发清洗的阈值，用户云服务器的流量超过三个中的任意一个，都会触发清洗。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40048.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40048.html</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">571. 在阿里云安全体系中，账户安全是非常重要的组成部分，在登录阿里云官网时，免费提供给用户<strong>____</strong>安全验证手段。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户名密码校验</span></strong></li><li><strong><span style="color:#4CAF50">B.登录验证码或安全滑块</span></strong></li><li><strong><span style="color:#4CAF50">C.多因子（虚拟MFA）认证</span></strong></li><li><span style="color:#333">D.为每个用户提供一个USB KEY</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>题目问的是阿里云官网给用户免费提供的安全验证手段，使用排除法，阿里云不会为每个用户提供一个USB KEY</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">572. 阿里云的云监控产品的”自定义监控“是提供给用户自由定义监控项及报警规则的一项功能。 以下关于”自定义监控“的描述，正确的是<strong>____</strong>。（正确答案的数量：2 个）</font></p><ul><li><strong><span style="color:#4CAF50">A.用户可以对自己关心的业务进行监控，将采集到监控数据上报至云监控，由云监控进行数据的处理，并根据结果进行报警</span></strong></li><li><strong><span style="color:#4CAF50">B.只允许用户选择有限的固定模板，监控特定的服务器性能指标</span></strong></li><li><span style="color:#333">C.自定义的监控项的数量是有上限的，且上报监控数据的程序必须部署在阿里云的云服务器</span></li><li><span style="color:#333">D.自定义的监控产生的数据可以永久免费保留在阿里云上</span></li></ul><p><strong>答案：</strong>A, B</p><p><strong>解析：</strong>云监控需要制定固定的云监控模版来进行数据上报。自定义的监控项的数量是没有上限的。同时自定义监控的数据的数据保存在阿里云上面是需要额外付费的，具体可以参考计费方式说明：<a href="https://help.aliyun.com/document_detail/66046.html?spm=a2c4g.11186623.6.548.454d31c6RZA0H4" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/66046.html?spm=a2c4g.11186623.6.548.454d31c6RZA0H4</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">573. 互联网的一次标准的网络层会话可以用五个元素来唯一标识,通常被称为“网络通信五元组”,在此基础之上可以对某些传输过程进行安全控制或防护。网络五元组由<strong>____</strong>部分组成。（正确答案的数量：5个）</font></p><ul><li><strong><span style="color:#4CAF50">A.源IP</span></strong></li><li><strong><span style="color:#4CAF50">B.传输层协议</span></strong></li><li><strong><span style="color:#4CAF50">C.目标IP</span></strong></li><li><strong><span style="color:#4CAF50">D.源端口</span></strong></li><li><span style="color:#333">E.应用层协议</span></li><li><strong><span style="color:#4CAF50">F.目标端口</span></strong></li></ul><p><strong>答案：</strong>A, B, C, D, F</p><p><strong>解析：</strong>五元组是通信术语。通常是指源IP地址，源端口，目的IP地址，目的端口和传输层协议。参考链接：<a href="https://baike.baidu.com/item/%E4%BA%94%E5%85%83%E7%BB%84/6489646?fr=aladdin" target="_blank" rel="noopener">https://baike.baidu.com/item/%E4%BA%94%E5%85%83%E7%BB%84/6489646?fr=aladdin</a></p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">574. 加入阿里云的云盾先知计划的企业，如果收到网络专家提供的漏洞信息，那么管理员能在先知计划控制台得到<strong>____</strong>信息。（正确答案的数量：4个）</font></p><ul><li><strong><span style="color:#4CAF50">A.漏洞等级</span></strong></li><li><strong><span style="color:#4CAF50">B.漏洞状态</span></strong></li><li><strong><span style="color:#4CAF50">C.漏洞标题及详情</span></strong></li><li><strong><span style="color:#4CAF50">D.漏洞提交人</span></strong></li><li><span style="color:#333">E.出现漏洞的功能是哪个工程师开发的</span></li><li><span style="color:#333">F.漏洞修复方法</span></li></ul><p><strong>答案：</strong>A, B, C, D</p><p><strong>解析：</strong>排除法，先知计划是无法检测到漏洞的具体开发人员的。漏洞的修复方法也是无法直接在控制台得到的。</p><hr><p><span style="background:#9C27B0;color:#fff;padding:2px 6px">多选题</span> <font style="font-size:1.2em">575. .阿里云的云盾“DDoS基础防护”为阿里云用户提供最高5G的默认DDoS防护能力。用户如果加入安全信誉防护联盟计划，云盾将基于安全信誉分进一步提升DDoS防护能力，用户最高可获得100G的免费DDoS防护资源。以下有关云盾“DDoS基础防护”的特点描述正确的是<strong>____</strong>。（正确答案的数量：3个）</font></p><ul><li><strong><span style="color:#4CAF50">A.BGP线路防护：受到DDoS攻击不会影响访问速度，带宽充足不会被其他用户连带影响，优质带宽保证业务可用和稳定</span></strong></li><li><strong><span style="color:#4CAF50">B.精准防护：精准识别攻击，秒级开启防护，自研清洗设备和算法保证极低误杀</span></strong></li><li><strong><span style="color:#4CAF50">C.免安装免维护：无需采购昂贵清洗设备，自动为云上客户开通免安装，智能业务学习和配置防护规则</span></strong></li><li><span style="color:#333">D.分布式：通过散列分布式的虚拟节点将业务分散部署，有效避免网络攻击的发生</span></li></ul><p><strong>答案：</strong>A, B, C</p><p><strong>解析：</strong>具体的可以参考DDoS基础防护服务的产品简介：<a href="https://help.aliyun.com/document_detail/28402.html?spm=a2c4g.11186623.6.555.3d275b23UGGOTX" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28402.html?spm=a2c4g.11186623.6.555.3d275b23UGGOTX</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">576. 在使用阿里云的公网IP的负载均衡SLB实例的四层（TCP协议）转发时，后端云服务器池中的ECS实例不能直接向该ECS实例所在的负载均衡SLB实例的公网IP发送请求。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>这和负载均衡TCP的实现机制有关。在四层TCP协议服务中，当前不支持后端云服务器的ECS既作为RealServer，又作为客户端向所在的负载均衡实例发送请求。因为，返回的数据包只在云服务器内部转发，不经过负载均衡，所以在负载均衡实例的后端ECS上去访问的负载均衡的服务地址是不通的。参考链接：<a href="https://bbs.aliyun.com/read/539321.html?page=e" target="_blank" rel="noopener">https://bbs.aliyun.com/read/539321.html?page=e</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">577. 在同一个阿里云的专有网络VPC内，不同的虚拟交换机中的云服务器ECS实例是默认内网是不互通的，需要通过添加路由的方式实现互相访问。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>同一个VPC内的交换机间默认内网是互通的。所以题目的描述的错误的。参考链接：<a href="https://help.aliyun.com/document_detail/65387.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/65387.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">578. 阿里云专有网络VPC使用了隧道技术，每个VPC都有一个独立的隧道号，一个隧道号对应着一张虚拟化网络，达到与传统VLAN方式类似的隔离效果。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>VPC的基础解释。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">579. 阿里云内容分发网络CDN优化功能可以提高CDN缓存的命中率，降低带宽成本，但是会增加源站的安全风险，用户应该在应用层安全防护上多加关注。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>CDN客户端应用直接访问CDN服务，避免了客户端直接访问ECS，部分程度上增加了源站和ECS的安全性。而不是题目中说的增加了安全风险.</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">580. 如果您在已经创建好的阿里云的云服务器ECS实例中进行了更改网卡mac地址的操作，可能会导致网络不通的问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>更改云服务器ECS的Mac地址，可能会影响到服务器的网络通信服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">581. 阿里云对象存储OSS上的文件可以直接通过阿里云内容分发网络CDN进行加速，加速成功后可以提升文件的访问速度，同时可以节约OSS的流量成本。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>正确描述。CDN会将您OSS存储的热点数据分发到全国各地的节点。用户访问时只需访问最近的CDN节点读取文件，而无需访问OSS的源文件，也不会消耗OSS的外网流量。这样不仅可以提升您边缘用户的访问速度和体验，同时CDN的外网流量费用相对OSS外网流量较低，仅为OSS外网流量的50%。可有效的节省您整体应用的网络费用。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39681.html?spm=5176.2000002.0.0.37f03fb7vnGdS9" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39681.html?spm=5176.2000002.0.0.37f03fb7vnGdS9</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">582. 阿里云对象存储OSS可以用于进行海量文件的存储，但是单个bucket下保存的文件数量是有限的，最大只能是65535个。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>Bucket的大小是没有上线的，所以保存的文件也是没有上限的，PS：每个Object/元素/文件大小最大限制是48.8T。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">583. 某期货交易网站，使用阿里云负载均衡SLB服务。由于期货交易对于负载有高敏感性，高频的健康检查有可能会对用户的正常访问带来影响。该网站可以通过以下方式减少健康检查对正常业务的影响：降低健康检查的频率，增大健康检查间隔。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>如果您的业务对负载敏感性高，高频率的健康检查探测可能会对正常业务访问造成影响。您可以结合业务情况，通过降低健康检查频率、增大健康检查间隔、七层检查修改为四层检查等方式，来降低对业务的影响。但为了保障业务的持续可用，不建议关闭健康检查。<a href="https://help.aliyun.com/knowledge_detail/39455.html?spm=5176.11065259.1996646101.searchclickresult.52bb2724RQE4UG" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39455.html?spm=5176.11065259.1996646101.searchclickresult.52bb2724RQE4UG</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">584. 阿里云的云盾数据风控服务可以输出风险评估报告，实时呈现今日、昨日及特定时间段的风险情况，便捷跟踪、掌握风险防控情况。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云的云盾数据风控服务支持多个维度输出风险评估报告。参考链接：<a href="https://help.aliyun.com/document_detail/84371.html?spm=a2c4g.11186623.6.592.580a1d8cNjhLHA" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/84371.html?spm=a2c4g.11186623.6.592.580a1d8cNjhLHA</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">585. 阿里云的云盾的内容安全（原名：绿网）产品提供网站内容和图片的合规自动检查功能，支持基于HTTP协议的静态和动态网站。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>绿网（现：内容安全）的站点检测支持对网站的内容和图片进行检查，同时支持静态和动态的站点。参考链接：<a href="https://help.aliyun.com/document_detail/28424.html?spm=a2c4g.11174359.6.563.75397831RY24pd" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28424.html?spm=a2c4g.11174359.6.563.75397831RY24pd</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">586. 阿里云的云上安全运维最佳实践中，推荐客户使用云服务器ECS实例的安全组将ECS实例分组管理，结合堡垒机和VPN提供安全的远程运维。在阿里云的云市场中有多种堡垒机和VPN的成熟方案可以选择。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中描述是正确的，也是上云最佳实践中的原话表达。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">587. 云计算服务可以提供可靠性非常高的数据存储能力，比如阿里云的对象存储（Object Storage Service，简称OSS）的数据可靠性就不低于99.99999999%。云计算的数据可靠性完全是由于磁盘采用了RAID 0+1 的冗余技术实现的。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>完全由于的说法不对，数据自动多重冗余备份只是可靠性的一部分，还依赖于规模自动扩展，规模自动扩展等。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">588. 在OSS服务创建了存储空间之后，用户可以上传任意类型文件到存储空间中，OSS服务所有元素都是用文件形式来存储。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>Bucket中所有元素都是以对象（也可以叫文件、Object）来存储的。参考链接：<a href="https://help.aliyun.com/document_detail/31817.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31817.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">589. 加入到阿里云的云盾先知计划的安全专家100%通过了支付宝实名认证。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>安全专家都是100%支付宝实名认证的安全专家，参考先知（安全众测）的文档参考链接：<a href="https://help.aliyun.com/document_detail/28381.html?spm=a2c4g.11186623.6.544.54fa79f7xkMD1z" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28381.html?spm=a2c4g.11186623.6.544.54fa79f7xkMD1z</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">590. 云盾的安全管家包含端口检测、异地登录提醒、密码暴力破解、WebShell检测服务。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>端口检测、异地登录提醒、密码暴力破解、WebShell检测服务，这些是安骑士提供的服务，而非安全管家提供的服务，参考链接：<a href="https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.723a3c318RmzWJ" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.723a3c318RmzWJ</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">591. 阿里云的负载均衡SLB实例会检查后端云服务器ECS实例的健康状态，对于异常状态的云服务器ECS实例，将会移出后端云服务器池，并新建一个云服务器ECS实例添加到后端服务器池中来，从而解决了单台云服务器ECS实例的单点问题，同时提高了应用的整体服务能力。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>题目中的情况负载均衡SLB不会新建一个云服务器ECS实例添加到后端服务器池中来。对于异常状态的云服务器ECS实例，负载均衡SLB会将异常的ECS隔离，待ECS正常了以后还会将其从隔离区移出并继续给其分发请求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">592. 您在阿里云的linux操作系统的云服务器ECS实例中开启了NetWorkManger服务之后，对该云服务器ECS实例的所有网络连接服务都没有任何影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>NetworkManager服务来实现网络的配置和管理，NetworkManager服务启动以后可能会导致系统内部的网络配置出现紊乱。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">593. 在创建阿里云的专有网络VPC时，用户需要以CIDRBlock的形式指定专有网络VPC内使用的私网网段。专有网络VPC创建成功之后，CIDRBlock可以进行修改。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>交换机创建完成之后，无法修改CIDRBlock，且新建交换机所使用的CIDRBlock不可以与已经存在的交换机的CIDRBlock重复。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">594. 客户小王准备建立一个静态的网站，想基于阿里云提供的多线BGP能力为客户提供网站的快速访问，小王可以仅通过阿里云对象存储OSS这个产品就能实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为是静态的网站，可以直接托管在对象存储OSS上面就可以直接提供服务，假如是动态网站，就需要通过ECS来部署项目来提供服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">595. 阿里云对象存储OSS的Bucket不支持重命名。如果有变更Bucket名称的需求，可以先创建一个新的Bucket，然后用COPY Object的方式将原Bucket下的文件复制到新Bucket。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS的bucket暂不支持重命名，若需要其他名称建议您重新创建bucket。OSS 提供了COPY objcet的功能，您可以将原bucekt下的文件COPY到新bucket即可。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39588.html?spm=5176.10695662.1996646101.searchclickresult.7d922be4rhXvW9" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39588.html?spm=5176.10695662.1996646101.searchclickresult.7d922be4rhXvW9</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">596. 阿里云对象存储OSS与云服务器ECS实例结合，可以实现一个完整的动静分离的网站，静态页面放在OSS上提供快速访问能有效降低ECS实例的负载。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>从项目架构的合理性出发，以及为了CDN能更合理区分动态和静态文件，所以网站是需要做做动静分离。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">597. 由于阿里云提供了对象存储OSS的海量存储服务，因此在任何场景下都可以使用OSS作为数据的存储服务，包括结构化的数据和非结构化的数据的存储。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>对象存储OSS推荐存储非结构化数据，而不推荐存储结构化数据。结构化的数据存储建议使用云数据库RDS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">598. 由于阿里云提供了云数据库RDS的服务，因此在阿里云的云服务器ECS实例上不支持用户自行进行数据库的部署。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>用户是可自行在ECS实例上部署数据库的服务的，阿里云不做限制。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">599. 如果您在已经创建好的云服务器ECS实例进行了更改网卡mac地址的操作，可能会导致网络不通的问题。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>更改云服务器ECS的Mac地址，可能会影响到服务器的网络通信服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">600. 阿里云的云盾的安骑士提供了服务器密码暴力破解防护，用户再也不用设置难记的复杂密码了。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云盾的安骑士暴力破解防护，但是用户仍然需要做好密码的妥善保管工作。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">601. 您需要进行阿里云的云服务器ECS实例的系统盘更换操作之前，无需停止ECS实例。系统盘更换之后，ECS实例数据盘的数据不会受到影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>更换系统盘需要云服务器ECS实例处于停止的状态，所以需要停止ECS实例。更换系统盘，数据盘的数据是不会受到影响。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">602. 开通阿里绿网后，对用户阿里云的服务器上公开对外发布的网页内容进行实时检测，支持针对URL进行内容屏蔽。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>这个是文档的基础描述，参考绿网（现已改名内容安全）链接：<a href="https://help.aliyun.com/document_detail/28417.html?spm=a2c4g.11186623.6.542.4a7972e66CinZL" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28417.html?spm=a2c4g.11186623.6.542.4a7972e66CinZL</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">603. 分布式计算是把一个任务分成许多小的部分，然后把这些部分分配给多个计算节点进行处理，最后把这些计算结果综合起来得到最终的结果。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>分布式计算的基础解释。参考链接：<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/85448" target="_blank" rel="noopener">https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/85448</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">604. 阿里云的负载均衡SLB、云服务器ECS以及弹性伸缩（Auto Scaling）配合使用时，同一个负载均衡SLB实例的后端服务器池中可以包含多个伸缩组。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>一台负载均衡SLB实例可以加入多个伸缩组，参考链接：<a href="https://help.aliyun.com/knowledge_detail/38560.html?spm=a2c4g.11186623.4.5.1cc16c93Oy6v2B" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/38560.html?spm=a2c4g.11186623.4.5.1cc16c93Oy6v2B</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">605. 某快递公司开发一款APP，供分布在全国各地的20万名快递员使用，随时接收发件请求，查看总部发来的内部公告及其它的共享信息（上述信息为敏感数据），服务器端平台建在阿里云上。为了提高快递员的访问速度，该公司可以选用阿里云内容分发网络CDN服务，其中敏感数据的访问采用URL鉴权的方法可以有效解决非授权访问，在安全的基础上实现加速访问。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>正确描述，CDN可以提高全国快递员的访问速度，同时CDN提供URL鉴权功能，可以防止非授权的访问。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">606. 阿里云弹性伸缩（Auto Scaling）中的伸缩活动有ECS实例加入伸缩组失败时，需要保持伸缩活动级的事务完整性，而非ECS实例事务的完整性，即需要进行伸缩活动级的回滚。比如当某伸缩活动要创建并添加20台ECS实例到伸缩组中，但只有19台加入成功时，整个伸缩活动会回退，加入到伸缩组中的19台机器会移出并释放。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>当弹性伸缩有ECS实例加入伸缩组失败时，整个伸缩活动不会进行回退，加入到伸缩组中的19台机器也不会移出和释放。只会对不成功的 1 台 ECS 实例进行自动释放操作。参考链接：<a href="https://help.aliyun.com/document_detail/25916.html?spm=5176.10695662.1996646101.searchclickresult.766a40d2f6tgXd" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25916.html?spm=5176.10695662.1996646101.searchclickresult.766a40d2f6tgXd</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">607. 阿里云的云盾安骑士具有“密码暴力破解”防护功能，因此用户如果开启了安骑士，就没有必要定期修改云服务器ECS实例的管理员密码，也没有必要设置复杂密码。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>虽然安骑士具有“密码暴力破解”防护功能，但是用户仍然需要设置复杂密码且妥善保管维护ECS实例的密码。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">608. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。OSS采用多副本数据冗余机制，当底层硬件出现故障时OSS服务一定会短暂中断，最快在2分钟内修复。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS服务中数据自动多重冗余备份，当底层硬件出现故障时OSS服务会立即修复且服务不会中断。参考链接：<a href="https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.545.54e558d5NvKfb6" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31818.html?spm=a2c4g.11186623.6.545.54e558d5NvKfb6</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">609. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。通过阿里云的管理控制台或OpenAPI上传文件到OSS，不收取任何流量费。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>上传文件到OSS不会收取流量费用。OSS只有在公网下行（即公网下载文件）的时候才会收取流量费。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">610. 镜像是阿里云的云服务器ECS实例的运行环境的模版，可以包括操作系统和预装软件。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>镜像的基础描述，参考官网对镜像的概述。参考链接：<a href="https://help.aliyun.com/document_detail/25389.html?spm=5176.11065259.1996646101.searchclickresult.46375662W0Ch7V" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25389.html?spm=5176.11065259.1996646101.searchclickresult.46375662W0Ch7V</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">611. 阿里云的云服务器ECS产品支持的应用非常广泛，可以与其他的阿里云的产品进行搭配提供网站、存储、视频直播、物联网等丰富的应用解决方案。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云服务器ECS的场景概述。参考链接：<a href="https://help.aliyun.com/document_detail/25371.html?spm=a2c4g.11186623.6.544.2e4150bfrcJs6H" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25371.html?spm=a2c4g.11186623.6.544.2e4150bfrcJs6H</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">612. 用户可以使用阿里云对象存储OSS图片处理服务（Image Service）对.JPG的图片进行缩放和添加水印。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>图片处理是OSS提供的海量、安全、低成本、高可靠的图片处理服务。OSS图片处理提供以下功能：获取图片信息，图片格式转换，图片缩放，图片裁剪，图片旋转，图片效果，图片水印（包括添加图片、文字、图文混合水印），自定义图片处理样式，级联处理。参考链接：<a href="https://help.aliyun.com/document_detail/47735.html?spm=5176.10695662.1996646101.searchclickresult.1591133cnwWeld" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/47735.html?spm=5176.10695662.1996646101.searchclickresult.1591133cnwWeld</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">613. 阿里云的负载均衡SLB可以把用户请求分发给后端的云服务器ECS实例，这些云服务器ECS实例的规格配置必须相同。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB后端的ECS实例的规格可以不同，用户只要确保后端ECS实例中的应用服务部署相同且数据一致即可。参考链接：<a href="https://help.aliyun.com/knowledge_detail/55198.html?spm=a2c4g.11186623.6.742.56cd4078AYFo9P" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/55198.html?spm=a2c4g.11186623.6.742.56cd4078AYFo9P</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">614. 阿里云的负载均衡SLB实例默认会把来自同一客户端的访问请求分发到同一台后端云服务器ECS实例上进行处理，无需额外的配置。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>会话保持：默认关闭。启用后，负载均衡会把来自同一客户端的访问请求分发到同一台后端服务器上进行处理。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">615. 用户可以卸载阿里云的云服务器ECS实例上的云盾安骑士客户端，在需要的时候可以再次安装。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云的云服务器ECS支持随时安装/卸载。参考链接：<a href="https://help.aliyun.com/document_detail/93648.html?spm=5176.11065259.1996646101.searchclickresult.4c3a5b7aWdEAhh" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/93648.html?spm=5176.11065259.1996646101.searchclickresult.4c3a5b7aWdEAhh</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">616. 您在开通阿里云的云服务器ECS实例的同时，阿里云会免费为您开通云盾的基础防护功能，包括基础DDoS攻击等服务，来保证您的ECS实例的网络安全得到基本的保护。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云免费为负载均衡服务提供最高5G的DDoS基础防护。参考链接：<a href="https://help.aliyun.com/document_detail/59714.html?spm=5176.10695662.1996646101.searchclickresult.de7663dexQk8sg" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/59714.html?spm=5176.10695662.1996646101.searchclickresult.de7663dexQk8sg</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">617. 客户小赵想使用阿里云对象存储OSS实现公司内部文件共享（100人），但是小赵没有任何技术开发经验，小赵可以选择在阿里云云市场下载支持OSS的FTP工具来实现。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中的需求是可以通过对象存储OSS的FTP根据来实现文件共享，参考链接：<a href="https://help.aliyun.com/document_detail/44075.html?spm=5176.11065259.1996646101.searchclickresult.667f6566UP7kN6" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/44075.html?spm=5176.11065259.1996646101.searchclickresult.667f6566UP7kN6</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">618. 使用阿里云对象存储OSS保存云服务器ECS实例上的业务系统日志，可以有效降低存储成本。如果ECS实例和OSS在同一地域，只能通过公网地址传输数据。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>ECS实例和OSS在同一地域，是可以通过内网来传输数据的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">619. 您希望将服务部署在阿里云上，可以通过将业务的模块进行拆分、采用多个低配置的云服务ECS实例结合负载均衡SLB的方案，来提高业务的整体可用性。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>这个是上云实践中的描述，可以将业务拆分为多个模块，在多个低配置的云服务ECS实例结合负载均衡SLB的方案，来实践业务的高可用。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">620. 使用阿里云弹性伸缩（Auto Scaling）创建伸缩组时，可以指定配合使用的云数据库RDS实例，伸缩组会自动将ECS实例的内网IP添加到RDS实例的IP白名单中，允许ECS通过内网连接RDS实例。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>文档原话，如果创建伸缩组时添加了RDS实例，伸缩组会自动将加入伸缩组的ECS实例的内网IP添加到指定的RDS实例的访问白名单中，允许ECS实例内网通信。参考链接：<a href="https://help.aliyun.com/knowledge_detail/38560.html?spm=5176.2000002.0.0.376e6160KDocNg" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/38560.html?spm=5176.2000002.0.0.376e6160KDocNg</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">621. 您在开通阿里云的云服务器ECS实例之后，希望通过阿里云提供的管理控制台对该ECS实例的运行情况进行监控，需要开通收费的云监控服务来满足需求。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>你开通阿ECS后会自动开通云监控，云监控是不收费的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">622. 阿里云内容分发网络CDN建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络替代传统以WEB Server为中心的数据传输模式。阿里云CDN支持动态网站加速，用户不需要做动静分离。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>为了CDN能更好地区分动态和静态文件，已经合理地存储热点静态文件，所以网站还是要做动静分离。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">623. 若您的阿里云的云服务器ECS的实例希望能够和internet直接连通，就一定要开启公网带宽或者绑定EIP。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为题目是说需要直接连通，所以只能通过公网带宽或者EIP来实现。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">624. 云盾的DDoS防护功能可以保护阿里云机房内的所有云产品，包括：ECS、SLB、RDS、OCS、OSS、ODPS、ADS等。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云盾DDoS防护功能可以保障ECS、SLB、WAF、VPC、EIP、NAT云产品的DDoS网络安全，并不是题目中说的这些。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">625. 云盾安骑士可以保防阿里云以外的服务器。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云盾安骑士支持防护阿里云的ECS以及非阿里云的线下机房的实例。参考链接：<a href="https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.17a76a82ikFFQ4" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/28457.html?spm=a2c4g.11186623.6.560.17a76a82ikFFQ4</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">626. 云盾反欺诈服务（数据风控）可以输出风险评估报告，实时呈现今日、昨日及特定时间段的风险情况，便捷跟踪、掌握风险防控情况。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>数据风控的数据监控支持输出详细的风险评估报告。参考链接：<a href="https://help.aliyun.com/document_detail/66601.html?spm=a2c4g.11186623.2.11.630b6556qUU682" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/66601.html?spm=a2c4g.11186623.2.11.630b6556qUU682</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">627. 当用户通过ECS Open API进行跨账户的ECS资源访问时，ECS后台向RAM进行权限检查，以确保资源拥有者将相关资源的相应权限授予给了调用者。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云RAM支持对不同的角色设置不用的权限，所以当RAM用户调用API的时候，ECS后台向RAM进行权限检查。参考链接：<a href="https://help.aliyun.com/knowledge_detail/58900.html?spm=5176.10695662.1996646101.searchclickresult.11d57ff4rODWTG" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/58900.html?spm=5176.10695662.1996646101.searchclickresult.11d57ff4rODWTG</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">628. 报警任务名称在用户账号下唯一。如果该报警任务名称已经存在，则用新的值进行替换。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">629. 对安全组的操作调整，对用户的服务连续性没有影响。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>对安全组的调整操作，对用户的服务连续性没有影响。这个是文档的原话，解释就是：用户操作了安全组，可能会导致请求访问ECS失败，但是并不会影响到ECS上面服务的运行。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">630. 阿里云CDN不仅支持图片和css文件加速，还支持视频流媒体加速。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云CDN广泛应用于网站与应用加速、音视频点播、文件等场景，通过高性能缓存机制，提高访问效率和资源可用性。符合题目的描述。参考链接：<a href="https://help.aliyun.com/document_detail/27104.html?spm=a2c4g.11186623.6.545.574212ccRDpcNp" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27104.html?spm=a2c4g.11186623.6.545.574212ccRDpcNp</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">631. 阿里云的云数据库可以完美兼容Oracle的PL/SQL、数据类型、高级函数、数据字典。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>详细参考RDS的官方产品介绍页。RDS是高度兼容Oracle，并不是完美兼容，因为还是有部分的Oracle的功能是不支持的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">632. 无论伸缩组内是否有伸缩活动，都可以停用伸缩组。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>伸缩组里面有伸缩活动正在执行的时候，不可以停用伸缩组。强制停用可能会导致伸缩组伸缩异常。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">633. 经典网络的内网网段不支持用户自定义，专有网络用户可自定义内网网段。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>经典网络的IP都是随系统分配，不支持用户自定义网段。VPC网络可以支持用户自由定义网络，按需配置网络，可自定义IP地址范围与路由表等。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">634. 弹性伸缩一定要搭配负载均衡SLB、云监控才能使用。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>弹性伸缩可以单独使用，无需搭载负载均衡SLB，云监控一起使用。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">635. ECS API调用成功返回的数据格式主要有XML和JSON两种，外部系统可以在请求时传入参数来制定返回的数据格式，默认为JSON格式。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>API默认返回是XML格式，参考链接：<a href="https://help.aliyun.com/document_detail/25490.html?spm=a2c4g.11186623.2.17.7fb24c96WG2Zwe" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25490.html?spm=a2c4g.11186623.2.17.7fb24c96WG2Zwe</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">636. 动静分离是指将一个网站的动态和静态内容分成两个以上的站点分别承载， 动静分离的网站不利于通过CDN加速。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>动静分离的网站是有利于通过CDN加速的。上云实践中用户可以通过利用OSS和CDN对网站进行架构优化，做到网站文件的动静分离的，提升用户访问体验，实现成本可控。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">637. 选择阿里云本地磁盘或者本地SSD盘的ECS实例，一旦创建后，不能修改实例规格。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>由于本地SSD盘采用物理服务器本地盘的方式，购买带有本地SSD盘的实例（包含系统盘和数据盘）无法升级磁盘/CPU/内存等配置，仅支持带宽升级。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40547.html?spm=5176.10695662.1996646101.searchclickresult.7a997ee87TJgkt" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40547.html?spm=5176.10695662.1996646101.searchclickresult.7a997ee87TJgkt</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">638. 不同VPC之间内部网络完全隔离，只能通过对外映射的IP（弹性IP和NAT IP）互联。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>文档原话：VPC基于隧道技术，实现数据链路层的隔离，为每个租户提供一张独立、隔离的安全网络。不同专有网络之间内部网络完全隔离，只能通过对外映射的IP（弹性公网IP和NAT IP）互连。参考链接：<a href="https://help.aliyun.com/document_detail/54095.html?spm=5176.11065259.1996646101.searchclickresult.6ace4127wDKila" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/54095.html?spm=5176.11065259.1996646101.searchclickresult.6ace4127wDKila</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">639. 对于阿里云OSS服务来说，每个Bucket中只能存放10000个Object。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>Bucket的空间是没有上限的，所以对于Bucket中的Object个数也是没有限制的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">640. 某客户的网站在原服务商做过ICP备案，拥有了自己的备案号，现在他想将网站迁移至阿里云ECS，必须在阿里云进行一次备案接入操作。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>需要将网站迁移至阿里云ECS，需要在阿里云完成接入ICP备案操作。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">641. ECS实例不支持强制停止，强制停止等同于断电，可能会丢失ECS实例操作系统中所有磁盘的数据。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>ECS是不支持强行停止，但是只要磁盘上面的数据已写入，不会因为断电停止等原因导致磁盘的数据丢失。（同理，电脑强行关机只要不是磁盘损坏，同时需要数据是已写入，也不会导致电脑的数据丢失。）</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">642. 对ECS API接口调用是通过向ECS API的服务端地址发送HTTP GET请求，并按照接口说明在请求中加入相应请求参数来完成的。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云服务器ECS的API是通过向ECS API的服务端地址发送HTTP GET请求来实现相关的业务请求。参考链接：<a href="https://help.aliyun.com/document_detail/25692.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25692.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">643. 您在阿里云的linux操作系统的云服务器ECS实例中开启了NetWorkManager服务之后，对该云服务器ECS实例的所有网络连接服务都没有任何影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>NetworkManager服务来实现网络的配置和管理，NetworkManager服务启动以后可能会导致系统内部的网络配置出现紊乱。所以说没有任何影响是错误的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">644. 对阿里云的云服务器ECS实例进行停止操作之后，ECS实例将停止工作，从而中断您的业务，需谨慎执行。由于停止操作之后ECS实例处于停止状态，阿里云将不再对该ECS实例进行收费。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>停机不收费仅面向于按量付费的ECS，包年包月的ECS关机仍然继续收费，只有在ECS实例到期后才不继续收费。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">645. 专有网络类型的ECS实例只能在创建时指定，这类实例可以属于多个虚拟交换机。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>专有网络类型的ECS实例只能在创建时指定，这类实例只可以属于单个虚拟交换机。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">646. 如果您在Linux操作系统的阿里云的云服务器ECS实例中开启SELINUX服务，该云服务器ECS实例的监控功能不会受到任何影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>linux系统的服务器不支持开启Selinux服务，如果开启了Selinux服务，会导致系统异常并无法启动。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">647. 基于阿里云提供的云服务器ECS实例，可以快速完成您的系统部署来提高效率。同时，阿里云提供的多线BGP接入可以提高您在全国各地的客户访问质量。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云多线BGP（中国电信、联通、移动、教育网等）接入，确保全国用户访问畅通，提升用户访问的质量。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">648. 您在阿里云的Linux操作系统的云服务器ECS实例中可以随意更改系统根目录的目录权限，不会对云服务器ECS实例的所有服务产生任何影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>随意更改系统根目录的目录权限，特别是系统文件的权限，会对ECS服务造成不可预测的影响。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">649. 您如果更改了阿里云的云服务器ECS实例的网卡的MAC地址，对该ECS实例的网络访问没有任何影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>有些软件需要获取并验证服务器的MAC地址，假如修改了ECS的MAC地址，可能会影响到相应云产品的网络访问。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">650. 您在阿里云的Windows系统的云服务器ECS实例中不建议删除或者重命名administrator账户，如果进行以上操作可能会引起在阿里云的管理控制台上修改密码失效。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>对administrator账户做了操作，如禁用、删除和改名等操作确实会导致在控制台修改ECS实例密码不成功。参考链接：<a href="https://help.aliyun.com/knowledge_detail/86624.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/86624.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">651. 如果在阿里云的Linux系统的云服务器ECS实例中执行fdisk l命令，发现没有/dev/xvdb，/dev/xvdc，…，/dev/xvdz的设备，则表明该ECS实例无数据盘。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>正常情况下用fdisk l命令,可以查看到新增的硬盘。/dev/xvda为系统盘，/dev/xvdb,/dev/xvdc…/dev/xvdz都是数据盘。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">652. 阿里云的云服务器ECS实例的Linux系统内核是经过优化的，为了不影响您的云服务器ECS实例的正常使用，不建议您自行进行Linux内核的编译。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云服务器ECS实例的Linux系统内核是经过优化的，不建议用户自行编译Linux内核。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">653. 使用阿里云弹性伸缩（Auto Scaling）时，为了应对一些复杂的场景，可以把多种伸缩模式混合使用，比如对于同一个伸缩组可以同时设置固定数量模式、定时模式以及动态模式。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>多种伸缩模式混合使用即伸缩模式中的多模式并行的模式，多模式并行模式可以组合配置，灵活解决实际业务需求中的问题。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/25860.html?spm=a2c5t.10695662.1996646101.searchclickresult.6908497faJDrtO" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/25860.html?spm=a2c5t.10695662.1996646101.searchclickresult.6908497faJDrtO</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">654. 阿里云对象存储OSS的同一个Bucket中的文件不能重名，但是支持对文件进行重命名。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>同一个Bucket中的文件不能重名是对的，但是文件Object不支持重命名。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39588.html?spm=5176.11065259.1996646101.searchclickresult.31071285aQOqko" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39588.html?spm=5176.11065259.1996646101.searchclickresult.31071285aQOqko</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">655. 阿里云对象存储OSS支持子帐号，并且可以为每个子帐号分配不同Bucket的使用权限。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云对象存储OSS支持多个不同权限的子帐号来访问OSS的资源。参考链接：<a href="https://help.aliyun.com/knowledge_detail/65416.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/65416.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">656. 阿里云对象存储OSS的用户可以直接将保存在OSS上的高清电影文件通过阿里云CDN分发，在不需要其它阿里云的产品配合的情况下，可实现在线视频直播网站。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>在对象存储OSS的基础上需要实现在线视频直播网站的功能，还需要使用阿里云媒体转码（Media Transcoding，简称MTS）来实现解码的功能。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">657. 阿里云对象存储OSS自身提供的了 “IP黑白名单”功能，当发现有恶意IP频繁访问OSS时，可以直接将IP拉黑，屏蔽访问。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS服务本身不提供IP黑名单的功能，可以结合内容分发CDN来实现IP黑白名单的功能。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39555.html?spm=5176.11065259.1996646101.searchclickresult.45fb359epbxdYi" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39555.html?spm=5176.11065259.1996646101.searchclickresult.45fb359epbxdYi</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">658. 阿里云对象存储OSS是阿里云提供的海量、安全、低成本、高可靠的云存储服务。如果访问OSS文件的并发用户数和流量特别大，可以使用负载均衡SLB进行访问加速。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB只支持云服务器ECS的负载，不支持对象存储OSS的负载均衡，题目中的问题建议网站结合CDN来实现流量大的情景。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">659. 如果用户更改负载均衡SLB服务的相关配置策略，可以通过SLB控制台进行更改，但更改策略会导致负载均衡SLB服务地址（IP）的变更。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>用户可以在控制台更改SLB服务的相关配置策略，但是并不会导致导致负载均衡SLB服务地址（IP）的变更。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">660. 阿里云的负载均衡SLB支持同一地域（Region）跨可用区（Zone）容灾，结合DNS还可以支持跨地域（Region）的容灾。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>多个不同地域的负载均衡SLB支持通过DNS轮询来实现跨域容灾，参考链接：<a href="https://yq.aliyun.com/articles/43118?spm=5176.10695662.1996646101.searchclickresult.393a1484oIJgka" target="_blank" rel="noopener">https://yq.aliyun.com/articles/43118?spm=5176.10695662.1996646101.searchclickresult.393a1484oIJgka</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">661. 负载均衡集群采用LVS和Tengine实现，其中4层监听（TCP/UDP）经过LVS后直接到达后端服务器，而7层监听（HTTP/HTTPS）经过LVS和Tengine最后达到后端服务器。7层性能没有4层性能好。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>因为7层比4层多了一个处理环节，因此，7层性能没有4层性能好。参考链接：<a href="https://help.aliyun.com/document_detail/27658.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27658.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">662. 阿里云专有网络VPC内部存在虚拟交换机和虚拟路由器，可以像传统网络环境一样划分子网，每个子网内的云服务器ECS实例之间使用同一个虚拟交换机互联，不同子网间的ECS实例之间使用虚拟路由器互联。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>不同专有网络之间通过隧道ID进行隔离。专有网络内部由于交换机和路由器的存在，所以可以像传统网络环境一样划分子网，每一个子网内部的不同云服务器使用同一个交换机互联，不同子网间使用路由器互联。参考链接：<a href="https://help.aliyun.com/document_detail/34219.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/34219.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">663. 路由表是指阿里云专有网络VPC中的路由器上管理路由条目的列表，VPC可以支持任意创建和删除路由表。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>可以支持自由创建和删除自定义路由表，但是路由表有最大的个数限制，所以用”任意”两字是错误的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">664. 路由器是阿里云专有网络VPC的枢纽，可以连接本VPC内的各个交换机，但不是连接本VPC与其他网络的网关设备。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>路由器（VRouter） 可以连接VPC内的各个交换机，同时也是连接VPC和其他网络的网关设备。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/65398.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/65398.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">665. 阿里云专有网络VPC和VPN是不同的概念。专有网络VPC是一个二层隔离的网络环境；VPN是一种远程访问技术，利用公网架设虚拟专用网络。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>VPN功能的基础解释。VPC使用的是二层的隔离技术，VPC中的交换机属于三层的交换机。参考阿里云VPC图解：<a href="http://cloud.51cto.com/art/201704/537129.htm" target="_blank" rel="noopener">http://cloud.51cto.com/art/201704/537129.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">666. 阿里云的云监控除了可以为云服务器ECS实例提供安全有效的监控服务外，还能够监控客户放在传统机房的服务器上的HTTP站点，只是配置比较复杂，必须自己开发脚本进行数据收集。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云的云监控同时可以监控传统机房的服务器上的HTTP站点，使用的是站点监控，可以直接在阿里云控制台快速配置，配置并不复杂，同时阿里云提供技术支持。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">667. 阿里云的云盾DDoS基础防护提供最高5G的默认DDoS防护能力，阿里云在此基础上，推出了安全信誉防护联盟计划，如果安全信誉分较高，可进一步提升DDoS防护能力。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>为了给您带来更好的安全防护体验，并且提升安全防护能力，阿里云开展安全信誉防护联盟计划。加入该计划后，依据安全信誉评估结果，可获得阿里云提供的动态的DDoS攻击防御能力。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40054.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40054.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">668. 在安全性方面，为了防止源站信息被恶意访问，阿里云内容分发网络CDN同时提供了“IP黑名单”和“Refer黑名单”、“Refer白名单”功能。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云内容分发网络CDN支持一下防护配置：防盗链功能（Refer黑白名单），IP黑白名单，URL鉴权，参考链接：<a href="https://help.aliyun.com/knowledge_detail/40206.html?spm=5176.11065259.1996646101.searchclickresult.7cc75641O79Up6" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40206.html?spm=5176.11065259.1996646101.searchclickresult.7cc75641O79Up6</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">669. 未经用户允许阿里云的云盾先知计划不会对外公开任何漏洞标题及细节。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>先知（安全众测）平台会对所有入驻企业的漏洞进行严格的保密，包括漏洞的标题、简述及详情，更不会使用或暗指企业的漏洞来做宣传（企业已授权的情况除外）。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40058.html?spm=a2c4g.11186623.6.565.772a71d2X7uAkG" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40058.html?spm=a2c4g.11186623.6.565.772a71d2X7uAkG</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">670. 阿里云的云盾先知计划共享了众多实名认证过的安全专家和第三方安全公司的能力，提供服务前必须首先签署用户保密协议。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云的云盾先知计划共享了众多实名认证过的安全专家（白帽子）和第三方安全公司的能力，在安全专家和安全公司注册入驻之前需要在阿里云注册认证及同意相关的保密协议。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">671. 由于阿里云提供了云数据库RDS的服务，因此阿里云不支持用户在云服务器ECS实例上自行部署数据库。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云支持用户在云服务器ECS实例上自行部署数据库。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">672. 对阿里云的云服务器ECS实例进行磁盘快照回滚操作后，在没有任何额外操作的情况下，该磁盘上回滚前的原有数据也可以恢复。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>在没有任何额外操作的情况下，该磁盘上回滚前的原有数据不可恢复。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">673. 您创建的处于阿里云的不同可用区内的云服务器ECS实例之间内网一定不互通。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>同一地域不同可用区之间的云服务器ECS实例之间内网是互通的。只有不同地域之间的云服务器ECS实例之间内网默认是不互通的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">674. 您创建阿里云的云服务器ECS实例时，如果系统盘选择了SSD云盘后，可以在线修改系统盘的类型。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>SSD系统盘的云盘不支持修改系统盘的类型。参考链接：<a href="https://help.aliyun.com/document_detail/25448.html?spm=5176.11065259.1996646101.searchclickresult.23d42bdaOuWEwC" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25448.html?spm=5176.11065259.1996646101.searchclickresult.23d42bdaOuWEwC</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">675. 您注册好阿里云账号后，可以单独开通阿里云的云监控服务，云监控服务可以帮助您收集并获取云服务器ECS实例的多项监控指标，还可以针对各项指标设置警报，提升您的监控及运维效率。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云的云监控服务是自动开通，不需要单独开通。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">676. 阿里云弹性伸缩（Auto Scaling）中的伸缩组是指部署了相同应用的云服务器ECS实例的集合，其中的ECS实例既可以是包年包月的，也可以是按量付费的。对于业务量突变的场景，按量计费的ECS实例会在满足业务需求的同时尽可能的节省成本；对于用户已有的包年包月的闲置的ECS实例，也可以手工添加到满足一定条件的伸缩组，能充分利用闲置资源。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩（Auto Scaling）中既支持自动伸缩，也支持手动添加闲置的ECS实例，手动添加的ECS的规格配置不需要和伸缩配置中的配置相同。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">677. 使用阿里云弹性伸缩（Auto Scaling）时，为了应对一些复杂的场景，可以把多种伸缩模式混合使用，比如对于同一个伸缩组可以同时设置固定数量模式、定时模式以及动态模式。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">678. 阿里云弹性伸缩（Auto Scaling）中，当进行弹性收缩时，对于运行在需要移出伸缩组的ECS实例上的应用，如果简单的中断服务，会影响到客户体验。如果需要确保在ECS实例上任务处理完成才释放该实例，弹性伸缩提供了解决方案：在创建ECS实例使用的镜像中存放一个包含处理逻辑的脚本，并设置成在ECS实例操作系统关机时自动执行该脚本。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>如您需要确保在 ECS 实例上任务处理完成才让弹性伸缩释放该实例，您需要在自定义镜像中存放执行脚本，并设置命令在操作系统关机时自动执行该脚本。参考链接：<a href="https://help.aliyun.com/knowledge_detail/38552.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/38552.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">679. 阿里云对象存储OSS与云服务器ECS实例之间的内网通信免费，只要OSS Bucket和ECS实例的所属地域在中国大陆范围内，就可以使用内网地址免费通信。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>只有ECS和OSS的Bucket处于同一个地域（Region），才可以使用内网地址通信。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">680. 阿里云对象存储OSS的存储空间Bucket支持删除操作，在删除Bucket前必须先删除Bucket中的所有文件，包括未完成的分片文件。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>删除Bucket前，碎片文件也必须要一起删除。参考链接：<a href="https://help.aliyun.com/document_detail/31846.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31846.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">681. 阿里云对象存储OSS自身提供的了 “IP黑白名单”功能，当发现有恶意IP频繁访问OSS时，可以直接将IP拉黑，屏蔽访问。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS不提供IP黑名单的功能，可以配合CDN来实现黑名单的功能。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">682. Bucket的拥有者可以通过OSS控制台为其所拥有的Bucket开启访问日志记录功能,OSS用户需要手动保存访问日志纪录</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>OSS的访问日志会自动保存，用户不需要手动保存访问日志纪录。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">683. 负载均衡提供获取客户端真实IP地址的功能，针对4层（TCP协议）负载均衡服务，SLB后端云服务器ECS可以直接获得来访者的真实IP</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>七层协议通过XForwardedFor获取真实IP，针对4层（TCP协议）服务，后端云服务器将直接获得来访者的真实IP，所以无需采用其他手段获取。参考链接：<a href="https://help.aliyun.com/document_detail/85960.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/85960.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">684. 阿里云的负载均衡SLB可以把用户请求分发给后端的云服务器ECS实例，这些云服务器ECS实例的规格配置必须相同。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB后端的服务器规格配置不一定必须相同，用户可以手动添加规格配置不相同的ECS实例至负载均衡的后端。参考链接：<a href="https://help.aliyun.com/document_detail/86451.html?spm=a2c4g.11186623.6.559.382c4078wroX9p" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/86451.html?spm=a2c4g.11186623.6.559.382c4078wroX9p</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">685. 阿里云内容分发网络CDN建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络替代传统以WEB Server为中心的数据传输模式。CDN加速特别适合在站点访问量大，且静态资源被不同用户重复访问的比例高的场景中使用，重复访问率越高加速效果越明显。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>文档原话，阿里云 CDN（内容分发网络）全称是 Alibaba Cloud Content Delivery Network，建立并覆盖在承载网之上、由分布在不同区域的边缘节点服务器群组成的分布式网络，替代传统以WEB Server为中心的数据传输模式。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">686. 使用阿里云弹性伸缩（Auto Scaling）根据业务需求和策略，自动调整其弹性计算资源的管理服务,用户只需购买1台云市场中的镜像,就可以弹出n台同类型镜像的ECS实例。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩中虽然不可以选择云市场镜像，但是您可以购买一台云市场镜像后，基于此镜像制作自定义镜像，在弹性伸缩策略中设置伸缩的镜像为此自定义镜像即可弹出n台同等类型的ECS实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">687. 用户开启SLB会话保持功能后，SLB会把来自同一客户端的访问请求分发到不同的后端ECS上进行处理。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>开启会话保持后，负载均衡监听会把来自同一客户端的访问请求分发到同一台后端服务器上。参考链接：<a href="https://www.aliyun.com/ss/5Lya6Kd5Ld5oyB/1_a?spm=5176.11065259.0.0.706522e9qmdyKV" target="_blank" rel="noopener">https://www.aliyun.com/ss/5Lya6Kd5Ld5oyB/1_a?spm=5176.11065259.0.0.706522e9qmdyKV</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">688. 路由器是阿里云专有网络VPC的枢纽，可以连接本VPC内的各个交换机，但不是连接本VPC与其他网络的网关设备。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>路由器是VPC网络的枢纽，它可以连接VPC内的各个交换机，同时也是连接VPC与其他网络的网关设备。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">689. 用户开启阿里绿网后不会占用云服务器ECS实例的CPU资源。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>绿网（新已改名为内容安全）是以API的形式提供服务，不会占用云服务器ECS实例的CPU资源。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">690. 阿里云的云盾“DDoS基础防护”和“安骑士”都是阿里云提供的的DDoS防护产品，只是部署的位置不同，一个在IDC入口防护，一个在云服务器内部防护。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>安骑士不具备DDoS防护的功能特性。参考链接：<a href="https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.408d55164KyMf1" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31770.html?spm=a2c4g.11186623.6.543.408d55164KyMf1</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">691. 阿里云的专有网络VPC下的云服务器ECS实例可以绑定EIP，通过EIP打通与外网的连接，可以通过将绑定EIP的云服务器ECS实例配置成公网网关，实现VPC内其他云服务器ECS实例的公网访问。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>VPC下的云服务器ECS实例可以绑定EIP实现公网的访问，同时可以将其配置成公网网关，实现VPC内其他云服务器ECS实例的公网访问。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">692. 阿里云的云盾DDos基础防护的工作流程是:当出现网络攻击时,系统自动检测并促发清洗异常流量,如果攻击流量超过DDos基础防护的服务上限,自动做黑洞处理。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>黑洞是指服务器受攻击流量超过本机房黑洞阈值时，阿里云屏蔽服务器的外网访问。当服务器进入黑洞一段时间后，如果系统监控到攻击流量停止，黑洞会自动解封。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40032.html?spm=5176.11065259.1996646101.searchclickresult.27c4c0373bV29C" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40032.html?spm=5176.11065259.1996646101.searchclickresult.27c4c0373bV29C</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">693. 使用阿里云弹性伸缩（Auto Scaling）时,弹性伸缩支持对数据盘的自动弹性伸缩,只需在伸缩配置中进行相应的设置即可。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩支持数据盘的弹性伸缩，具体请参考：<a href="https://help.aliyun.com/knowledge_detail/38553.html?spm=a2c4g.11186631.2.3.202b22dbdaEC7z" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/38553.html?spm=a2c4g.11186631.2.3.202b22dbdaEC7z</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">694. 阿里云弹性伸缩(Auto Scaling)自动增加云服务器ECS实例后，需要把这些实例的IP手工增加到负载均衡SLB的白名单中去，否则这些新增云服务器ECS实例将无法被负载均衡SLB识别。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>自动伸缩的话，实例的IP会自动增加到负载均衡SLB的白名单中。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">695. TCP是面向连接的协议，在正式收发数据前，必须和对方建立可靠的连接；而UDP协议在数据发送前需要与对方先进行三次握手，然后进行数据包发送和接收。UDP协议的性能要优于TCP。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>TCP需要三次握手，UDP是面向非连接的协议。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">696. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。OSS中创建文件夹本质上来说是创建了一个size为0的object</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS中的文件夹其实是一个大小为0KB的空文件(叫文件、Object、元素都可以)。参考链接：<a href="https://help.aliyun.com/knowledge_detail/39527.html?spm=5176.11065259.1996646101.searchclickresult.965e5d0fD3sL0v" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/39527.html?spm=5176.11065259.1996646101.searchclickresult.965e5d0fD3sL0v</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">697. 在用户自己创建的阿里云专有网络VPC内创建云产品实例的时候，必须指定云产品实例所在的交换机，否则无法创建VPC的云产品实例。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>当创建一个云产品实例时，如果没有可用的专有网络和交换机，您可以使用默认专有网络和交换机。当有可用的专有网络和交换机时，可以指定相应的专用网络和交换机，所以说不管有没有你都需要指定云产品实例所在的交换机。参考链接：<a href="https://help.aliyun.com/document_detail/65402.html?spm=5176.10695662.1996646101.searchclickresult.f08b6bbeVf3dUa" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/65402.html?spm=5176.10695662.1996646101.searchclickresult.f08b6bbeVf3dUa</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">698. 如果您在已经创建好的阿里云的云服务器ECS实例的操作系统内部更改了该ECS实例的私网IP地址，一定不会影响该云服务器ECS实例与其他ECS实例之间私网通信。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>在操作系统内修改了改ECS地址，可能会导致和其他云产品的通信失败。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">699. 如果您使用了阿里云的云服务器ECS部署应用，可以结合公网的负载均衡SLB提升web服务的可用性，同时还可以选择内网的负载均衡SLB来提升后台服务的可用性，从而提升整个应用的可用性。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>负载均衡SLB的在内网和公网负载的正确描述。参考链接：<a href="https://help.aliyun.com/document_detail/27543.html?spm=a2c4g.11186623.6.548.59d6390an0WDAp" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27543.html?spm=a2c4g.11186623.6.548.59d6390an0WDAp</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">700. 使用阿里云弹性伸缩（Auto Scaling）时，某伸缩活动一次要增加10台ECS实例，但其中一台ECS实例创建时失败，其余9台创建成功，则弹性伸缩服务会继续创建一台新的ECS实例，而不会将已经创建好的9台实例释放后再重新创建10台ECS实例。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>弹性伸缩过程中ECS创建失败，并不会回滚之前创建成功的，而是继续去重试之前创建失败的，如题目中所表达的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">701. 阿里云弹性伸缩(Auto Scaling)可以根据用户配置的伸缩规则，自动调整云服务器ECS实例的个数，以满足业务需求。如果用户无法预测业务的变化情况，即无法准确的预测对计算资源的需求，也可以通过使用动态的伸缩模式，基于云监控性能指标（如CPU利用率等）自动增加或者减少云服务器ECS实例。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>这个是弹性伸缩的正确描述。参考链接：<a href="https://help.aliyun.com/document_detail/25860.html?spm=a2c4g.11186623.6.544.305c7d0ayRWkPX" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25860.html?spm=a2c4g.11186623.6.544.305c7d0ayRWkPX</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">702. 用户如果需要使用弹性伸缩服务自动调整弹性计算资源，则必须要和负载均衡服务、云数据库RDS服务、云监控等共同使用才能发挥作用。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云弹性伸缩(Auto Scaling)可以单独使用，无需搭配其他云产品一起使用。不一定要和负载均衡SLB一起配合使用。参考链接：<a href="https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">703. 一个SLB实例最多对应10个监听，每个监听可独立配置限定规则。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>目前一个SLB实例最多对应50个监听，每个监听可独立设定限定规则。文档原话。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">704. 某公司使用阿里云产品作为企业门户网站的解决方案，通过负载均衡SLB服务转发客户请求到后端的云服务器ECS实例中去处理。目前他们要在网站中新增加一个库存查询的功能，需要访问云数据库RDS实例，他们的方案是：把RDS实例挂到SLB实例的后端服务器池中，在现有的SLB实例上多配置一个监听（Listener）专门负责监听库存查询的需求，然后把需求分发给RDS实例处理。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB只支持负载ECS，其他云产品都不支持负载。更不支持在SLB实例上多配置监听以及给RDS分发请求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">705. 用户开启SLB健康检查功能后，当后端某个ECS健康检查出现问题时会将请求转发到其他健康检查正常的ECS上，而当该ECS恢复正常运行时，SLB会将其自动恢复到对外或对内的服务中。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>官方原话，在负载均衡服务中开启健康检查功能后，当后端某个ECS健康检查出现问题时，会将请求转发到其他健康检查正常的ECS上。当该ECS恢复正常运行时，负载均衡会将其自动恢复到对外或对内的服务中。参考链接：<a href="https://www.alibabacloud.com/help/zh/docdetail/27702.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/docdetail/27702.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">706. 阿里云的负载均衡SLB实例和后端云服务器ECS实例之间是通过公网进行通信的，所以云服务器ECS实例必须配置外网带宽。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡SLB实例和后端云服务器ECS实例之间是通过内网通信的。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">707. 不同的阿里云专有网络VPC之间完全隔离，默认内网不互通，但可以通过公网建立VPN的方式实现互通。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>不同专有网络之间完全隔离，无法内网互通，当前可以通过公网建立VPN实现互通。参考链接：<a href="https://docs.aliyun.com/getPdf?url=cn/vpc/0.0.37/pdf/vpc_faq.pdf" target="_blank" rel="noopener">https://docs.aliyun.com/getPdf?url=cn/vpc/0.0.37/pdf/vpc_faq.pdf</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">708. 阿里云的云盾安骑士是一款服务器安全管理软件，可以保护阿里云的云服务器ECS实例的安全，也可以保护非阿里云主机。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云盾安骑士可以保护阿里云的云服务器ECS实例的安全，也可以保护非阿里云主机。只需要将安骑士 Agent 安装至您的非阿里云服务器上，参考链接：<a href="https://help.aliyun.com/knowledge_detail/40476.html?spm=a2c4g.11186631.2.1.57d014b3dqZYEo" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40476.html?spm=a2c4g.11186631.2.1.57d014b3dqZYEo</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">709. 阿里云的云盾DDoS高防IP可以抵御数百G的DDoS攻击，阿里云及非阿里云主机都可以使用云盾DDoS高防IP服务。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云盾DDoS高防IP产品是针对解决互联网服务器（包括非阿里云主机）在遭受大流量的DDoS攻击后导致服务不可用的情况</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">710. 阿里云内容分发网络CDN支持大文件下载加速、音视频点播加速，以及HTTPS安全加速。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云内容分发网络CDN支持各类网站静态内网的加速服务，支持HTTPS。参考链接：<a href="https://help.aliyun.com/document_detail/27104.html?spm=a2c4g.11186623.6.545.11c612ccVo0lhr" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27104.html?spm=a2c4g.11186623.6.545.11c612ccVo0lhr</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">711. 由于阿里云提供了对象存储OSS的海量存储服务，因此在多种场景下均可以使用OSS作为数据的存储服务，包括结构化的数据和非结构化的数据的存储。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>对象存储OSS推荐存储非结构化数据，而不推荐存储结构化数据。结构化的数据存储建议使用云数据库RDS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">712. 阿里云的云服务器ECS实例中的快照（Snapshot）是磁盘上的数据在某一时间点的拷贝，存储在用户自己构建的云数据库RDS实例上。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>快照是保护在独立于用户自己的OSS Bucket里面，而不是云数据库RDS实例上。参考链接：<a href="https://help.aliyun.com/knowledge_detail/52045.html?spm=5176.11065259.1996646101.searchclickresult.79392606dQMy0U" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/52045.html?spm=5176.11065259.1996646101.searchclickresult.79392606dQMy0U</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">713. 阿里云弹性伸缩（Auto Scaling）经常会和负载均衡SLB一起配合使用，伸缩组和负载均衡SLB必须在同一个地域（Region）。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>阿里云弹性伸缩和和负载均衡SLB一起使用时，两者必须处于同一地域。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">714. 某企业运维人员小王基于阿里云弹性伸缩（Auto Scaling）配置了一个完整的弹性伸缩方案，通过定时任务每次添加2台ECS实例到伸缩组中去。定时任务启动后，创建ECS实例的伸缩活动正在执行中，当创建到第3台ECS实例时，小王发现因为自己粗心错把“增加2台ECS”配置成了“增加20台ECS”，为了减少损失，他可以强行终止该伸缩活动。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>不能强行终止该伸缩活动，否则可能导致伸缩组伸缩异常，假如配置错误了以后可以自己手动修改成伸缩配置来释放多创建的云服务器ECS。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">715. 阿里云弹性伸缩(Auto Scaling)弹性伸缩免费，但是通过弹性伸缩自动创建或者手工加入的 ECS 实例，需要按照 ECS 相关实例类型进行付费,只有当ECS实例被移出伸缩组之后才不再收取实例费用。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>实例停机不收费功能仅适用于按量付费的 VPC 类型 ECS 实例。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">716. 阿里云弹性伸缩(Auto Scaling)不能单独使用，必须要和云服务器ECS以及负载均衡SLB配合使用。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云弹性伸缩(Auto Scaling)可以单独使用，无需搭配其他云产品一起使用。参考链接：<a href="https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/25970.html?spm=a2c4g.11186631.2.10.1d7522dbf5Y9Uk</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">717. 阿里云对象存储OSS是阿里云对外提供的海量、安全、低成本、高可靠的云存储服务。 OSS支持管理控制台和API（包括SDK）两种文件上传和下载方式。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>OSS支持管理控制台直接上传Object，或者通过API上传。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">718. 某企业使用阿里云负载均衡SLB服务提供对外的网站服务，其后端服务器池中的ECS实例上运行的操作系统必须一致，他们选择使用了CentOS，只能把之前一部分运行在Windows上的应用迁移到CentOS上来，否则SLB实例将无法正常工作。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>负载均衡本身不会限制后端ECS实例使用哪种操作系统，只要确保后端ECS实例中的应用服务部署相同且数据一致即可。但建议使用相同的操作系统，以便您日后的管理维护。参考链接：<a href="https://help.aliyun.com/knowledge_detail/55198.html?spm=a2c4g.11186623.6.744.453f4078uN7bah" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/55198.html?spm=a2c4g.11186623.6.744.453f4078uN7bah</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">719. 使用阿里云的负载均衡SLB实例时，用户开启健康检查功能后，当后端某个云服务器ECS实例健康检查的状态为异常时，会将请求转发给其他健康检查的状态为正常的云服务器ECS实例，而当该状态异常的云服务器ECS实例恢复正常运行时，负载均衡SLB实例会将其自动恢复到正常的服务中。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>题目中的描述即为负载均衡SLB的正确描述的，负载均衡SLB会将异常的ECS隔离，待ECS正常了以后还会将其从隔离区移出并给其分发请求。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">720. 如果用户只使用阿里云的云盾的DDoS基础防护功能，当攻击规模超过服务上限时，会触发黑洞规则，之后用户的服务器仍可以对外提供服务，只是速度受到限制。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>当ECS或SLB实例的公网IP遭到大量DDoS攻击，且DDoS攻击的流量超出对应的黑洞阈值后，该公网IP将被黑洞，所有来自外部的流量都将被丢弃，导致相关的业务无法正常访问。参考链接：<a href="https://help.aliyun.com/knowledge_detail/40042.html?spm=a2c4g.11186623.6.566.22c419f8LJROoZ" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40042.html?spm=a2c4g.11186623.6.566.22c419f8LJROoZ</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">721. 阿里云为云上客户提供了从网络、主机、应用至数据库和内容的全方位安全保护。用户在使用阿里云的服务时不需要考虑安全护问题，只要专注到自己的业务就可以了。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云提供的保护并不是万能的。用户不仅需要专注自己的业务，同时也需要考虑到服务的安全性问题。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">722. 高效的数据处理和管理技术是云计算不可或缺的核心技术之一，不仅要保证数据的存储和访问，还要能够对海量数据进行特定的检索和分析，业界比较流行的有Google的BigTable、阿里云的表格存储（Table Store，原OTS）等，它们提供的其实是关系型数据库服务。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>BigTable是非关系型数据库，是一个稀疏的、分布式的、持久化存储的多维度排序Map。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">723. 阿里云内容分发网络CDN建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络替代传统以WEB Server为中心的数据传输模式。阿里云CDN可以直接对IP地址进行加速，被加速的网站可以不绑定域名。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>阿里云CDN不支持直接对IP地址进行加速，使用内容分发CDN需要在控制台绑定域名。参考链接：<a href="https://help.aliyun.com/document_detail/27112.html?spm=a2c4g.11186623.6.566.5c2d4080zEsQmC" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/27112.html?spm=a2c4g.11186623.6.566.5c2d4080zEsQmC</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">724. 负载均衡系统会根据负载均衡实例类型来分配不同的服务地址（公网IP或私网IP），所以当您要进行负载均衡实例类型切换操作时，必须在管理控制台中进行更改设置。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>因为负载均衡系统会根据负载均衡实例类型来分配不同的服务地址（公网IP或私网IP），所以当您要进行负载均衡实例类型切换操作时，必须通过先删除后创建的方式，在新建实例时重新选择负载均衡实例类型。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">725. 您在阿里云的Windows操作系统的云服务器ECS实例中结束了shutdown.exe进程之后，通过阿里云的管理控制台对云服务器ECS实例进行任何操作都不会受到影响。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>shutdown.exe进程是系统重要进程，如果结束该进程会导在控制台上下发的指令不能成功执行。参考链接：<a href="https://www.alibabacloud.com/help/zh/faqdetail/42474.htm" target="_blank" rel="noopener">https://www.alibabacloud.com/help/zh/faqdetail/42474.htm</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">726. 调用阿里云的云服务器ECS提供的Open API接口，是通过向阿里云的API服务端地址发送HTTP GET请求，并按照接口说明在请求中加入相应请求参数来完成的。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>云服务器ECS的API是通过向ECS API的服务端地址发送HTTP GET请求来实现相关的业务请求。参考链接：<a href="https://help.aliyun.com/document_detail/25692.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25692.html</a></p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">727. 云计算有多种不同的服务模式，以下场景描述的是典型的SaaS（软件即服务）服务：用户只要接上网络，通过浏览器就能直接使用在云端上运行的应用，而不需要考虑安装、维护等工作，并且免去初期高昂的软硬件投入。</font></p><ul><li><strong><span style="color:#4CAF50">A.对</span></strong></li><li><span style="color:#333">B.错</span></li></ul><p><strong>答案：</strong>A</p><p><strong>解析：</strong>SaaS的正确描述，SaaS就像打开自来水龙头就能用水一样，企业根据实际需要，向SaaS提供商租赁软件服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">728. 阿里云专有网络VPC中支持将云服务器ECS实例从同一个路由器下的一台交换机转移到另一台交换机，也支持从一个路由器切换到另一个路由器。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云服务器ECS实例支持切换交换机，但是不支持切换路由器操作。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">729. 如果阿里云上的用户拥有多台云服务器ECS实例，且没有专业的运维团队或者不愿意在运维上花精力，可以开通阿里云的云盾安骑士，提供专家人工安全体检、清除木马、系统加固、人工安全技术支持、托管服务报告。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>安骑士不提供人工安全技术支持、托管服务报告的服务，需要人工安全技术支持、托管服务报告的服务需要选用安全管家服务。</p><hr><p><span style="background:#2196F3;color:#fff;padding:2px 6px">单选题</span> <font style="font-size:1.2em">730. 阿里云的云盾的DDoS防护功能可以保护阿里云机房内的所有云产品，包括：云服务器ECS、负载均衡SLB、云数据库RDS、对象存储OSS等。</font></p><ul><li><span style="color:#333">A.对</span></li><li><strong><span style="color:#4CAF50">B.错</span></strong></li></ul><p><strong>答案：</strong>B</p><p><strong>解析：</strong>云盾DDoS防护功能可以保障ECS、SLB、WAF、VPC、EIP、NAT云产品的DDoS网络安全，并不是题目中说的这些。</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;span style=&quot;background:#2196F3;color:#fff;padding:2px 6px&quot;&gt;单选题&lt;/span&gt; &lt;font style=&quot;font-size:1.2em&quot;&gt;1. 阿里云的云盾会检查通过公共互联网登录云服务器ECS的来源IP，登录
      
    
    </summary>
    
    
      <category term="阿里" scheme="http://yoursite.com/tags/%E9%98%BF%E9%87%8C/"/>
    
      <category term="ACP" scheme="http://yoursite.com/tags/ACP/"/>
    
      <category term="云计算" scheme="http://yoursite.com/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>React Native 自签名Https处理</title>
    <link href="http://yoursite.com/2018/03/28/react-native-https/"/>
    <id>http://yoursite.com/2018/03/28/react-native-https/</id>
    <published>2018-03-28T07:43:22.000Z</published>
    <updated>2018-03-29T03:12:26.453Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>现在绝大多数网站已转为https方式浏览，但很多情况下https的证书并不是CA颁发的合法证书，而是通过公司或个人自签名产生的证书。当我们在开发移动应用时，对于这种自签名证书，通常是需要额外的通过证书来校验访问的合法性。<br>当我们再开发React Native应用时，由于框架封装了网络请求库，造成我们无法自定义相关逻辑。本文的主要目的就是记录一下再开发过程中遇到此类问题是怎么解决的。</p><h2 id="IOS处理"><a href="#IOS处理" class="headerlink" title="IOS处理"></a>IOS处理</h2><ol><li>使用Xcode打开ios代码</li><li>在<code>Libraries</code>下展开 <code>RCTNetwork.xcodeproj</code> 找到 <code>RCTHTTPRequestHandler.m</code> 文件<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2018/03/28/react-native-https/26fa978f-a83b-4e49-b6b3-dab541da890c.png" alt="logo" title="">                </div>                <div class="image-caption">logo</div>            </figure></li><li><p>在文件中找到下面代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - NSURLSession delegate</span></span><br></pre></td></tr></table></figure></li><li><p>在此代码下方添加如下代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(NSURLSession *)session didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(<span class="keyword">void</span> (^)(NSURLSessionAuthChallengeDisposition disposition, NSURLCredential *credential))completionHandler</span><br><span class="line">&#123;</span><br><span class="line">  completionHandler(NSURLSessionAuthChallengeUseCredential, [NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>编辑info.plist文件，修改如下内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAllowsArbitraryLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2018/03/28/react-native-https/794c1115-612a-4e30-ac96-f1c2c8e8648f.png" alt="info.plist" title="">                </div>                <div class="image-caption">info.plist</div>            </figure><ol start="6"><li>完成配置，重新打包即可<h2 id="Android处理"><a href="#Android处理" class="headerlink" title="Android处理"></a>Android处理</h2>Android下React Native使用OKHTTP作为网络请求库，由于npm在安装react-native时已经编译过相关第三方依赖库，所以要改动依赖库中的代码，我们需要下载ReactAndroid的源代码，修改OKHTTP源码后重新编译。所以过程相对IOS会复杂很多，下面我们开始一步步来完成相关工作。</li><li>下载NDK，解压<br> NDK官方<a href="https://dl.google.com/android/repository/android-ndk-r10e-windows-x86_64.zip" target="_blank" rel="noopener">下载地址</a></li><li>local.properties 中设置ndk.dir.</li><li><p>修改<code>settings.gradle</code></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="string">':ReactAndroid'</span></span><br><span class="line"><span class="keyword">project</span>(<span class="string">':ReactAndroid'</span>).projectDir = <span class="keyword">new</span> <span class="keyword">File</span>(rootProject.projectDir, <span class="string">'../node_modules/react-native/ReactAndroid'</span>)</span><br></pre></td></tr></table></figure></li><li><p>修改<code>app/build.gradle</code></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//compile "com.facebook.react:react-native:+"  // From node_modules</span></span><br><span class="line"><span class="keyword">compile</span> <span class="keyword">project</span>(<span class="string">':ReactAndroid'</span>)</span><br><span class="line"><span class="comment">//可能在需要添加一下代码</span></span><br><span class="line"><span class="keyword">configurations</span>.all &#123;</span><br><span class="line"> <span class="keyword">exclude</span> <span class="keyword">group</span>: <span class="string">'com.facebook.react'</span>, module: <span class="string">'react-native'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改ReactAndroid中OKHTTP相关源代码，打开<code>node_modules/react-native/ReactAndroid/src/main/java/com/facebook/react/modules/network/OkHttpClientProvider.java</code>文件，修改文件内容为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OkHttpClientProvider</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Centralized OkHttpClient for all networking requests.</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="meta">@Nullable</span> OkHttpClient sClient;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OkHttpClient <span class="title">getOkHttpClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (sClient == <span class="keyword">null</span>) &#123;</span><br><span class="line">  sClient = createClient();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sClient;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// okhttp3 OkHttpClient is immutable</span></span><br><span class="line">  <span class="comment">// This allows app to init an OkHttpClient with custom settings.</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">replaceOkHttpClient</span><span class="params">(OkHttpClient client)</span> </span>&#123;</span><br><span class="line">  sClient = client;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OkHttpClient <span class="title">createClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// No timeouts by default</span></span><br><span class="line">  OkHttpClient.Builder client = getUnsafeOkHttpClient()</span><br><span class="line">  .connectTimeout(<span class="number">0</span>, TimeUnit.MILLISECONDS)</span><br><span class="line">  .readTimeout(<span class="number">0</span>, TimeUnit.MILLISECONDS)</span><br><span class="line">  .writeTimeout(<span class="number">0</span>, TimeUnit.MILLISECONDS)</span><br><span class="line">  .cookieJar(<span class="keyword">new</span> ReactCookieJarContainer());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> enableTls12OnPreLollipop(client).build();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  On Android 4.1-4.4 (API level 16 to 19) TLS 1.1 and 1.2 are</span></span><br><span class="line"><span class="comment">  available but not enabled by default. The following method</span></span><br><span class="line"><span class="comment">  enables it.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> OkHttpClient.<span class="function">Builder <span class="title">enableTls12OnPreLollipop</span><span class="params">(OkHttpClient.Builder client)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">  client.sslSocketFactory(<span class="keyword">new</span> TLSSocketFactory());</span><br><span class="line"></span><br><span class="line">  ConnectionSpec cs = <span class="keyword">new</span> ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)</span><br><span class="line">  .tlsVersions(TlsVersion.TLS_1_2)</span><br><span class="line">  .build();</span><br><span class="line"></span><br><span class="line">  List&lt;ConnectionSpec&gt; specs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  specs.add(cs);</span><br><span class="line">  specs.add(ConnectionSpec.COMPATIBLE_TLS);</span><br><span class="line">  specs.add(ConnectionSpec.CLEARTEXT);</span><br><span class="line"></span><br><span class="line">  client.connectionSpecs(specs);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception exc) &#123;</span><br><span class="line">  FLog.e(<span class="string">"OkHttpClientProvider"</span>, <span class="string">"Error while enabling TLS 1.2"</span>, exc);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> client;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> OkHttpClient.<span class="function">Builder <span class="title">getUnsafeOkHttpClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// Create a trust manager that does not validate certificate chains</span></span><br><span class="line">  <span class="keyword">final</span> TrustManager[] trustAllCerts = <span class="keyword">new</span> TrustManager[]&#123;</span><br><span class="line">  <span class="keyword">new</span> X509TrustManager() &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkClientTrusted</span><span class="params">(java.security.cert.X509Certificate[] chain, String authType)</span> <span class="keyword">throws</span> CertificateException </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkServerTrusted</span><span class="params">(java.security.cert.X509Certificate[] chain, String authType)</span> <span class="keyword">throws</span> CertificateException </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> java.security.cert.X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> java.security.cert.X509Certificate[]&#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Install the all-trusting trust manager</span></span><br><span class="line">  <span class="keyword">final</span> SSLContext sslContext = SSLContext.getInstance(<span class="string">"SSL"</span>);</span><br><span class="line">  sslContext.init(<span class="keyword">null</span>, trustAllCerts, <span class="keyword">new</span> java.security.SecureRandom());</span><br><span class="line">  <span class="comment">// Create an ssl socket factory with our all-trusting manager</span></span><br><span class="line">  <span class="keyword">final</span> SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();</span><br><span class="line"></span><br><span class="line">  OkHttpClient.Builder builder = <span class="keyword">new</span> OkHttpClient.Builder();</span><br><span class="line">  builder.sslSocketFactory(sslSocketFactory);</span><br><span class="line">  builder.hostnameVerifier(<span class="keyword">new</span> HostnameVerifier() &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verify</span><span class="params">(String hostname, SSLSession session)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> builder;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>执行<code>react-native run-android</code>开始编译，过程中可能会报错，Google解决一下即可。</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h2&gt;&lt;p&gt;现在绝大多数网站已转为https方式浏览，但很多情况下https的证书并不是CA颁发的合法证书，而是通过公司或个人自签名产生
      
    
    </summary>
    
    
      <category term="React Native" scheme="http://yoursite.com/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(8)-Paging</title>
    <link href="http://yoursite.com/2017/10/12/architecture-paging/"/>
    <id>http://yoursite.com/2017/10/12/architecture-paging/</id>
    <published>2017-10-12T09:23:07.000Z</published>
    <updated>2018-04-15T09:24:43.184Z</updated>
    
    <content type="html"><![CDATA[<p>分页库使您的应用程序能够更轻松地根据需要从数据源加载信息，而不会使设备过载或等待太长的数据库查询时间。</p><h1 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h1><hr><p>许多应用程序可以处理大量数据，但只需要随时加载和显示一小部分数据。 一个应用程序可能有数千个可能显示的项目，但它可能只需要一次访问几十个项目。 如果应用程序不小心，它最终可能会请求实际不需要的数据，从而给设备和网络带来性能负担。 如果数据与远程数据库存储或同步，则这也会降低应用速度并浪费用户的数据计划。</p><p>尽管现有的Android API允许在内容中进行分页，但它们带来了明显的限制和缺陷：</p><ul><li><code>CursorAdapter</code>可以更轻松地将数据库查询结果映射到<code>ListView</code>项目，但它会在UI线程上运行数据库查询，并使用<code>Cursor</code>无效地页面内容。 有关使用<code>CursorAdapter</code>的缺点的更多详细信息，请参阅博客文章Android上的大型数据库查询。</li><li><code>AsyncListUtil</code>允许将基于位置的数据分页到<code>RecyclerView</code>中，但不允许进行非定位分页，并强制在可数数据集中使用空值作为占位符。</li></ul><p>新的分页库解决了这些问题。该库包含几个类，以便在需要时简化请求数据的过程。这些类还可以与现有的体系结构组件（如Room）无缝协作。</p><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><hr><p>分页库的一组类允许您完成本节中显示的任务。</p><h2 id="定义如何获取数据"><a href="#定义如何获取数据" class="headerlink" title="定义如何获取数据"></a>定义如何获取数据</h2><p>使用<code>DataSource</code>类定义您需要从中提取分页数据的数据源。根据你需要访问你的数据的方式，你可以扩展它的一个子类：</p><ul><li>如果您加载的页面嵌入了下一个/上一个键，请使用<code>PageKeyedDataSource</code>。例如，如果您从网络中提取社交媒体帖子，则可能需要将下一个代码从一个加载传递到后续加载。</li><li>如果您需要使用项目N中的数据来获取项目N + 1，请使用<code>ItemKeyedDataSource</code>。例如，如果您为讨论应用程序提取线索评论，则可能需要传递一条评论的标识以获取下一条评论的内容。</li><li>如果您需要从您在数据存储中选择的任何位置获取数据页面，请使用<code>PositionalDataSource</code>。 此类支持从您选择的任何位置开始请求一组数据项，如“返回从位置1200开始的20个数据项”。</li></ul><p>如果使用<code>Room</code>持久化库来管理数据，它可以自动生成一个·DataSource.Factory·来为您生成·PositionalDataSource·的实例。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(<span class="string">"select * from users WHERE age &gt; :age order by name DESC, id ASC"</span>)</span><br><span class="line">DataSource.<span class="function">Factory&lt;Integer, User&gt; <span class="title">usersOlderThan</span><span class="params">(<span class="keyword">int</span> age)</span></span>;</span><br></pre></td></tr></table></figure></p><h2 id="将数据加载到内存中"><a href="#将数据加载到内存中" class="headerlink" title="将数据加载到内存中"></a>将数据加载到内存中</h2><p><code>PagedList</code>类从<code>DataSource</code>加载数据。 您可以配置一次加载多少数据，以及预取多少数据，从而最大限度地缩短用户等待数据加载的时间。 该类可以向其他类提供更新信号，例如<code>RecyclerView.Adapter</code>，允许您在页面中加载数据时更新<code>RecyclerView</code>的内容。<br>根据您的应用程序的体系结构，您有几个使用PagedList类的选项。要了解更多信息，请参阅<a href="https://developer.android.com/topic/libraries/architecture/paging.html#choose-data-loading-arch" target="_blank" rel="noopener">选择数据加载体系结构</a>。</p><h2 id="在用户界面中呈现数据"><a href="#在用户界面中呈现数据" class="headerlink" title="在用户界面中呈现数据"></a>在用户界面中呈现数据</h2><p><code>PagedListAdapter</code>类是一个<code>RecyclerView.Adapter</code>的实现，用于呈现<code>PagedList</code>中的数据。 例如，当加载新页面时，<code>PagedListAdapter</code>向<code>RecyclerView</code>指示数据已到达; 这可以让<code>RecyclerView</code>用实际项目替换任何占位符，执行适当的动画。 <code>PagedListAdapter</code>还使用后台线程来计算从一个<code>PagedList</code>到下一个更改的更改（例如，当数据库更改生成具有更新数据的新<code>PagedList</code>时），并根据需要调用<code>notifyItem ...（）</code>方法以更新列表内容。 <code>RecyclerView</code>然后执行必要的更改。 例如，如果项目在<code>PagedList</code>版本之间改变位置，则<code>RecyclerView</code>会将该项目移动到列表中的新位置。</p><h2 id="观察数据更新"><a href="#观察数据更新" class="headerlink" title="观察数据更新"></a>观察数据更新</h2><p>分页库提供以下类来构建能够实时更新的<code>PagedList</code>容器：</p><ul><li><p><strong>LivePagedListBuilder</strong><br>该类从您提供的<code>DataSource.Factory</code>生成一个<code>LiveData &lt;PagedList&gt;</code>。 如果使用<code>Room</code>持久性库来管理数据库，则<code>DAO</code>可以使用<code>PositionalDataSource</code>为您生成<code>DataSource.Factory</code>，如以下示例所示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LiveData&lt;PagedList&lt;Item&gt;&gt; pagedItems =</span><br><span class="line">        LivePagedListBuilder(myDataSource, <span class="comment">/* page size */</span> <span class="number">50</span>)</span><br><span class="line">                .setFetchExecutor(myNetworkExecutor)</span><br><span class="line">                .build();</span><br></pre></td></tr></table></figure></li><li><p><strong>RxPagedListBuilder</strong><br>该类提供了与<code>LivePagedListBuilder</code>类似的基于<code>RxJava2</code>的功能。 该类由图书馆基于<code>RxJava2</code>的工件<code>android.arch.paging:rxjava2:1.0.0-alpha1</code>。 使用这个类，您可以在<code>PagedList</code>的实现中构造<code>Flowable</code>和<code>Observable</code>对象，如以下代码片段所示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Flowable&lt;PagedList&lt;Item&gt;&gt; pagedItems =</span><br><span class="line">        RxPagedListBuilder(myDataSource, <span class="comment">/* page size */</span> <span class="number">50</span>)</span><br><span class="line">                .setFetchScheduler(myNetworkScheduler)</span><br><span class="line">                .buildFlowable(BackpressureStrategy.LATEST);</span><br></pre></td></tr></table></figure></li></ul><h2 id="创建一个数据流"><a href="#创建一个数据流" class="headerlink" title="创建一个数据流"></a>创建一个数据流</h2><p><code>Paging Library</code>的组件组织来自后台线程生成器的数据流，并在UI线程上呈现。 例如，在数据库中插入新项目时，数据源将失效，并且<code>LiveData &lt;PagedList&gt;</code>或<code>Flowable &lt;PagedList&gt;</code>会在后台线程上生成新的<code>PagedList</code>。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/10/12/architecture-paging/paging-threading.gif" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><p><font style="font-size:14px">图1.分页库组件在后台线程中完成大部分工作，所以它们不会给UI线程造成负担。</font><br>新创建的<code>PagedList</code>被发送到UI线程的<code>PagedListAdapter</code>。 <code>PagedListAdapter</code>然后在后台线程上使用<code>DiffUtil</code>来计算当前列表和新列表之间的差异。 比较完成后，<code>PagedListAdapter</code>使用列表差异信息对<code>RecyclerView.Adapter.notifyItemInserted()</code>进行适当调用，以表示插入了新项目。</p><p>UI线程上的<code>RecyclerView</code>知道它只需绑定一个新项目，并将其动画显示在屏幕上。</p><h1 id="数据库示例"><a href="#数据库示例" class="headerlink" title="数据库示例"></a>数据库示例</h1><hr><p>以下代码片段显示了将所有片段一起使用的几种可能方式.</p><h2 id="使用LiveData观察分页数据"><a href="#使用LiveData观察分页数据" class="headerlink" title="使用LiveData观察分页数据"></a>使用LiveData观察分页数据</h2><p>下面的代码片段显示了所有一起工作的部分。随着用户在数据库中的添加，删除或更改，<code>RecyclerView</code>的内容会自动而有效地更新：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">// The Integer type parameter tells Room to use a PositionalDataSource</span></span><br><span class="line">    <span class="comment">// object, with position-based loading under the hood.</span></span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user ORDER BY lastName ASC"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> DataSource.<span class="function">Factory&lt;Integer, User&gt; <span class="title">usersByLastName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> LiveData&lt;PagedList&lt;User&gt;&gt; usersList;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">        usersList = <span class="keyword">new</span> LivePagedListBuilder&lt;&gt;(</span><br><span class="line">                userDao.usersByLastName(), <span class="comment">/* page size */</span> <span class="number">20</span>).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserAdapter&lt;User&gt; mAdapter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedState);</span><br><span class="line">        MyViewModel viewModel = ViewModelProviders.of(<span class="keyword">this</span>).get(MyViewModel.class);</span><br><span class="line">        RecyclerView recyclerView = findViewById(R.id.user_list);</span><br><span class="line">        mAdapter = <span class="keyword">new</span> UserAdapter();</span><br><span class="line">        viewModel.usersList.observe(<span class="keyword">this</span>, pagedList -&gt;</span><br><span class="line">                mAdapter.submitList(pagedList));</span><br><span class="line">        recyclerView.setAdapter(mAdapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserAdapter</span> <span class="keyword">extends</span> <span class="title">PagedListAdapter</span>&lt;<span class="title">User</span>, <span class="title">UserViewHolder</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAdapter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(DIFF_CALLBACK);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(UserViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        User user = getItem(position);</span><br><span class="line">        <span class="keyword">if</span> (user != <span class="keyword">null</span>) &#123;</span><br><span class="line">            holder.bindTo(user);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Null defines a placeholder item - PagedListAdapter will automatically invalidate</span></span><br><span class="line">            <span class="comment">// this row when the actual object is loaded from the database</span></span><br><span class="line">            holder.clear();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> DiffUtil.ItemCallback&lt;User&gt; DIFF_CALLBACK =</span><br><span class="line">            <span class="keyword">new</span> DiffUtil.ItemCallback&lt;User&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">areItemsTheSame</span><span class="params">(@NonNull User oldUser, @NonNull User newUser)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// User properties may have changed if reloaded from the DB, but ID is fixed</span></span><br><span class="line">            <span class="keyword">return</span> oldUser.getId() == newUser.getId();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">areContentsTheSame</span><span class="params">(@NonNull User oldUser, @NonNull User newUser)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">NOTE:</span> if you use equals, your object must properly override Object#equals()</span></span><br><span class="line">            <span class="comment">// Incorrectly returning false here will result in too many animations.</span></span><br><span class="line">            <span class="keyword">return</span> oldUser.equals(newUser);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="使用RxJava2观察分页数据"><a href="#使用RxJava2观察分页数据" class="headerlink" title="使用RxJava2观察分页数据"></a>使用RxJava2观察分页数据</h2><p>如果您更喜欢使用<code>RxJava2</code>而不是<code>LiveData</code>，则可以改为创建<code>Observable</code>或<code>Flowable</code>对象：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> Flowable&lt;PagedList&lt;User&gt;&gt; usersList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">        usersList = <span class="keyword">new</span> RxPagedListBuilder&lt;&gt;(userDao.usersByLastName(),</span><br><span class="line">                <span class="comment">/* page size */</span> <span class="number">50</span>).buildFlowable(BackpressureStrategy.LATEST);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后，您可以使用以下代码片段中的代码开始和停止观察数据：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserAdapter&lt;User&gt; mAdapter;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CompositeDisposable mDisposable = <span class="keyword">new</span> CompositeDisposable();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedState);</span><br><span class="line">        MyViewModel viewModel = ViewModelProviders.of(<span class="keyword">this</span>).get(MyViewModel.class);</span><br><span class="line">        RecyclerView recyclerView = findViewById(R.id.user_list);</span><br><span class="line">        mAdapter = <span class="keyword">new</span> UserAdapter();</span><br><span class="line">        recyclerView.setAdapter(mAdapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        myDisposable.add(mViewModel.usersList.subscribe(flowableList -&gt;</span><br><span class="line">                mAdapter.submitList(flowableList)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">        mDisposable.clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>对于基于<code>RxJava2</code>的解决方案，<code>UserDao</code>和<code>UserAdapter</code>的代码与基于<code>LiveData</code>的解决方案的代码相同。</p><h1 id="选择一个数据加载架构"><a href="#选择一个数据加载架构" class="headerlink" title="选择一个数据加载架构"></a>选择一个数据加载架构</h1><hr><p>使用分页库来做数据的分页主要有两种方式：</p><h2 id="网络或数据库"><a href="#网络或数据库" class="headerlink" title="网络或数据库"></a>网络或数据库</h2><p>首先，您可以从单一来源进行分页 - 本地存储或网络。在这种情况下，使用<code>LiveData &lt;PagedList&gt;</code>将加载的数据馈送到UI中，如上面的示例中所示。<br>要指定数据源，请将<code>DataSource.Factory</code>传递给<code>LivePagedListBuilder</code>。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/10/12/architecture-paging/paging-network-or-database.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><p><font style="font-size:14px">图2.单一数据源提供DataSource.Factory来加载内容。</font><br>当观察数据库时，数据库在发生内容更改时将“推送”新的<code>PagedList</code>。 在网络分页情况下（当后端不发送更新时），像刷卡到刷新这样的信号可以通过使当前数据源无效来“拉”新的分页列表。 这将异步刷新所有数据。<br><a href="https://github.com/googlesamples/android-architecture-components/blob/master/PagingWithNetworkSample/README.md" target="_blank" rel="noopener">PagingWithNetworkSample</a>中的内存+网络存储库实现显示如何在处理刷新刷新，网络错误和重试时使用<code>Retrofit</code>实现网络<code>DataSource.Factory</code>。</p><h2 id="网络和数据库"><a href="#网络和数据库" class="headerlink" title="网络和数据库"></a>网络和数据库</h2><p>在第二种情况下，您可以从本地存储页面进行寻址，本地存储页面本身从网络中寻找额外的数据 这通常是为了最大限度地减少网络负载并提供更好的低连接体验 - 数据库被用作存储在后端数据的缓存。<br>在这种情况下，使用<code>LiveData &lt;PagedList&gt;</code>来从数据库中分页内容，并将<code>BoundaryCallback</code>传递给<code>LivePagedListBuilder</code>以观察数据不足信号。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/10/12/architecture-paging/paging-network-plus-database.png" alt="t3" title="">                </div>                <div class="image-caption">t3</div>            </figure></p><p><font style="font-size:14px">数据库是网络数据的缓存 - UI从数据库加载数据，并在数据不足时从网络加载到数据库时发送信号。</font><br>然后将这些回调连接到网络请求，这些请求将直接将数据存储在数据库中。用户界面订阅了数据库更新，所以新的内容自动流向任何观察用户界面。<br><a href="https://github.com/googlesamples/android-architecture-components/blob/master/PagingWithNetworkSample/README.md" target="_blank" rel="noopener">PagingWithNetworkSample</a>中的数据库+网络存储库显示了如何使用Retrofit实现网络<code>BoundaryCallback</code>，同时处理刷卡刷新，网络错误和重试。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;分页库使您的应用程序能够更轻松地根据需要从数据源加载信息，而不会使设备过载或等待太长的数据库查询时间。&lt;/p&gt;
&lt;h1 id=&quot;概览&quot;&gt;&lt;a href=&quot;#概览&quot; class=&quot;headerlink&quot; title=&quot;概览&quot;&gt;&lt;/a&gt;概览&lt;/h1&gt;&lt;hr&gt;
&lt;p&gt;许多应用程序
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(七)-Room</title>
    <link href="http://yoursite.com/2017/10/11/architecture-room/"/>
    <id>http://yoursite.com/2017/10/11/architecture-room/</id>
    <published>2017-10-11T07:41:10.000Z</published>
    <updated>2018-04-15T04:52:29.497Z</updated>
    
    <content type="html"><![CDATA[<h1 id="利用Room保存数据到本地数据库"><a href="#利用Room保存数据到本地数据库" class="headerlink" title="利用Room保存数据到本地数据库"></a>利用Room保存数据到本地数据库</h1><hr><p>Room提供了一个SQLite的抽象层，可以在充分利用SQLite的同时访问流畅的数据库。</p><p>数据的本地持久化对某些需要处理大量结构化数据的App非常有益。最常见的用例是缓存相关的数据。这样，当设备无法访问网络时，用户仍然可以在脱机状态下浏览该内容。设备重新联机后，任何用户造成的内容更改都会同步到服务器。</p><p>由于Room会为您处理这些问题，我们强烈建议使用Room而不是SQLite。但是，如果您更愿意直接使用SQLite API，请阅读使用SQLite保存数据。</p><blockquote><p><strong>注意：</strong>为了在您的应用中使用Room，请将架构组件依赖添加到您应用的build.gradle文件中。</p></blockquote><p>Room由三个非常重要的部分组成：</p><ul><li><strong>Database:</strong>包含数据库持有者，并作为与应用持久关联数据的底层连接的主要访问点。用@Database注解的类应该满足以下条件：<ul><li>一个继承RoomDatabase的抽象类。</li><li>在注释中包含与数据库关联的实体列表。</li><li>包含一个无参的抽象方法，并返回用@Dao注解的类。<br>在运行时，您可以通过调用Room.databaseBuilder（）或Room.inMemoryDatabaseBuilder（）来获取数据库实例。</li></ul></li><li><strong>Entity:</strong>代表数据库中的表。</li><li><strong>DAO:</strong>包含用于访问数据库的方法。</li></ul><p>这些组件以及它们与应用程序其余部分的关系如图1所示：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/10/11/architecture-room/room_architecture.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><font style="font-size:14px">图1. Room结构图</font><p>以下代码片段包含具有一个实体和一个DAO的示例数据库配置：<br><strong>User.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> uid;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"first_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String firstName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"last_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getters and setters are ignored for brevity,</span></span><br><span class="line">    <span class="comment">// but they're required for Room to work.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>UserDao.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE uid IN (:userIds)"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">loadAllByIds</span><span class="params">(<span class="keyword">int</span>[] userIds)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE first_name LIKE :first AND "</span></span><br><span class="line">           + <span class="string">"last_name LIKE :last LIMIT 1"</span>)</span><br><span class="line">    <span class="function">User <span class="title">findByName</span><span class="params">(String first, String last)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertAll</span><span class="params">(User... users)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(User user)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>AppDatabase.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Database</span>(entities = &#123;User.class&#125;, version = <span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AppDatabase</span> <span class="keyword">extends</span> <span class="title">RoomDatabase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> UserDao <span class="title">userDao</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在创建上述文件后，使用以下代码获取创建的数据库实例:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AppDatabase db = Room.databaseBuilder(getApplicationContext(),</span><br><span class="line">        AppDatabase.class, <span class="string">"database-name"</span>).build();</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong>实例化AppDatabase对象时应遵循单例设计模式，因为每个RoomDatabase实例相当昂贵，并且很少需要访问多个实例。</p></blockquote><h1 id="使用Room实体定义数据"><a href="#使用Room实体定义数据" class="headerlink" title="使用Room实体定义数据"></a>使用Room实体定义数据</h1><hr><p>使用Room持久性库时，可以将相关字段集定义为实体。对于每个实体，在关联的数据库对象内创建一个表来保存这些项目。</p><p>默认情况下，Room会为实体中定义的每个字段创建一个列。 如果实体具有不想保留的字段，则可以使用@Ignore对其进行注释。 您必须通过Database类中的entities数组引用实体类。</p><p>以下代码片段显示了如何定义一个实体：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Ignore</span></span><br><span class="line">    Bitmap picture;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>To persist a field, Room must have access to it. You can make a field public, or you can provide a getter and setter for it. If you use getter and setter methods, keep in mind that they’re based on JavaBeans conventions in Room.<br>为了持久化一个字段，Room必须有权访问它。你可以申明字段为public或者为字段提供一个getter/setter方法。如果你使用getter/setter方法，请记住它们基于Room中的JavaBeans约定。</p><blockquote><p><strong>注意：</strong>实体可以有一个空的构造函数（如果相应的DAO类可以访问每个持久化字段）或者一个构造函数的参数包含与实体中字段类型和名称相匹配的类型和名称。Room也可以使用全部或部分构造函数，例如仅接收一些字段的构造函数。</p></blockquote><h2 id="使用主键"><a href="#使用主键" class="headerlink" title="使用主键"></a>使用主键</h2><hr><p>每个实体必须至少定义1个字段作为主键。 即使只有1个字段，仍然需要使用@PrimaryKey注释对字段进行注释。 此外，如果您希望Room将自动ID分配给实体，则可以设置@PrimaryKey的autoGenerate属性。 如果实体具有复合主键，则可以使用@Entity批注的primaryKeys属性，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(primaryKeys = &#123;<span class="string">"firstName"</span>, <span class="string">"lastName"</span>&#125;)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Ignore</span></span><br><span class="line">    Bitmap picture;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>默认情况下，Room使用类名作为数据库表名。如果您希望表具有不同的名称，请设置@Entity批注的tableName属性，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(tableName = <span class="string">"users"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>警告：</strong>SQLite中的表名是不区分大小写的。</p></blockquote><p>与tableName属性类似，Room使用字段名称作为数据库中的列名称。如果您希望列的名称不同，请将@ColumnInfo注释添加到字段中，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(tableName = <span class="string">"users"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"first_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"last_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Ignore</span></span><br><span class="line">    Bitmap picture;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="注释索引和唯一性"><a href="#注释索引和唯一性" class="headerlink" title="注释索引和唯一性"></a>注释索引和唯一性</h2><hr><p>根据您访问数据的方式，您可能需要对数据库中的某些字段进行索引以加快查询速度。 要向实体添加索引，请在@Entity批注中包含indices属性，列出要包含在索引或复合索引中的列的名称。 以下代码片段演示了此注释过程：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(indices = &#123;<span class="meta">@Index</span>(<span class="string">"name"</span>),</span><br><span class="line">        <span class="meta">@Index</span>(value = &#123;<span class="string">"last_name"</span>, <span class="string">"address"</span>&#125;)&#125;)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line">    <span class="keyword">public</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"last_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Ignore</span></span><br><span class="line">    Bitmap picture;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>有时，数据库中的某些字段或字段组必须是唯一的。 您可以通过将@Index注释的唯一属性设置为true来强制执行此唯一性属性。 以下代码示例可防止表中有两行包含firstName和lastName列的相同值集合：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(indices = &#123;<span class="meta">@Index</span>(value = &#123;<span class="string">"first_name"</span>, <span class="string">"last_name"</span>&#125;,</span><br><span class="line">        unique = <span class="keyword">true</span>)&#125;)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"first_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"last_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Ignore</span></span><br><span class="line">    Bitmap picture;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="定义对象之间的关系"><a href="#定义对象之间的关系" class="headerlink" title="定义对象之间的关系"></a>定义对象之间的关系</h2><hr><p>由于SQLite是一个关系数据库，您可以指定对象之间的关系。 尽管大多数对象关系映射库允许实体对象相互引用，但Room明确禁止这样做。 要了解此决定背后的技术推理，请参阅了解Room不允许使用对象引用的原因。</p><p>即使您不能使用直接关系，Room仍允许您定义实体之间的外键约束。</p><p>例如，如果有另一个名为Book的实体，则可以使用@ForeignKey注释来定义它与用户实体的关系，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span>(foreignKeys = <span class="meta">@ForeignKey</span>(entity = User.class,</span><br><span class="line">                                  parentColumns = <span class="string">"id"</span>,</span><br><span class="line">                                  childColumns = <span class="string">"user_id"</span>))</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> bookId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String title;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"user_id"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> userId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>外键非常强大，因为它们允许您指定更新引用实体时发生的情况。 例如，如果通过在@ForeignKey注释中包含onDelete = CASCADE删除用户的相应实例，则可以让SQLite删除用户的所有书籍。</p><blockquote><p><strong>注意：</strong>SQLite将@Insert（onConflict = REPLACE）作为一组REMOVE和REPLACE操作处理，而不是单个UPDATE操作。 这种替换冲突值的方法可能会影响您的外键约束。 有关更多详细信息，请参阅ON_CONFLICT子句的SQLite文档。</p></blockquote><h2 id="创建嵌套对象"><a href="#创建嵌套对象" class="headerlink" title="创建嵌套对象"></a>创建嵌套对象</h2><hr><p>有时，即使对象包含多个字段，您也希望在数据库逻辑中将实体或普通Java对象（POJO）表示为一个有凝聚力的整体。 在这些情况下，您可以使用@Embedded批注来表示您想要分解到表中的子字段的对象。 然后，您可以像查看其他单个列一样查询嵌入字段。</p><p>例如，我们的User类可以包含Address类型的字段，它表示名为street，city，state和postCode的字段的组合。 要在表中单独存储组合列，请在用@Embedded注释的User类中包含Address字段，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String street;</span><br><span class="line">    <span class="keyword">public</span> String state;</span><br><span class="line">    <span class="keyword">public</span> String city;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name = <span class="string">"post_code"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> postCode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PrimaryKey</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Embedded</span></span><br><span class="line">    <span class="keyword">public</span> Address address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>表示User对象的表包含具有以下名称的列：id，firstName，street，state，city和post_code。</p><blockquote><p><strong>注意：</strong>嵌入字段也可以包含其他嵌入字段。</p></blockquote><p>如果实体具有多个相同类型的嵌入字段，则可以通过设置prefix属性来保持每个列的唯一性。 然后Room会将提供的值添加到嵌入对象中每个列名的开头。</p><h1 id="使用Room-DAO访问数据"><a href="#使用Room-DAO访问数据" class="headerlink" title="使用Room DAO访问数据"></a>使用Room DAO访问数据</h1><hr><p>要使用Room持久性库访问应用程序的数据，您需要使用数据访问对象或DAO。这套Dao对象构成了Room的主要组件，因为每个DAO都包含提供对应用程序数据库的抽象访问的方法。</p><p>通过使用DAO类而不是查询构建器或直接查询访问数据库，可以分离数据库体系结构的不同组件。此外，DAO允许您在测试应用程序时轻松模拟数据库访问。</p><p>一个DAO可以是一个接口或一个抽象类。如果它是一个抽象类，它可以有一个构造函数，它将RoomDatabase作为其唯一参数。 Room在编译时创建每个DAO实现。</p><blockquote><p><strong>注意：</strong>除非已在构建器上调用allowMainThreadQueries()，否则房间不支持主线程上的数据库访问，因为它可能会长时间锁定UI。 异步查询 - 返回LiveData或Flowable实例的查询 - 免于此规则，因为它们在需要时异步地在后台线程上运行查询。</p></blockquote><h2 id="定义便捷方法"><a href="#定义便捷方法" class="headerlink" title="定义便捷方法"></a>定义便捷方法</h2><hr><p>There are multiple convenience queries that you can represent using a DAO class. This document includes several common examples.<br>你可以使用DAO类来表示多种方便的查询，本文档包含几个常见示例。</p><h3 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h3><p>当您创建DAO方法并使用@Insert注释它时，Room会生成一个实现，该实现将所有参数插入到单个事务中的数据库中。</p><p>以下代码片段显示了几个示例查询：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Insert</span>(onConflict = OnConflictStrategy.REPLACE)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertUsers</span><span class="params">(User... users)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertBothUsers</span><span class="params">(User user1, User user2)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertUsersAndFriends</span><span class="params">(User user, List&lt;User&gt; friends)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果@Insert方法只接收1个参数，则它可以返回一个long，这是插入项目的新rowId。如果参数是数组或集合，则应该返回<code>long []</code>或<code>List &lt;Long&gt;</code>。</p><p>有关更多详细信息，请参阅@Insert注释的参考文档以及rowid表的SQLite文档。</p><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>更新方法根据参数修改数据库内的实体。它使用与每个实体的主键匹配的查询。<br>以下代码片段演示了如何定义此方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Update</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateUsers</span><span class="params">(User... users)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>虽然不是必须的但你还是可以让此方法返回一个int值，以指示数据库中更新的行数。</p><h3 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h3><p>Delete方法根据参数从数据库中删除一组实体。它使用主键来查找要删除的实体。</p><p>以下代码片段演示了如何定义此方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Delete</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUsers</span><span class="params">(User... users)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>您可以让此方法返回一个int值，表示从数据库中删除的行数。</p><h2 id="查询信息"><a href="#查询信息" class="headerlink" title="查询信息"></a>查询信息</h2><hr><p>@Query是DAO类中使用的主要注释。 它允许您对数据库执行读/写操作。 在编译时验证每个@Query方法，因此如果查询出现问题，则会发生编译错误而不是运行时失败。</p><p>Room还会验证查询的返回值，以便如果返回对象中的字段名称与查询响应中的相应列名称不匹配，Room会通过以下两种方式之一提醒您：</p><ul><li>如果只有一些字段名称匹配，它会发出警告。</li><li>如果没有字段名称匹配，它会报告错误。</li></ul><h3 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user"</span>)</span><br><span class="line">    <span class="keyword">public</span> User[] loadAllUsers();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是一个非常简单的加载所有用户的查询。 在编译时，Room知道它正在查询用户表中的所有列。 如果查询包含语法错误，或者数据库中不存在用户表，则Room将在您的应用程序编译时显示错误并显示相应的消息。</p><h3 id="将参数传递给查询"><a href="#将参数传递给查询" class="headerlink" title="将参数传递给查询"></a>将参数传递给查询</h3><p>大多数情况下，您需要将参数传递到查询中以执行过滤操作，例如只显示比特定年龄更早的用户。 要完成此任务，请使用Room注释中的方法参数，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE age &gt; :minAge"</span>)</span><br><span class="line">    <span class="keyword">public</span> User[] loadAllUsersOlderThan(<span class="keyword">int</span> minAge);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在编译处理此查询时，Room会将minAge绑定参数与minAge方法参数相匹配。房间使用参数名称执行匹配。如果不匹配，则应用程序编译时会发生错误。</p><p>你还可以传递多个参数或在查询中多次引用它们，如以下代码片段所示<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE age BETWEEN :minAge AND :maxAge"</span>)</span><br><span class="line">    <span class="keyword">public</span> User[] loadAllUsersBetweenAges(<span class="keyword">int</span> minAge, <span class="keyword">int</span> maxAge);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE first_name LIKE :search "</span></span><br><span class="line">           + <span class="string">"OR last_name LIKE :search"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findUserWithName</span><span class="params">(String search)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="返回列的子集"><a href="#返回列的子集" class="headerlink" title="返回列的子集"></a>返回列的子集</h3><p>大多数情况下，您只需要获取实体的几个字段。 例如，您的用户界面可能只显示用户的名字和姓氏，而不是每个有关用户的细节。 通过仅提取出现在应用界面中的列，您可以节省宝贵的资源，并且查询更快完成。</p><p>Room允许您从查询中返回任何基于Java的对象，只要这些结果列可以映射到返回的对象中即可。 例如，您可以创建以下基于Java的POJO对象来获取用户的名字和姓氏：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NameTuple</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name=<span class="string">"first_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String firstName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo</span>(name=<span class="string">"last_name"</span>)</span><br><span class="line">    <span class="keyword">public</span> String lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>现在你可以在你的查询方法中使用这个POJO：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT first_name, last_name FROM user"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;NameTuple&gt; <span class="title">loadFullName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Room理解查询返回first_name和last_name列的值，并且这些值可以映射到NameTuple类的字段中。 因此，Room可以生成正确的代码。 如果查询返回太多的列或NameTuple类中不存在的列，则Room会显示警告。</p><blockquote><p><strong>注意：</strong>这些POJO也可以使用@Embedded注释。</p></blockquote><h3 id="传递一组参数"><a href="#传递一组参数" class="headerlink" title="传递一组参数"></a>传递一组参数</h3><p>你的某些查询可能要求您传递可变数量的参数，直到运行时才能知道确切数量的参数。 例如，您可能想要从一部分地区中检索有关所有用户的信息。 Room能够处理当一个参数代表一个集合并且在运行时根据提供的参数数量自动扩展它。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT first_name, last_name FROM user WHERE region IN (:regions)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;NameTuple&gt; <span class="title">loadUsersFromRegions</span><span class="params">(List&lt;String&gt; regions)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="可观察的查询"><a href="#可观察的查询" class="headerlink" title="可观察的查询"></a>可观察的查询</h3><p>在执行查询时，您经常希望应用的UI在数据更改时自动更新。 要实现这一点，请在查询方法描述中使用类型为LiveData的返回值。 当数据库更新时，会生成所有必要的代码以更新LiveData。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT first_name, last_name FROM user WHERE region IN (:regions)"</span>)</span><br><span class="line">    <span class="keyword">public</span> LiveData&lt;List&lt;User&gt;&gt; loadUsersFromRegionsSync(List&lt;String&gt; regions);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong>从版本1.0开始，Room使用查询中访问的表的列表来决定是否更新LiveData的实例。</p></blockquote><h2 id="使用RxJava进行反应查询"><a href="#使用RxJava进行反应查询" class="headerlink" title="使用RxJava进行反应查询"></a>使用RxJava进行反应查询</h2><p>Room还可以从您定义的查询中返回RxJava2 Publisher和Flowable对象。 要使用此功能，请将Room组中的<code>android.arch.persistence.room:rxjava2</code>构件添加到您的构建Gradle依赖项中。 然后，您可以返回RxJava2中定义的类型的对象，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * from user where id = :id LIMIT 1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Flowable&lt;User&gt; <span class="title">loadUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>有关更多详细信息，请参阅Google Developers Room和RxJava文章</p><h3 id="直接游标访问"><a href="#直接游标访问" class="headerlink" title="直接游标访问"></a>直接游标访问</h3><p>如果您的应用逻辑需要直接访问返回行，则可以从查询中返回Cursor对象，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE age &gt; :minAge LIMIT 5"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cursor <span class="title">loadRawUsersOlderThan</span><span class="params">(<span class="keyword">int</span> minAge)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>警告：</strong>非常不鼓励使用Cursor API，因为它不能保证行是否存在或行包含的值。 只有当您已经拥有需要游标并且无法轻松重构的代码时才使用此功能。</p></blockquote><h3 id="查询多个表"><a href="#查询多个表" class="headerlink" title="查询多个表"></a>查询多个表</h3><p>有些查询可能需要访问多个表来计算结果。 Room允许你写任何查询，所以你也可以连接表。 此外，如果响应是可观察数据类型（例如Flowable或LiveData），则Room会查看查询中引用的所有表以禁用。</p><p>以下代码片段显示了如何执行表连接来合并包含借用图书的用户的表和包含当前借阅图书的数据的表之间的信息：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM book "</span></span><br><span class="line">           + <span class="string">"INNER JOIN loan ON loan.book_id = book.id "</span></span><br><span class="line">           + <span class="string">"INNER JOIN user ON user.id = loan.user_id "</span></span><br><span class="line">           + <span class="string">"WHERE user.name LIKE :userName"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">findBooksBorrowedByNameSync</span><span class="params">(String userName)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>你也可以从这些查询中返回POJO。例如，您可以编写一个查询来加载用户及其宠物的名称，如下所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyDao</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Query</span>(<span class="string">"SELECT user.name AS userName, pet.name AS petName "</span></span><br><span class="line">          + <span class="string">"FROM user, pet "</span></span><br><span class="line">          + <span class="string">"WHERE user.id = pet.user_id"</span>)</span><br><span class="line">   <span class="keyword">public</span> LiveData&lt;List&lt;UserPet&gt;&gt; loadUserAndPetNames();</span><br><span class="line"></span><br><span class="line">   <span class="comment">// You can also define this class in a separate file, as long as you add the</span></span><br><span class="line">   <span class="comment">// "public" access modifier.</span></span><br><span class="line">   <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserPet</span> </span>&#123;</span><br><span class="line">       <span class="keyword">public</span> String userName;</span><br><span class="line">       <span class="keyword">public</span> String petName;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="迁移Room数据库"><a href="#迁移Room数据库" class="headerlink" title="迁移Room数据库"></a>迁移Room数据库</h1><hr><p>在你添加和更改应用中的功能时，您需要修改实体类以反映这些更改。 当用户更新到最新版本的应用程序时，您不希望它们丢失其所有现有数据，特别是当您无法从远程服务器恢复数据时。</p><p>Room持久化库允许您编写迁移类来以这种方式保存用户数据。 每个Migration类指定一个startVersion和endVersion。 在运行时，Room会运行每个Migration类的migrate()方法，并使用正确的顺序将数据库迁移到更高版本。</p><blockquote><p><strong>警告：</strong>如果您不提供必要的迁移，则Room将重建数据库，这意味着您将丢失数据库中的所有数据。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Room.databaseBuilder(getApplicationContext(), MyDb.class, <span class="string">"database-name"</span>)</span><br><span class="line">        .addMigrations(MIGRATION_1_2, MIGRATION_2_3).build();</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> Migration MIGRATION_1_2 = <span class="keyword">new</span> Migration(<span class="number">1</span>, <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">migrate</span><span class="params">(SupportSQLiteDatabase database)</span> </span>&#123;</span><br><span class="line">        database.execSQL(<span class="string">"CREATE TABLE `Fruit` (`id` INTEGER, "</span></span><br><span class="line">                + <span class="string">"`name` TEXT, PRIMARY KEY(`id`))"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> Migration MIGRATION_2_3 = <span class="keyword">new</span> Migration(<span class="number">2</span>, <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">migrate</span><span class="params">(SupportSQLiteDatabase database)</span> </span>&#123;</span><br><span class="line">        database.execSQL(<span class="string">"ALTER TABLE Book "</span></span><br><span class="line">                + <span class="string">" ADD COLUMN pub_year INTEGER"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>警告：</strong>要保持迁移逻辑按预期运行，请使用完整查询，而不是引用代表查询的常量。</p></blockquote><p>迁移过程完成后，Room会验证模式以确保迁移正确发生。如果Room找到问题，它会抛出一个包含不匹配信息的异常。</p><h2 id="测试迁移"><a href="#测试迁移" class="headerlink" title="测试迁移"></a>测试迁移</h2><p>迁移不是无关紧要的，写入失败可能会导致应用程序崩溃循环。 为了保持您的应用程序的稳定性，您应该事先测试您的迁移。 Room提供了一个测试Maven工件来协助这个测试过程。 但是，要使此工件正常工作，您需要导出数据库的模式。</p><h2 id="导出模式"><a href="#导出模式" class="headerlink" title="导出模式"></a>导出模式</h2><p>编译后，Room将数据库的模式信息导出到JSON文件中。要导出模式，请在build.gradle文件中设置room.schemaLocation注释处理器属性，如下面的代码片段所示：</p><p><strong>build.gradle</strong><br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        ...</span><br><span class="line">        javaCompileOptions &#123;</span><br><span class="line">            annotationProcessorOptions &#123;</span><br><span class="line">                arguments = [<span class="string">"room.schemaLocation"</span>:</span><br><span class="line">                             <span class="string">"$projectDir/schemas"</span>.toString()]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>你应该将导出的JSON文件（代表数据库的模式历史记录）存储在版本控制系统中，因为它允许Room为测试目的创建较旧版本的数据库。</p><p>要测试这些迁移，请将Room中的<code>android.arch.persistence.room：testing</code> Maven工件添加到测试依赖项中，然后将该模式位置添加为资产文件夹，如以下代码片段所示：</p><p><strong>build.gradle</strong><br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">sourceSets</span> &#123;</span><br><span class="line">        androidTest.assets.srcDirs += files(<span class="string">"$projectDir/schemas"</span>.toString())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>测试包提供了一个MigrationTestHelper类，它可以读取这些模式文件。它还实现JUnit4 TestRule接口，因此它可以管理已创建的数据库。</p><p>示例迁移测试出现在以下代码片段中：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(AndroidJUnit4.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MigrationTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TEST_DB = <span class="string">"migration-test"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Rule</span></span><br><span class="line">    <span class="keyword">public</span> MigrationTestHelper helper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MigrationTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        helper = <span class="keyword">new</span> MigrationTestHelper(InstrumentationRegistry.getInstrumentation(),</span><br><span class="line">                MigrationDb.class.getCanonicalName(),</span><br><span class="line">                <span class="keyword">new</span> FrameworkSQLiteOpenHelperFactory());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">migrate1To2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        SupportSQLiteDatabase db = helper.createDatabase(TEST_DB, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// db has schema version 1. insert some data using SQL queries.</span></span><br><span class="line">        <span class="comment">// You cannot use DAO classes because they expect the latest schema.</span></span><br><span class="line">        db.execSQL(...);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Prepare for the next version.</span></span><br><span class="line">        db.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Re-open the database with version 2 and provide</span></span><br><span class="line">        <span class="comment">// MIGRATION_1_2 as the migration process.</span></span><br><span class="line">        db = helper.runMigrationsAndValidate(TEST_DB, <span class="number">2</span>, <span class="keyword">true</span>, MIGRATION_1_2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// MigrationTestHelper automatically verifies the schema changes,</span></span><br><span class="line">        <span class="comment">// but you need to validate that the data was migrated properly.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="测试你的数据库"><a href="#测试你的数据库" class="headerlink" title="测试你的数据库"></a>测试你的数据库</h1><hr><p>使用Room持久化库创建数据库时，验证应用数据库和用户数据的稳定性非常重要。</p><p>有两种方法可以测试您的数据库:</p><ul><li>在Android设备上。</li><li>在您的主机开发机器上（不推荐）<blockquote><p><strong>注意：</strong>在为您的应用运行测试时，Room允许您创建DAO类的模拟实例。 这样，如果您不测试数据库本身，则不需要创建完整的数据库。因此你的DAO不会泄露你的数据库的任何细节。</p></blockquote><h2 id="在Android设备上测试"><a href="#在Android设备上测试" class="headerlink" title="在Android设备上测试"></a>在Android设备上测试</h2>测试数据库实现的推荐方法是编写在Android设备上运行的JUnit测试。由于这些测试不需要创建活动，它们应该比您的UI测试更快执行。</li></ul><p>在设置测试时，应该创建数据库的内存中版本，以使测试更加密封，如以下示例所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(AndroidJUnit4.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleEntityReadWriteTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao mUserDao;</span><br><span class="line">    <span class="keyword">private</span> TestDatabase mDb;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createDb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Context context = InstrumentationRegistry.getTargetContext();</span><br><span class="line">        mDb = Room.inMemoryDatabaseBuilder(context, TestDatabase.class).build();</span><br><span class="line">        mUserDao = mDb.getUserDao();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">closeDb</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        mDb.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writeUserAndReadInList</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        User user = TestUtil.createUser(<span class="number">3</span>);</span><br><span class="line">        user.setName(<span class="string">"george"</span>);</span><br><span class="line">        mUserDao.insert(user);</span><br><span class="line">        List&lt;User&gt; byName = mUserDao.findUsersByName(<span class="string">"george"</span>);</span><br><span class="line">        assertThat(byName.get(<span class="number">0</span>), equalTo(user));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="在你的主机上测试"><a href="#在你的主机上测试" class="headerlink" title="在你的主机上测试"></a>在你的主机上测试</h2><p>Room使用SQLite Support Library，它提供了与Android Framework类中的接口相匹配的接口。此支持允许您传递支持库的自定义实现以测试数据库查询。</p><blockquote><p><strong>注意：</strong>即使此设置允许您的测试运行速度非常快，也不建议这样做，因为设备上运行的SQLite版本以及您的用户设备可能与主机上的版本不匹配。</p></blockquote><h1 id="使用Room引用复杂数据"><a href="#使用Room引用复杂数据" class="headerlink" title="使用Room引用复杂数据"></a>使用Room引用复杂数据</h1><hr><p>Room提供了原始类型和盒装类型之间转换的功能，但不允许在实体之间进行对象引用。本文档介绍了如何使用类型转换器以及Room不支持对象引用。</p><h2 id="使用类型转换器"><a href="#使用类型转换器" class="headerlink" title="使用类型转换器"></a>使用类型转换器</h2><p>你的应用有时需要使用您想要存储在单个数据库列中的自定义数据类型。 要为自定义类型添加这种支持，您需要提供一个TypeConverter，它将自定义类转换为Room可以保留的已知类型。</p><p>例如，如果我们想要保存Date的实例，我们可以编写下面的TypeConverter来在数据库中存储等效的Unix时间戳：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Converters</span> </span>&#123;</span><br><span class="line">    <span class="meta">@TypeConverter</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">fromTimestamp</span><span class="params">(Long value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value == <span class="keyword">null</span> ? <span class="keyword">null</span> : <span class="keyword">new</span> Date(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TypeConverter</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title">dateToTimestamp</span><span class="params">(Date date)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> date == <span class="keyword">null</span> ? <span class="keyword">null</span> : date.getTime();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>前面的例子定义了2个函数，一个将Date对象转换为Long对象，另一个执行反转换，从Long到Date。 由于Room已经知道如何保存Long对象，因此它可以使用此转换器来保存Date类型的值。</p><p>接下来，将@TypeConverters注释添加到AppDatabase类，以便Room可以使用您为该AppDatabase中的每个实体和DAO定义的转换器：</p><p><strong>AppDatabase.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Database</span>(entities = &#123;User.class&#125;, version = <span class="number">1</span>)</span><br><span class="line"><span class="meta">@TypeConverters</span>(&#123;Converters.class&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AppDatabase</span> <span class="keyword">extends</span> <span class="title">RoomDatabase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> UserDao <span class="title">userDao</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>使用这些转换器，您可以在其他查​​询中使用自定义类型，就像使用基本类型一样，如以下代码片段所示：</p><p><strong>User.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>UserDao.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE birthday BETWEEN :from AND :to"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findUsersBornBetweenDates</span><span class="params">(Date from, Date to)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>你还可以将@TypeConverters限制到不同的作用域，包括单个实体，DAO和DAO方法。有关更多详细信息，请参阅@TypeConverters注释的参考文档。</p><h2 id="了解Room不允许使用对象引用的原因"><a href="#了解Room不允许使用对象引用的原因" class="headerlink" title="了解Room不允许使用对象引用的原因"></a>了解Room不允许使用对象引用的原因</h2><blockquote><p><strong>关键问题：</strong>房间不允许实体类之间的对象引用。相反，您必须明确请求您的应用需要的数据。</p></blockquote><p>将数据库中的关系映射到相应的对象模型是常见的做法，并且在服务器端运行良好。即使程序在访问时加载字段，服务器仍然运行良好。</p><p>但是，在客户端，这种延迟加载不可行，因为它通常发生在UI线程上，并且在UI线程中查询磁盘上的信息会造成严重的性能问题。 UI线程通常具有约16 ms的时间来计算和绘制活动的更新布局，因此即使查询只需要5 ms，仍然可能您的应用程序将耗尽时间来绘制框架，从而导致明显的视觉干扰。 如果有单独的事务并行运行，或者设备正在运行其他磁盘密集型任务，则查询可能需要更多时间才能完成。 但是，如果您不使用延迟加载，则您的应用会获取比需要更多的数据，从而导致内存消耗问题。</p><p>对象关系映射通常将这个决定留给开发人员，以便他们可以为他们的应用程序的用例做最好的事情。 开发人员通常决定在应用程序和用户界面之间共享模型。 然而，这种解决方案并不能很好地扩展，因为随着UI的变化，共享模型会产生一些难以让开发人员预测和调试的问题。</p><p>例如，考虑加载一个Book对象列表的UI，每个书都有一个Author对象。 您最初可能会将查询设计为使用延迟加载，以便Book的实例使用getAuthor（）方法返回作者。 第一次调用getAuthor（）调用将查询数据库。 过了一段时间，你意识到你也需要在应用程序的用户界面中显示作者姓名。 您可以轻松地添加方法调用，如以下代码片段所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorNameTextView.setText(user.getAuthor().getName());</span><br></pre></td></tr></table></figure></p><p>但是，这个看起来无害的更改会导致在主线程上查询Author表。</p><p>如果提前查询作者信息，如果不再需要数据，则很难更改数据的加载方式。 例如，如果您的应用程序的用户界面不再需要显示作者信息，则您的应用程序会有效地加载不再显示的数据，从而浪费宝贵的内存空间。 如果作者类引用另一个表（如Books），则应用程序的效率会进一步降低。</p><p>要使用Room同时引用多个实体，您需要创建一个包含每个实体的POJO，然后编写一个连接相应表的查询。 这种结构良好的模型与Room强大的查询验证功能相结合，可让您的应用在加载数据时消耗更少的资源，从而改善应用的性能和用户体验。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;利用Room保存数据到本地数据库&quot;&gt;&lt;a href=&quot;#利用Room保存数据到本地数据库&quot; class=&quot;headerlink&quot; title=&quot;利用Room保存数据到本地数据库&quot;&gt;&lt;/a&gt;利用Room保存数据到本地数据库&lt;/h1&gt;&lt;hr&gt;
&lt;p&gt;Room提供了一个
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(六)-保存状态</title>
    <link href="http://yoursite.com/2017/09/28/architecture-saving-states/"/>
    <id>http://yoursite.com/2017/09/28/architecture-saving-states/</id>
    <published>2017-09-28T11:33:31.000Z</published>
    <updated>2018-04-13T08:17:53.797Z</updated>
    
    <content type="html"><![CDATA[<p>保持UI状态是用户体验的关键部分。无论用户是旋转设备，或者用户重新启动应用程序，还是系统关闭应用程序，重要的是你的activity保持用户期望的状态。</p><p>如果要保存的UI数据是简单和轻量级的，那么您可以使用<code>onSaveInstanceState()</code>来保存您的状态数据。在需要保存复杂数据的情况下，可以组合地使用<code>ViewModel</code>对象、<code>onSaveInstanceState()</code>方法以及持久本地存储（database）。</p><p>本文将会讨论着两种方式。</p><h1 id="简单案例的处理：onSaveInstanceState"><a href="#简单案例的处理：onSaveInstanceState" class="headerlink" title="简单案例的处理：onSaveInstanceState()"></a>简单案例的处理：onSaveInstanceState()</h1><hr><p><code>onSaveInstanceState()</code>回调方法被设计用于存储相对少量的数据，以便轻松地重新加载UI控制器的状态，例如activity或fragment，如果系统停止，稍后重新创建控制器。这个回调方法是用来处理下面的两种情况:</p><ul><li>由于内存限制，当应用程序在后台时，系统会杀死应用程序的进程。</li><li>配置发生了改变，比如屏幕旋转，或者输入语言发生改变。</li></ul><p>正如这两种情况所示，<code>onSaveInstanceState()</code>在activity处于stop状态(但是没有被finished掉)的情况下被调用。例如,如果用户离开应用程序几个小时,系统就会回收相关过程的内存,这时系统就会调用<code>onSaveInstanceState()</code>来保存每个UI控制器的状态（UI控制器带有一个ID）。之后,当用户返回到应用程序时,系统使用保存状态来恢复activity。</p><blockquote><p><strong>注意：</strong>当用户显示地关闭activity或者其他情况下finish()被调用了，onSaveInstanceState() 是不会被调用。</p></blockquote><p>系统自动为您保存和恢复大量的UI相关的数据:<code>onSaveInstanceState()</code>的默认实现保存有关activity的视图层次结构的状态信息，比如<code>EditText</code>的文本或<code>ListView</code>的滚动位置。您还可以通过重写<code>onSaveInstanceState()</code>回调来将自定义数据保存到bundle中。如果您重写此方法以保存每一个实体未捕获的额外信息，那么您应该调用默认的实现，除非您已经准备好保存每个实体的状态（这个太难了，没必要）。</p><p><code>onSaveInstanceState()</code>不是设计用于存储大量数据，例如位图或复杂的数据结构，这些数据结构需要进行冗长的序列化或反序列化。如果序列化的对象是复杂的，序列号会消耗大量内存。在配置更改期间这个操作是发生在主线程上，如果时间过长，序列化会导致掉帧和虚拟机卡顿。因此，不要使用<code>onSaveInstanceState()</code>来处理复杂的数据结构，确保在本地持久化存储中存储这些结构;在创建数据的同时，最好存储数据，以减少丢失数据的机会。然后，使用<code>onSaveInstanceState()</code>存储每个对象的惟一id（数据库中一般一条数据都有对应的id）。</p><p>本文档的下一部分提供了关于保存更复杂数据更多的细节。</p><h1 id="处理更负责的状态：分而治之"><a href="#处理更负责的状态：分而治之" class="headerlink" title="处理更负责的状态：分而治之"></a>处理更负责的状态：分而治之</h1><hr><p>当您需要在activity结束时保留更复杂的数据结构时，您可以通过将操作划分为几种不同的存储机制，从而有效地保存和恢复UI状态。<br>一般来说离开一个activity有两种方式，每种方式都会导致不同的结果:</p><ul><li>用户完全关闭该activity。如果用户从屏幕上把activity滑出去，从当前activity跳转到另一个activity，或者退出该activity–比如按下返回键，则可以完全关闭activity。在这些情况下的假设是，用户已经永久地离开了activity，如果他们重新打开该activity，他们将期望从一个全新的状态开始。</li><li>用户旋转手机，或者把activity放在后台，然后再回来。例如，用户执行搜索，然后按home键或接听电话。当他们返回到搜索activity时，他们期望前面输入搜索关键字和搜索结果仍然在那里，和以前一样。</li></ul><p>为了在两种情况下实现复杂数据结构的行为，您可以使用本地持久性（database，sp）、<code>ViewModel</code>类和<code>onSaveInstanceState()</code>方法。每一种方法都存储在activity中使用的不同类型数据。</p><ul><li><strong>本地持久化:</strong>存储所有您不想丢失的数据，如果您打开并关闭该activity。<ul><li>示例:一组歌曲对象，可以包括音频文件和元数据。</li></ul></li><li><strong>ViewModel:</strong>存储在内存中的所有用来显示UI控制器相关的数据。<ul><li>示例:最近搜索的歌曲对象和最近的搜索查询。</li></ul></li><li><strong>onSaveInstanceState():</strong>如果系统停止，然后重新创建UI控制器的情况下，存储少量数据，用来轻松地重新加载activity状态。与其在这里存储复杂对象，还不如在本地存储中保存复杂对象，并在<code>onSaveInstanceState()</code>中存储这些对象的惟一ID。<ul><li>示例:存储最近的搜索查询。</li></ul></li></ul><p>作为一个例子，考虑一个允许你搜索你的歌曲库的activity。下面列举了如何处理不同的事件:<br>当用户添加歌曲（就是向数据库–Room插入该歌曲）时，<code>ViewModel</code>代表数据库中歌曲的列表（指的是<code>LiveData</code>对象）。如果新添加的歌曲应该显示在UI中，您还应该更新<code>ViewModel</code>对象中的数据（<code>LiveData</code>对象）以反映歌曲的添加。记住不要在主线程上执行数据库插入操作。<br>当用户搜索歌曲时，您从数据库中查询到的歌曲数据（用来显示在UI上面的歌曲列表数据）应该立即存储在<code>ViewModel</code>对象中（设置到LiveData对象）。您还应该将搜索查询本身保存在<code>ViewModel</code>对象中。<br>当活动进入后台时，系统调用<code>onSaveInstanceState()</code>。您应该在<code>onSaveInstanceState()</code>包中保存搜索查询。这少量的数据很容易保存。它还保存了将activity恢复到当前状态所需的所有信息。</p><h1 id="恢复复杂的状态：重新组装"><a href="#恢复复杂的状态：重新组装" class="headerlink" title="恢复复杂的状态：重新组装"></a>恢复复杂的状态：重新组装</h1><hr><p>当用户返回到activity，重新创建activity时，可能会有如下两种情况:</p><ul><li>activity在系统被停止后重新创建后。该activit将保存在<code>onSaveInstanceState()</code>的bundle中的查询关键字传递给<code>ViewModel</code>。<code>ViewModel</code>看到它没有该关键字的搜索结果缓存后就会使用给定的搜索关键字来加载数据库中的搜索结果。<strong><em>ViewModel被销毁了。</em></strong></li><li>该activity是在配置更改后重新创建的。activity将保存在onSaveInstanceState()的bundle对象中的搜索关键字传递给ViewModel，ViewMo发现已经缓存了搜索结果，所以决定不需要重新查询数据库。<strong><em>ViewModel在配置改变期间是不会被销毁的。</em></strong><blockquote><p><strong>注意：</strong>当一个activity最初创建时，onSaveInstanceState()的bundle是不包含数据，而ViewModel对象是空的。当您创建ViewModel对象时，传递一个空的搜索关键字，相当于告诉ViewModel对象不需要进行搜索结果数据加载。因此，activity从一个空状态开始。</p></blockquote></li></ul><p>根据您的activity实现，您可能根本不需要使用<code>onSaveInstanceState()</code>。例如，浏览器可能会把用户带回到他们在离开浏览器之前看到的网页。如果您的activ的行为是这样的，您可以放弃使用<code>onSaveInstanceState()</code>，并且将所有的内容持久化到本地。在歌曲-搜索示例中，这可能意味着在Shared Preferences中保存最近的查询。</p><p>此外，当您从一个intent打开的activity，当配置发生更改时或者系统恢复activity，bundle里面的数据都能被交付给activity。如果搜索查询作为intent的附加数据传入，您可以使用bundle来获取附加数据而不是使用<code>onSaveInstanceState()</code>bundle。</p><p>在这两种情况下，您仍然可以使用<code>ViewModel</code>来避免在配置发生更改时从数据库中重新加载数据的时间消耗。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;保持UI状态是用户体验的关键部分。无论用户是旋转设备，或者用户重新启动应用程序，还是系统关闭应用程序，重要的是你的activity保持用户期望的状态。&lt;/p&gt;
&lt;p&gt;如果要保存的UI数据是简单和轻量级的，那么您可以使用&lt;code&gt;onSaveInstanceState()&lt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(五)-ViewModel</title>
    <link href="http://yoursite.com/2017/09/25/architecture-viewmodel/"/>
    <id>http://yoursite.com/2017/09/25/architecture-viewmodel/</id>
    <published>2017-09-25T12:22:31.000Z</published>
    <updated>2018-04-12T09:25:08.379Z</updated>
    
    <content type="html"><![CDATA[<p><code>ViewModel</code>类被设计用来以 lifecycle 的方式存储和管理与ui相关的数据，<code>ViewModel</code>类允许数据在诸如屏幕旋转之类的配置更改中存活。</p><p>Android 框架管理 UI 控制器的生命周期，比如 activities 和 fragments。该框架可能会决定销毁或重新创建UI控制器，以响应完全超出您控制的某些用户操作或设备事件。</p><p>如果系统销毁或重新创建一个UI控制器，那么存储在其中的任何与UI相关的数据都将丢失。例如，你的应用可能会在其中一个activity中包含一个用户列表。当因为配置更改重新创建activity时，新activity必须重新获取用户列表。对于简单的数据，该活动可以使用 <code>onSaveInstanceState()</code>方法，并从<code>onCreate()</code> 中的 bundle 中恢复其数据，但是这种方法只适用于少量的可以序列化以及反序列化数据，而不是像用户列表或位图那样的潜在的大量数据。</p><p>另一个问题是 UI 控制器经常需要进行异步调用，这可能需要一些时间才能返回。<br>UI 控制器需要管理这些调用，并确保系统在被销毁后清除它们，以避免潜在的内存泄漏。这种管理需要大量的维护，并且在由于配置更改而重新创建对象的情况下，如果重新发出已经发过的调用(比如网络请求)，那么就会造成资源的浪费。</p><p>诸如 activities 和 fragments 之类的 UI 控制器主要是用来显示 UI 数据、对用户操作作出反应，或者处理操作系统通信（比如权限请求）。若要求 UI 控制器同时负责从数据库或网络加载数据，这会使类变得膨胀。给UI控制器分配过多的责任会导致一个单独的类，它试图独自处理应用程序的所有工作，而不是将工作委托给其他类。以这种方式为 UI 控制器分配过多的责任也会使测试变得更加困难。</p><p>将视图数据从 UI 控制器分离出来会使程序变得更容易维护、以及更高效。</p><h1 id="实现ViewModel"><a href="#实现ViewModel" class="headerlink" title="实现ViewModel"></a>实现ViewModel</h1><hr><p>架构组件为 UI 控制器提供 <code>ViewModel</code> 帮助类，它可以负责为 UI 准备数据。在配置更改期间，<code>ViewModel</code> 对象将自动保留，以便它们保存的数据在下一个 activity 或 fragment 实例创建时能够立即被使用。例如，如果您需要在应用程序中显示一个用户列表，请确保将责任分配给一个 <code>ViewModel</code>，而不是给一个 activity 或 fragment，如下面的示例代码所示:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MutableLiveData&lt;List&lt;User&gt;&gt; users;</span><br><span class="line">    <span class="keyword">public</span> LiveData&lt;List&lt;User&gt;&gt; getUsers() &#123;</span><br><span class="line">        <span class="keyword">if</span> (users == <span class="keyword">null</span>) &#123;</span><br><span class="line">            users = <span class="keyword">new</span> MutableLiveData&lt;List&lt;Users&gt;&gt;();</span><br><span class="line">            loadUsers();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Do an asynchronous operation to fetch users.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>你可以使用下面这种方式在activity中获取列表：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Create a ViewModel the first time the system calls an activity's onCreate() method.</span></span><br><span class="line">        <span class="comment">// Re-created activities receive the same MyViewModel instance created by the first activity.</span></span><br><span class="line"></span><br><span class="line">        MyViewModel model = ViewModelProviders.of(<span class="keyword">this</span>).get(MyViewModel.class);</span><br><span class="line">        model.getUsers().observe(<span class="keyword">this</span>, users -&gt; &#123;</span><br><span class="line">            <span class="comment">// update UI</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果该 activity 被重新创建，它将收到第一个 activity 创建的 MyViewModel 实例。当拥有 MyViewModel 对象的 activity 被 <code>finish()</code> 后，框架调用 <code>ViewModel</code> 对象的 <code>onCleared()</code> 方法，以便它可以清理资源。</p><blockquote><p><strong>注意</strong>:ViewModel永远不能引用view，Lifecycle或任何可能引用activity context的类。</p></blockquote><p><code>ViewModel</code> 对象的设计是为了能够比特定的视图（activity/fragment）或者 <code>LifecycleOwners</code> 实例存活得更久。因为它不知道视图和生命周期对象，所以您可以更容易地编写测试来覆盖 <code>ViewModel</code>。<code>ViewModel</code> 对象可以包含 <code>LifecycleObservers</code> ，例如 <code>LiveData</code> 对象。然而，<code>ViewModel</code> 对象永远不能观察 lifecycle-aware 可观察对象的变化，例如 LiveData 对象。如果 <code>ViewModel</code> 需要应用程序上下文，例如找到一个系统服务，它可以扩展 <code>AndroidViewModel</code> 类，并使用一个在接收 <code>Application</code> 参数的构造函数，因为 <code>Application</code> 类扩展了上下文。</p><h1 id="ViewModel的生命周期"><a href="#ViewModel的生命周期" class="headerlink" title="ViewModel的生命周期"></a>ViewModel的生命周期</h1><hr><p><code>ViewModel</code> 对象的作用范围是由在获得 <code>ViewModel</code> 时传递给 <code>ViewModelProvider</code> 的 Lifecycle 所决定的。ViewModel 会一直存在于内存中，直到限定它作用范围的 Lifecycle 彻底地消失: 如果 Lifecycle 是一个 activity 的情况下，当它 finish 时，如果是一个 fragment，那么是在被 detached 时。<br>图1演示了一个activity的各个生命周期状态，当它进行旋转的时候，然后结束。插图还显示了与相关活动生命周期相邻的 ViewModel 的生命周期。这个特殊的图说明了activity的状态。同样的基本状态也适用于fragment的生命周期。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/25/architecture-viewmodel/viewmodel-lifecycle.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><p>通常在系统调用 activity 对象的 onCreate() 方法里面 new 一个 ViewModel。系统可以在 activity 的整个生命周期中多次调用 onCreate()，例如在设备屏幕被旋转时。您第一次创建 ViewModel 将会一直存在，直到 activity 完成并销毁。</p><h1 id="在fragments间共享数据"><a href="#在fragments间共享数据" class="headerlink" title="在fragments间共享数据"></a>在fragments间共享数据</h1><hr><p>在一个 activity 中，两个或多个 fragment 通常都需要相互通信。设想一个主-细节 fragments 常见的场景（比如系统设置界面），其中有一个 fragment，用户从一个列表中选择一个项目，另一个 fragment 显示选项的详细内容。这个案例其实并不容易，因为两个 fragment 都需要定义一些接口描述，而两个 fragment 的拥有者 activity 必须将两者结合在一起。此外，两个 fragment 必须处理其中某一个 fragment 尚未创建或不可见的情况。<br>这个常见的痛点可以通过使用 <code>ViewModel</code> 对象来解决。这些 fragments 可以使用 activity scope（因为是同一个 activity，所以有同样的作用范围或者生命周期）来共享一个<code>ViewModel</code>，以处理这种通信，如下面的示例代码所示:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SharedViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MutableLiveData&lt;Item&gt; selected = <span class="keyword">new</span> MutableLiveData&lt;Item&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">(Item item)</span> </span>&#123;</span><br><span class="line">        selected.setValue(item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LiveData&lt;Item&gt; <span class="title">getSelected</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> selected;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MasterFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> SharedViewModel model;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);</span><br><span class="line">        itemSelector.setOnClickListener(item -&gt; &#123;</span><br><span class="line">            model.select(item);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        SharedViewModel model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);</span><br><span class="line">        model.getSelected().observe(<span class="keyword">this</span>, &#123; item -&gt;</span><br><span class="line">           <span class="comment">// Update the UI.</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>请注意，在获取 <code>ViewModelProvider</code> 时，两个 fragment 都使用<code>getActivity()</code>。因此，这两个片段都接收相同的 SharedViewModel 实例，该实例的作用域是 activity。<br>这种方式有一下好处：</p><ul><li>activity 不需要做任何事情，也不需要知道任何关于通信的信息。</li><li>除了 SharedViewModel 之外，fragment 不需要相互了解。如果其中一个 fragment 消失了，另一个则继续正常工作。</li><li>每个 fragment 都有自己的生命周期，并且不受另一个生命周期的影响。<br>如果一个详情 fragment 替换另一个详情 fragment ，UI 将继续工作，没有任何问题。</li></ul><h1 id="用ViewModel取代Loaders"><a href="#用ViewModel取代Loaders" class="headerlink" title="用ViewModel取代Loaders"></a>用ViewModel取代Loaders</h1><hr><p>像 <code>CursorLoader</code> 这样的 Loader 类经常用于保持应用程序的 UI 中显示的数据以及数据库同步。您可以使用 <code>ViewModel</code>，以及其他一些类来替换加载器。使用 ViewModel 将 UI 控制器与数据加载操作分离，这意味着可以减少类之间的强引用。<br>在使用加载器的一种常见方法中，应用程序可能使用一个 <code>CursorLoader</code> 来观察数据库的内容。<br>当数据库中的值发生变化时，加载器会自动触发数据的重新加载，并更新 UI:<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/25/architecture-viewmodel/viewmodel-loader.png" alt="t2" title="">                </div>                <div class="image-caption">t2</div>            </figure></p><p><font style="font-size: 14px">图2. 使用Loader加载数据</font><br><code>ViewModel</code> 使用 <code>Room</code> 和 <code>LiveData</code> 来替换加载器。<code>ViewModel</code> 确保数据在设备配置更改中得以保存。当数据库发生变化时，<code>Room</code> 会通知您的 <code>LiveData</code>，而 <code>LiveData</code> 则会用修改后的数据更新您的 UI 。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/25/architecture-viewmodel/viewmodel-replace-loader.png" alt="t3" title="">                </div>                <div class="image-caption">t3</div>            </figure></p><p><font style="font-size: 14px">图3. 使用ViewModel加载数据</font><br>这篇博客文章描述了如何使用一个带有 <code>LiveData</code> 的 <code>ViewModel</code> 来替换一个 <code>AsyncTaskLoader</code>。随着您的数据变得越来越复杂，您可能会选择一个单独的类来加载数据。<code>ViewModel</code> 的目的是封装 UI 控制器的数据，使数据能够在配置更改中存活。有关如何在配置更改中加载、持久化和管理数据的信息，请参见保存 UI 状态。Android 应用程序架构的指南建议构建一个 repository 类来处理这些函数。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;ViewModel&lt;/code&gt;类被设计用来以 lifecycle 的方式存储和管理与ui相关的数据，&lt;code&gt;ViewModel&lt;/code&gt;类允许数据在诸如屏幕旋转之类的配置更改中存活。&lt;/p&gt;
&lt;p&gt;Android 框架管理 UI 控制器的生命周期，比如
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
      <category term="ViewModel" scheme="http://yoursite.com/tags/ViewModel/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(四)-LiveData</title>
    <link href="http://yoursite.com/2017/09/21/architecture-livedata/"/>
    <id>http://yoursite.com/2017/09/21/architecture-livedata/</id>
    <published>2017-09-21T11:44:55.000Z</published>
    <updated>2018-04-11T08:50:36.064Z</updated>
    
    <content type="html"><![CDATA[<p><code>LiveData</code>是一个可被观察的数据持有类。不同于常规的observable，LiveData是生命周期敏感的，也就意味着它尊重其他组件的生命周期，比如activities, fragments，或者services。这种特性确保了LiveData只会在一个激活的生命周期状态下更新应用组件下的observers。</p><p>如果观察者的生命周期处于<code>STARTED</code>或<code>RESUMED</code>状态，则<code>LiveData</code>会将<code>Observer</code>类表示的观察者视为活动状态。<code>LiveData</code>只会通知那些处于活动状态的observers去更新。那些注册了观察<code>LiveData</code>但是处于非活动状态的observers不会收到改变的通知。</p><p>您可以注册与实现<code>LifecycleOwner</code>接口的对象配对的观察者。此关系允许在相应生命周期对象的状态更改为<code>DESTROYED</code>时删除观察者。这对于activities和fragments特别有用，因为它们可以安全地观察LiveData对象，而不必担心泄漏 - 在其生命周期被破坏时，activities和fragments会立即取消订阅。</p><h1 id="LiveData的优点"><a href="#LiveData的优点" class="headerlink" title="LiveData的优点"></a>LiveData的优点</h1><hr><p>使用LiveData能够带来如下优点：</p><ul><li><strong>确保你的UI和数据状态匹配</strong><br>LiveData遵循观察者模式。当生命周期状态发生变化时，LiveData会通知观察者对象。您可以整合更新UI的代码到这些观察者对象中。在每次应用程序数据改变时，你的观察者可以更新UI，而不是每次更新的时候更新UI。</li><li><strong>避免内存溢出</strong><br>观察者被绑定到Lifecycle对象，当他们的相关生命周期处于destroyed时，他们会自我清理。</li><li><strong>避免activities停止带来的崩溃问题</strong><br>如果观察者的生命周期是不活动的，比如在后台堆栈中的活动，那么它就不会接收到任何LiveData事件。</li><li><strong>避免过多的生命周期手动处理</strong><br>UI组件只观察相关数据而不会去停止或恢复观察。LiveData自动管理所有这些，因为它在observing期间能够意识到相关生命周期状态的变化。</li><li><strong>始终保持最新的数据</strong><br>如果生命周期变得不活跃，当再次激活的时候它会接收到最新数据。例如，后台的活动在返回到前台后接收最新的数据。</li><li><strong>正确的配置更改</strong><br>如果一个Activity或者Fragment由于类似设备旋转等配置更改造成重新创建，它会立马接收到最新的可用数据。</li><li><strong>共享资源</strong><br>您可以使用单例模式扩展LiveData对象，以封装系统服务，以便在应用程序中共享它们。LiveData对象连接到系统服务一次，然后任何需要该资源的观察者只需观察LiveData对象。</li></ul><h1 id="使用LiveData对象"><a href="#使用LiveData对象" class="headerlink" title="使用LiveData对象"></a>使用LiveData对象</h1><hr><p>通过以下步骤学习使用<code>LiveData</code>对象：</p><ol><li>创建一个LiveData实例来保存某种类型的数据。这通常在您的<code>ViewModel</code>类中完成。</li><li>创建一个Observer对象，该对象定义<code>onChanged()</code>方法，该方法控制在<code>LiveData</code>对象的数据更改时需要进行的操作。您通常在UI控制器中创建一个观察者对象，例如一个activity或者fragment。</li><li>使用<code>observe()</code>方法将<code>Observer</code>对象连接到LiveData对象。<code>observe()</code>方法使用一个<code>LifecycleOwner</code>对象。它将Observer对象订阅到LiveData对象，以便通知更改。您通常将Observer对象附加在UI控制器中，例如activity或fragment。<blockquote><p><strong>注意：</strong>您可以使用<code>observeForever(Observer)</code>方法在没有关联的<code>LifecycleOwner</code>对象的情况下注册一个观察者。在这种情况下，观察者被认为总是处于活动状态，因此总是被告知修改。您可以删除调用<code>removeObserver(Observer)</code>方法的这些observers。</p></blockquote></li></ol><p>当您更新LiveData对象中存储的值时，只要附加的LifecycleOwner对象处于活动状态，它就会触发所有已注册的observers。<br>LiveData允许UI控制器里面的observers订阅更新。当LiveData对象所持有的数据发生变化时，UI会自动响应更新。</p><h2 id="创建LiveData对象"><a href="#创建LiveData对象" class="headerlink" title="创建LiveData对象"></a>创建LiveData对象</h2><p>LiveData是一个可以用于任何数据的包装器，包括实现<code>Collections</code>的对象，如<code>List</code>。<code>LiveData</code>对象通常存储在<code>ViewModel</code>对象中，并通过getter方法进行访问，如所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NameViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a LiveData with a String</span></span><br><span class="line"><span class="keyword">private</span> MutableLiveData&lt;String&gt; mCurrentName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MutableLiveData&lt;String&gt; <span class="title">getCurrentName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mCurrentName == <span class="keyword">null</span>) &#123;</span><br><span class="line">            mCurrentName = <span class="keyword">new</span> MutableLiveData&lt;String&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mCurrentName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rest of the ViewModel...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>开始，LiveData对象中的数据没有设置。</p><blockquote><p><strong>注意：</strong>确保是在ViewModel对象中存储更新UI的LiveData对象，而不是activity或fragment，原因如下:</p><ul><li>避免膨胀的activities和fragments。现在，这些UI控制器负责显示数据，而不是保存数据状态。 </li><li>将LiveData实例与特定activity或fragment实例分离，可以确保LiveData对象在配置更改中（比如旋转屏幕）存活。</li></ul></blockquote><h2 id="观察LiveData对象"><a href="#观察LiveData对象" class="headerlink" title="观察LiveData对象"></a>观察LiveData对象</h2><p>在大多数情况下，应用程序组件的<code>onCreate()</code>方法是开始观察LiveData对象的正确位置，原因如下:</p><ul><li>为了确保系统不会从一个activity或者fragment的onResume()方法中发出冗余的调用。</li><li>为了确保activity或者fragment拥有数据，它可以在活动开始时显示。一旦应用程序组件处于活动状态，它就会从它所观察到的LiveData对象中接收到最新的值。只有在已被observed的LiveData对象被设置时才会出现这种情况</li></ul><p>一般来说，LiveData只在数据发生变化时才提供更新，而且只对活动的observers进行更新。这种行为的一个例外是，当观察者从一个非活动状态转变为一个活动状态时，也会收到一个更新。此外，如果观察者第二次从非活动状态变为活动状态，如果该值在上一次激活时发生了变化，它也只会收到一个更新。</p><p>以下示例代码说明了如何开始观察一个<code>LiveData</code>对象：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NameActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> NameViewModel mModel;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Other code to setup the activity...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the ViewModel.</span></span><br><span class="line">        mModel = ViewModelProviders.of(<span class="keyword">this</span>).get(NameViewModel.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create the observer which updates the UI.</span></span><br><span class="line">        <span class="keyword">final</span> Observer&lt;String&gt; nameObserver = <span class="keyword">new</span> Observer&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onChanged</span><span class="params">(@Nullable <span class="keyword">final</span> String newName)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// Update the UI, in this case, a TextView.</span></span><br><span class="line">                mNameTextView.setText(newName);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Observe the LiveData, passing in this activity as the LifecycleOwner and the observer.</span></span><br><span class="line">        mModel.getCurrentName().observe(<span class="keyword">this</span>, nameObserver);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在使用nameObserver作为参数传递了<code>observe()</code>方法后，<code>onChanged()</code>方法将会被立即调用，以提供当前在mCurrentName中存储的最新值。<br>如果LiveData对象没有给mCurrentName设置值，则不会调用<code>onChanged()</code>。</p><h2 id="更新LiveData对象"><a href="#更新LiveData对象" class="headerlink" title="更新LiveData对象"></a>更新LiveData对象</h2><p><code>LiveData</code>没有公开可用的方法来更新存储的数据。<code>MutableLiveData</code>类公开了<code>setValue(T)</code>和<code>postValue(T)</code>方法，如果需要编辑存储在<code>LiveData</code>对象中的值，则必须使用这些方法。通常在<code>ViewModel</code>中使用<code>MutableLiveData</code>，然后<code>ViewModel</code>只向observers公开不可变的LiveData对象。<br>在设置了observer关系之后，您可以更新<code>LiveData</code>对象的值，如下面的例子所示，当用户点击一个按钮时，它会触发所有观察者。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mButton.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        String anotherName = <span class="string">"John Doe"</span>;</span><br><span class="line">        mModel.getCurrentName().setValue(anotherName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>在示例中调用<code>setValue(T)</code>结果是<code>observers</code>调用了<code>onChanged()</code>方法，并且<code>onChanged()</code>方法参数的值为John Doe。这个示例显示了一个按钮按下，但是<code>setValue()</code>或<code>postValue()</code>可以被调用以各种原因更新mName，包括响应网络请求或数据库加载完成;<br>在所有情况下，对<code>setValue()</code>或<code>postValue()</code>的调用会触发观察者并更新UI。</p><blockquote><p><strong>注意：</strong>调用setValue(T)方法更新LiveData对象只能在主线程中。如果代码是在一个工作线程中执行的，那么您可以使用postValue(T)方法来更新LiveData对象。</p></blockquote><h2 id="结合Room使用LiveData"><a href="#结合Room使用LiveData" class="headerlink" title="结合Room使用LiveData"></a>结合Room使用LiveData</h2><p><code>Room</code>持久化库支持observable的查询，这些查询返回了LiveData对象。observable的查询是作为数据库访问对象(DAO)的一部分编写的。</p><p>当数据库被更新时，Room会生成所有必要的代码来更新LiveData对象。当需要时，生成的代码在后台线程上异步地运行查询。此模式有助于将数据显示在UI中，与存储在数据库中的数据保持同步。您可以在Room的持久化库指南中了解更多关于Room和dao的内容。</p><h1 id="扩展LiveData"><a href="#扩展LiveData" class="headerlink" title="扩展LiveData"></a>扩展LiveData</h1><hr><p>LiveData认为如果observer的生命周期处于STARTED或RESUMED状态，那么observer处于活动状态，以下示例代码说明了如何扩展LiveData类:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StockLiveData</span> <span class="keyword">extends</span> <span class="title">LiveData</span>&lt;<span class="title">BigDecimal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> StockManager mStockManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SimplePriceListener mListener = <span class="keyword">new</span> SimplePriceListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPriceChanged</span><span class="params">(BigDecimal price)</span> </span>&#123;</span><br><span class="line">            setValue(price);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StockLiveData</span><span class="params">(String symbol)</span> </span>&#123;</span><br><span class="line">        mStockManager = <span class="keyword">new</span> StockManager(symbol);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mStockManager.requestPriceUpdates(mListener);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onInactive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mStockManager.removeUpdates(mListener);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>本示例中的价格监听器的实现包括以下重要方法:</p><ul><li>当<code>LiveData</code>对象有一个活动的观察者时，就会调用<code>onActive()</code>方法。这意味着您需要从这个方法开始观察股票价格的更新。</li><li>当<code>LiveData</code>对象没有任何活动的观察者时，就会调用<code>onInactive()</code>方法。由于没有observers在监听，因此没有理由与StockManager服务保持联系。</li><li><code>setValue(T)</code>方法更新<code>LiveData</code>实例的值，并通知任何活动的观察者关于这个变化。<br>你可以像下面代码这样使用<code>StockLiveData</code>类：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityCreated</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onActivityCreated(savedInstanceState);</span><br><span class="line">        LiveData&lt;BigDecimal&gt; myPriceListener = ...;</span><br><span class="line">        myPriceListener.observe(<span class="keyword">this</span>, price -&gt; &#123;</span><br><span class="line">            <span class="comment">// Update the UI.</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>把fragment作为<code>observe()</code>方法的第一个参数，该fragment是<code>LifecycleOwner</code>的一个实例。这样做意味着这个观察者被绑定到fragment相关的Lifecycle对象，这意味着:</p><ul><li>如果Lifecycle对象不是处于活动状态，那么即使值发生变化，也不会调用观察者。</li><li>在Lifecycle对象被销毁后，observer也会被自动移除。<br>实际上LiveData对象是生命周期敏感的，这意味着您可以在多个activities、fragments和services之间共享它们。为了保持这个示例的简单性，您可以将LiveData类作为一个单例对象来实现:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StockLiveData</span> <span class="keyword">extends</span> <span class="title">LiveData</span>&lt;<span class="title">BigDecimal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> StockLiveData sInstance;</span><br><span class="line">    <span class="keyword">private</span> StockManager mStockManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SimplePriceListener mListener = <span class="keyword">new</span> SimplePriceListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPriceChanged</span><span class="params">(BigDecimal price)</span> </span>&#123;</span><br><span class="line">            setValue(price);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MainThread</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StockLiveData <span class="title">get</span><span class="params">(String symbol)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            sInstance = <span class="keyword">new</span> StockLiveData(symbol);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StockLiveData</span><span class="params">(String symbol)</span> </span>&#123;</span><br><span class="line">        mStockManager = <span class="keyword">new</span> StockManager(symbol);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mStockManager.requestPriceUpdates(mListener);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onInactive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mStockManager.removeUpdates(mListener);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>然后你可以再fragment中这样使用它：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityCreated</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        StockLiveData.get(getActivity()).observe(<span class="keyword">this</span>, price -&gt; &#123;</span><br><span class="line">            <span class="comment">// Update the UI.</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>多个fragments和activities可以观察到MyPriceListener实例。LiveData只有在其中一个或多个具有可见性和活动性时才连接到系统服务。</p><h1 id="转换LiveData"><a href="#转换LiveData" class="headerlink" title="转换LiveData"></a>转换LiveData</h1><hr><p>您可能想要对LiveData对象中存储的值进行更改，然后将其发送给observers，或者您可能需要根据另一个对象的值返回一个不同的LiveData实例。Lifecycle package提供了<code>Transformations</code>，其中包括支持这些场景的帮助方法。<br><strong>Transformations.map()</strong><br>对存储在<code>LiveData</code>对象中的值应用一个函数，并将结果传播到下游。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LiveData&lt;User&gt; userLiveData = ...;</span><br><span class="line">LiveData&lt;String&gt; userName = Transformations.map(userLiveData, user -&gt; &#123;</span><br><span class="line">    user.name + <span class="string">" "</span> + user.lastName</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p><strong>Transformations.switchMap()</strong><br>与<code>map()</code>类似，将一个函数应用到<code>LiveData</code>对象中存储的值，并将结果发送到下游。传递给<code>switchMap()</code>方法的函数(匿名内部类)必须返回一个<code>LiveData</code>对象，如下面的例子所示:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">  ...;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LiveData&lt;String&gt; userId = ...;</span><br><span class="line">LiveData&lt;User&gt; user = Transformations.switchMap(userId, id -&gt; getUser(id) );</span><br></pre></td></tr></table></figure></p><p>如果您认为在<code>ViewModel</code>对象中需要一个Lifecycle对象，那么<code>transformation</code>可能是更好的解决方案。例如，假设您有一个UI组件，该组件接受一个地址，并返回该地址的邮政编码。您可以为该组件实现简单的<code>ViewModel</code>，如下示例代码所示:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PostalCodeRepository repository;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(PostalCodeRepository repository)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.repository = repository;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> LiveData&lt;String&gt; <span class="title">getPostalCode</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// DON'T DO THIS</span></span><br><span class="line">       <span class="keyword">return</span> repository.getPostCode(address);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后，UI组件需要从先前的<code>LiveData</code>对象中取消注册，并在每次调用<code>getPostalCode()</code>时注册到新实例。此外，如果UI组件被重新创建，它将触发另一个<code>repository.getpostcode()</code>方法的调用，而不是使用以前的调用的结果。</p><p>相反的，您可以实现邮政编码查找作为地址输入的transformation，如下面的示例所示:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PostalCodeRepository repository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MutableLiveData&lt;String&gt; addressInput = <span class="keyword">new</span> MutableLiveData();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> LiveData&lt;String&gt; postalCode =</span><br><span class="line">            Transformations.switchMap(addressInput, (address) -&gt; &#123;</span><br><span class="line">                <span class="keyword">return</span> repository.getPostCode(address);</span><br><span class="line">             &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(PostalCodeRepository repository)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.repository = repository</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setInput</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">      addressInput.setValue(address);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在本例中，postalCode字段是public的和final的，因为字段永远不会更改。postalCode字段被定义为addressInput的转换，这意味着在addressInput发生变化时调用了<code>repository.getPostCode()</code>方法。上述的情况在有一个活动的观observer情况下是正确的，而如果<code>repository.getPostCode()</code>被调用时没有一个活动状态的observer，那么是不会发生计算，直到添加一个观察。<br>该机制允许应用程序的较低级别创建基于需求的延迟计算的LiveData对象。ViewModel对象可以很容易地获得对LiveData对象的引用，然后在它们上面定义transformation规则。</p><h2 id="创建新的转换"><a href="#创建新的转换" class="headerlink" title="创建新的转换"></a>创建新的转换</h2><p>在你的应用中有十几个不同的具体的transformation，但它们不是默认提供的。为了实现您自己的转换，您可以使用MediatorLiveData类，它listens其他的LiveData对象，并处理它们发出的事件。MediatorLiveData正确地将其状态传播到源LiveData对象。</p><h1 id="合并多个LiveData源"><a href="#合并多个LiveData源" class="headerlink" title="合并多个LiveData源"></a>合并多个LiveData源</h1><hr><p><code>MediatorLiveData</code>是<code>LiveData</code>的一个子类，它允许您合并多个LiveData数据源。当任何原始的LiveData数据源对象发生变化时，MediatorLiveData对象的观察者就会被触发。<br>例如，如果您的UI中有一个LiveData对象，可以从本地数据库或网络更新，那么您可以将以下源添加到MediatorLiveData对象:</p><ul><li>一个<code>LiveData</code>对象与数据库相关联。</li><li>一个<code>LiveData</code>对象与网络访问相关联。<br>您的activity只需要观察<code>MediatorLiveData</code>对象来接收来自两个源的更新。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;LiveData&lt;/code&gt;是一个可被观察的数据持有类。不同于常规的observable，LiveData是生命周期敏感的，也就意味着它尊重其他组件的生命周期，比如activities, fragments，或者services。这种特性确保了LiveData
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
      <category term="LiveData" scheme="http://yoursite.com/tags/LiveData/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(三)-生命周期</title>
    <link href="http://yoursite.com/2017/09/15/architecture-lifecycle/"/>
    <id>http://yoursite.com/2017/09/15/architecture-lifecycle/</id>
    <published>2017-09-15T07:14:25.000Z</published>
    <updated>2018-04-11T08:50:23.718Z</updated>
    
    <content type="html"><![CDATA[<p><code>android.arch.lifecycle</code>包提供了类和接口，使得你可以构建“生命周期敏感的组件”——自动适应当前<code>Fragment</code>或者<code>Activity</code>的组件。</p><blockquote><p><strong>注意：</strong>如何引入android.arch.lifecycle到你的安卓项目中，详见<a href="https://developer.android.com/topic/libraries/architecture/adding-components.html" target="_blank" rel="noopener">adding components to your project</a></p></blockquote><p>安卓框架所定义的大多数组件都有相关的生命周期。生命周期被操作系统或运行在你程序中的框架代码所管理。它们是安卓运行的核心，你的应用必须遵守它们，不要做触发内存泄漏或应用崩溃的事情。</p><p>想象一下我们有一个在屏幕上显示位置的Activity，一个常见的实现大概像这样：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLocationListener</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyLocationListener</span><span class="params">(Context context, Callback callback)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//连接至系统位置服务</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 从系统位置服务断开</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MyLocationListener myLocationListener;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        myLocationListener = <span class="keyword">new</span> MyLocationListener(<span class="keyword">this</span>, (location) -&gt; &#123;</span><br><span class="line">            <span class="comment">// 更新UI</span></span><br><span class="line">        &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        myLocationListener.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">        myLocationListener.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>即使这个样例代码看起来还不错，但是在实际的app中，由于拥有过多的<code>start()</code>和<code>stop</code>而导致<code>onStart()</code>和<code>onStop()</code>非常巨大。</p><p>此外，一些组件不能只在<code>onStart()</code>中开始。如果我们需要在开始位置观察前检查一些配置怎么办？某种情况下很可能检查会在Activity停止后结束，这意味着<code>myLocationListener.start()</code>会在<code>myLocationListener.stop()</code>之后调用，基本上会一直保持连接。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MyLocationListener myLocationListener;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        myLocationListener = <span class="keyword">new</span> MyLocationListener(<span class="keyword">this</span>, location -&gt; &#123;</span><br><span class="line">            <span class="comment">// 更新UI</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        Util.checkUserStatus(result -&gt; &#123;</span><br><span class="line">            <span class="comment">//如果回调在activity停止后调用呢？</span></span><br><span class="line">            <span class="keyword">if</span> (result) &#123;</span><br><span class="line">                myLocationListener.start();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">        myLocationListener.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>android.arch.lifecycle</code>包提供了类和接口，帮助你解决这个问题。</p><h1 id="Lifecycle类"><a href="#Lifecycle类" class="headerlink" title="Lifecycle类"></a>Lifecycle类</h1><hr><p><code>Lifecycle</code>是一个持有某组件生命周期状态的类，并允许其他对象观察这一状态。</p><p><code>Lifecycle</code>使用两个枚举类型来跟踪相关联组件的生命周期状态。</p><ul><li><strong>Event（事件）:</strong><br>生命周期事件由框架和Lifecycle类分发。这些事件映射到Activity和Fragment的回调。</li><li><strong>State（状态）：</strong><br>由Lifecycle对象所跟踪组件的当前状态。<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/15/architecture-lifecycle/lifecycle-states.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></li></ul><p>请将状态想成图的节点，将事件想成两个节点的边。 一个可以显示组件生命周期状态的类通过添加注解到其方法中来实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyObserver</span> <span class="keyword">implements</span> <span class="title">LifecycleObserver</span> </span>&#123;</span><br><span class="line">    <span class="meta">@OnLifecycleEvent</span>(Lifecycle.Event.ON_RESUME)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectListener</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnLifecycleEvent</span>(Lifecycle.Event.ON_PAUSE)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">disconnectListener</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myLifecycleOwner.getLifecycle().addObserver(<span class="keyword">new</span> MyObserver());</span><br></pre></td></tr></table></figure></p><h1 id="LifecycleOwner类"><a href="#LifecycleOwner类" class="headerlink" title="LifecycleOwner类"></a>LifecycleOwner类</h1><hr><p><code>LifecycleOwner</code>是一个单一方法的接口，表示该类拥有一个<code>Lifecycle</code>。它只有一个方法且必须实现：<code>getLifecycle()</code>。</p><p>这个接口从单独的类中抽象出生命周期的所有权，如<code>Fragment</code> 和<code>AppCompatActivity</code>，并且允许编写可与两者兼容的组件。任何自定义应用程序类可以实现<code>lifecycleowner</code>接口。</p><p>实现<code>lifecycleobserver</code>接口的组件可以很好与实现<code>LifecycleOwner</code>接口的对象工作，因为一个可以用来提供生命周期，而一个observer 可以监听它。</p><p>对于位置跟踪的例子，我们让<code>MyLocationListener</code> 类实现<code>LifecycleObserver</code> ， 然后把在<code>onCreate()</code>方法中把它和<code>Activity</code>的生命周期联系起来。这让<code>MyLocationListener</code> 类能自给自足，这意味着可以在<code>MyLocationListener</code> 类中来做对生命周期的响应逻辑而不是在<code>Activity</code>中来处理。让各个组件存储自己的逻辑使activities 和fragments 的逻辑更容易管理。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MyLocationListener myLocationListener;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        myLocationListener = <span class="keyword">new</span> MyLocationListener(<span class="keyword">this</span>, getLifecycle(), location -&gt; &#123;</span><br><span class="line">            <span class="comment">// update UI</span></span><br><span class="line">        &#125;);</span><br><span class="line">        Util.checkUserStatus(result -&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (result) &#123;</span><br><span class="line">                myLocationListener.enable();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>一个常见的用例是，如果<code>Lifecycle</code>并不处在良好的状态，则立刻避免调用具体的回调。</p><p>为了使这变的简单，<code>Lifecycle</code> 类允许其他对象查询当前的状态。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLocationListener</span> <span class="keyword">implements</span> <span class="title">LifecycleObserver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> enabled = <span class="keyword">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyLocationListener</span><span class="params">(Context context, Lifecycle lifecycle, Callback callback)</span> </span>&#123;</span><br><span class="line">       ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnLifecycleEvent</span>(Lifecycle.Event.ON_START)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (enabled) &#123;</span><br><span class="line">           <span class="comment">// connect</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        enabled = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (lifecycle.getCurrentState().isAtLeast(STARTED)) &#123;</span><br><span class="line">            <span class="comment">// connect if not connected</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnLifecycleEvent</span>(Lifecycle.Event.ON_STOP)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// disconnect if connected</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在这种实现下，我们的LocationListener类是完全生命周期敏感的，它可以做自己的初始化以及清除工作，而不需要被Activity管理。如果我们需要从另一个Activity或者Fragment使用自己的LocationListener，我们只需要初始化它就可以了。所有的搭建和拆除操作都由该类自己管理。</p><p>可以和Lifecycle一同工作的类被叫做生命周期敏感的组件。需要和Android生命周期共同工作的类是值得提倡变成生命周期敏感组件的。因此它们的客户端可以轻易地整合这些类，而不需要手动管理客户端的生命周期。</p><h2 id="实现自定义LifecycleOwner"><a href="#实现自定义LifecycleOwner" class="headerlink" title="实现自定义LifecycleOwner"></a>实现自定义LifecycleOwner</h2><p>Fragments 和 Activities在Support Library 26.1.0及以后的版本中实现了LifecycleOwner接口。<br>如果你有一个自定义的类，你想做一个LifecycleOwner，你可以用lifecycleregistry类，但你需要将事件转发到该自定义的类，如下面的代码示例所示：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">LifecycleOwner</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LifecycleRegistry mLifecycleRegistry;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        mLifecycleRegistry = <span class="keyword">new</span> LifecycleRegistry(<span class="keyword">this</span>);</span><br><span class="line">        mLifecycleRegistry.markState(Lifecycle.State.CREATED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        mLifecycleRegistry.markState(Lifecycle.State.STARTED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Lifecycle <span class="title">getLifecycle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mLifecycleRegistry;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>LiveData是一个生命周期敏感组件的样例。将LiveData和ViewModel一起使用可以更轻易地构建遵循Android生命周期的app。</p><h1 id="Lifecycles的最佳实践"><a href="#Lifecycles的最佳实践" class="headerlink" title="Lifecycles的最佳实践"></a>Lifecycles的最佳实践</h1><hr><ul><li>保持你的UI控制器（activities， fragments）体积尽可能地瘦小。它们不应该尝试获得自己的数据，使用ViewModel去做这件事，然后观察LiveData以响应数据的变化至UI。</li><li>尝试编写数据驱动的UI，你的UI控制器仅仅负责当数据变化时更新UI，或通知至ViewModel。</li><li>将你的数据逻辑放到你的ViewModel类中，ViewModel应该作为你的UI控制器和app剩余部分的连接器。然而请小心，ViewModel的职责并不在于获取数据（例如从网路中获取数据）。相反ViewModel应当调用正确的组件去做这件工作，之后给UI控制器提供结果。</li><li>使用数据绑定在你的视图和UI控制器之间维护一个清晰的接口。这允许你在activities/fragments更新最少的代码。如果你想在Java这样做，使用[Butter Knife]这样的类库来避免模板代码，以及拥有更好的抽象。</li><li>如果你的UI很复杂，考虑创建一个Presenter类来处理UI的修改。</li><li>永远不要在你的ViewModel中引用View或者Activity的Context。如果ViewModel在Activity之外存活，你的Activity将会被泄漏并且不能正确地被回收。</li></ul><h2 id="生命周期感知组件的使用示例"><a href="#生命周期感知组件的使用示例" class="headerlink" title="生命周期感知组件的使用示例"></a>生命周期感知组件的使用示例</h2><p>生命周期感知组件可以使你在各种情况下更容易管理的生命周期。举几个例子：</p><ul><li>在非精确和精确位置更新之间切换。使用生命周期感知组件，在应用程序是可见时使用精确的定位，当应用程序是切换到后台时切换到非精确定位模式。LiveData，生命周期感知组件，可以让你实现在位置发生变化时自动更新UI。</li><li>停止和启动视频缓冲。使用生命周期感知组件尽可能快地启动视频缓冲，一旦应用程序完全启动就可以播放了。您还可以使用生命周期感知组件在应用程序被销毁时终止缓冲。</li><li>启动和停止网络连接。使用生命周期感知组件，当应用程序位于前台启用网络数据的实时更新（流），也可以在应用程序进入后台时自动暂停。</li><li>暂停和恢复的动画图片。使用生命周期感知组件， 应用程序在后台时暂停动画，当切换到前台时又恢复。</li></ul><h2 id="处理停止事件"><a href="#处理停止事件" class="headerlink" title="处理停止事件"></a>处理停止事件</h2><p>当一个<code>Lifecycle</code>属于一个<code>AppCompatActivity</code>或者<code>Fragment</code>时，那么当 <code>AppCompatActivity</code>或者Fragment’s <code>onSaveInstanceState()</code>被调用的时候<code>Lifecycle</code>会切换到<code>CREATED</code>状态同时发送一个<code>ON_STOP</code>事件。</p><p>当一个<code>Fragment</code>或者<code>AppCompatActivity</code>调用<code>onSaveInstanceState()</code>保存状态，它假设UI是不会发生改变，直到<code>ON_START</code>被调用。也就是说在保存状态后尝试修改UI可能会导致应用程序的导航状态不一致。这也就是为什么如果APP在状态保存后运行一个<code>FragmentTransaction</code>，<code>FragmentManager</code>就会抛出一个异常。</p><p><code>LiveData</code>可以很方便的通过 observer’s相关联的Lifecycle是否处于STARTED状态来决定是否调用该observer的方式来避免上述情况。在幕后，是LiveData调用了它的isAtLeast()。</p><p>不幸的是，在<code>onSaveInstanceState()</code>之后调用AppCompatActivity的<code>onStop()</code>，这会产生一个空白时间段。在该空白时间段内UI是不允许改变的，但是Lifecycle还没有进入到CREATED的状态</p><p>为了防止这个问题，Lifecycle类在版本beta2中，在不发送事件的情况下标记状态为CREATED，这样任何检查当前状态的代码都会得到真正的值，直到系统调用<code>onStop()</code>后才开始发送事件。</p><p>不幸的是，上面这种解决办法有两个问题：</p><ul><li>在API级别23和更低的情况下，Android系统实际上保存了一个Activity的状态，即使它被另一个Activity覆盖了部分。换句话说，Android系统调用onsaveinstancestate()但不一定需要调用onstop()。这将创建一个潜在的长间隔，在这种情况下，观察者仍然认为lifecycle是活动的，即使它的UI处于不能修改状态。</li><li>任何类，想要暴露类似于livedata类的行为，必须实现beta2或者更低版本Lifecycle提供的解决方法。<blockquote><p><strong>注意：</strong>为了使流程更简单和提供与旧版本的兼容性，从版本1.0.0-rc1，当onsaveinstancestate()被调用时，Lifecycle对象标记为CREATED并且发送ON_STOP事件，无需等待onstop()方法的调用。这不太可能影响您的代码，但这是您需要注意的，因为它与API级别26或者更低的Activity类中的调用顺序不匹配。</p></blockquote></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;android.arch.lifecycle&lt;/code&gt;包提供了类和接口，使得你可以构建“生命周期敏感的组件”——自动适应当前&lt;code&gt;Fragment&lt;/code&gt;或者&lt;code&gt;Activity&lt;/code&gt;的组件。&lt;/p&gt;
&lt;blockquote&gt;
&lt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
      <category term="Lifecycle" scheme="http://yoursite.com/tags/Lifecycle/"/>
    
  </entry>
  
  <entry>
    <title>Android 8.0 行为变更</title>
    <link href="http://yoursite.com/2017/09/15/android-8-0-changes/"/>
    <id>http://yoursite.com/2017/09/15/android-8-0-changes/</id>
    <published>2017-09-15T03:02:23.000Z</published>
    <updated>2018-04-10T01:33:13.438Z</updated>
    
    <content type="html"><![CDATA[<p>Android 8.0 除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。</p><p>其中大部分变更会影响所有应用，而不论应用针对的是何种版本的 Android。不过，有几项变更仅影响针对 Android 8.0 的应用。为清楚起见，本页面分为两个部分：<strong>针对所有 API 级别的应用</strong>和<strong>针对 Android 8.0 的应用</strong>。</p><h1 id="针对所有-API-级别的应用"><a href="#针对所有-API-级别的应用" class="headerlink" title="针对所有 API 级别的应用"></a>针对所有 API 级别的应用</h1><hr><p>这些行为变更适用于 在 Android 8.0 平台上运行的 所有应用，无论这些应用是针对哪个 API 级别构建。所有开发者都应查看这些变更，并修改其应用以正确支持这些变更（如果适用）。</p><h2 id="后台执行限制"><a href="#后台执行限制" class="headerlink" title="后台执行限制"></a>后台执行限制</h2><p>Android 8.0 为提高电池续航时间而引入的变更之一是，当您的应用进入<strong>已缓存</strong>状态时，如果没有活动的<strong>组件</strong>，系统将解除应用具有的所有唤醒锁。</p><p>此外，为提高设备性能，系统会限制未在前台运行的应用的某些行为。具体而言：</p><ul><li>现在，在后台运行的应用对后台服务的访问受到限制。</li><li>应用无法使用其清单注册大部分隐式广播（即，并非专门针对此应用的广播）。</li></ul><p>默认情况下，这些限制仅适用于针对 O 的应用。不过，用户可以从 Settings 屏幕为任意应用启用这些限制，即使应用并不是以 O 为目标平台。<br>Android 8.0 还对特定函数做出了以下变更：</p><ul><li>如果针对 Android 8.0 的应用尝试在不允许其创建后台服务的情况下使用 <code>startService()</code> 函数，则该函数将引发一个 <code>IllegalStateException</code>。</li><li>新的 <code>Context.startForegroundService()</code> 函数将启动一个前台服务。现在，即使应用在后台运行，系统也允许其调用 <code>Context.startForegroundService()</code>。不过，应用必须在创建服务后的五秒内调用该服务的 <code>startForeground()</code> 函数。<br>如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/background.html" target="_blank" rel="noopener">后台执行限制</a>。</li></ul><h2 id="Android-后台位置限制"><a href="#Android-后台位置限制" class="headerlink" title="Android 后台位置限制"></a>Android 后台位置限制</h2><p>为节约电池电量、保持良好的用户体验和确保系统健康运行，在运行 Android 8.0 的设备上使用后台应用时，降低了后台应用接收位置更新的频率。此行为变更会影响包括 Google Play 服务在内的所有接收位置更新的应用。</p><p>此类变更会影响以下 API：</p><ul><li>Fused Location Provider (FLP)</li><li>Geofencing</li><li>GNSS Measurements</li><li>Location Manager</li><li>Wi-Fi Manager</li></ul><p>为确保您的应用按预期方式运行，请完成以下步骤：</p><ul><li>查看您的应用的逻辑，并确保您使用的是最新的位置 API。</li><li>测试您的应用是否在每个用例中都表现出预期行为。</li><li>考虑使用 Fused Location Provider (FLP) 或地理围栏来处理依赖于用户当前位置的用例。</li></ul><p>如需了解此类变更的详细信息，请参阅后台位置限制。</p><h2 id="应用快捷键"><a href="#应用快捷键" class="headerlink" title="应用快捷键"></a>应用快捷键</h2><p>Android 8.0 对应用快捷方式做出了以下变更：</p><ul><li><code>com.android.launcher.action.INSTALL_SHORTCUT</code> 广播不再会对您的应用有任何影响，因为它现在是私有的隐式广播。相反，您应使用 <code>ShortcutManager</code> 类中的 <code>requestPinShortcut()</code> 函数创建应用快捷方式。</li><li>现在，<code>ACTION_CREATE_SHORTCUT</code> Intent 可以创建可使用 <code>ShortcutManager</code> 类进行管理的应用快捷方式。此 Intent 还可以创建不与 <code>ShortcutManager</code> 交互的旧版启动器快捷方式。在以前，此 Intent 只能创建旧版启动器快捷方式。</li><li>现在，使用 <code>requestPinShortcut()</code> 创建的快捷方式和在处理 <code>ACTION_CREATE_SHORTCUT Intent</code> 的操作组件中创建的快捷方式均已转换为功能齐全的应用快捷方式。因此，应用现在可以使用 ShortcutManager 中的函数来更新这些快捷方式。</li><li>旧版快捷方式仍然保留了它们在旧版 Android 中的功能，但您必须在应用中手动将它们转换成应用快捷方式。</li></ul><p>如需了解有关应用快捷方式变更的更多信息，请参阅<a href="https://developer.android.com/preview/features/pinning-shortcuts-widgets.html" target="_blank" rel="noopener">固定快捷方式和微件预览功能指南</a>。</p><h2 id="语言区域和国际化"><a href="#语言区域和国际化" class="headerlink" title="语言区域和国际化"></a>语言区域和国际化</h2><p>Android 7.0（API 级别 24）引入能指定默认类别语言区域的概念，但是某些 API 在本应使用默认 <code>DISPLAY</code> 类别语言区域时，仍然使用不带参数的通用 <code>Locale.getDefault()</code> 函数。现在，在 Android 8.0 中，以下函数使用 <code>Locale.getDefault(Category.DISPLAY)</code> 来代替 <code>Locale.getDefault()</code>：</p><ul><li><code>Currency.getDisplayName()</code></li><li><code>Currency.getSymbol()</code></li><li><code>Locale.getDisplayScript()</code></li></ul><p>当为 <code>Locale</code> 参数指定的 <code>displayScript</code> 值不可用时，<code>Locale.getDisplayScript(Locale)</code> 同样回退到 <code>Locale.getDefault()</code>。</p><p>与语言区域和国际化有关的其他变更如下：</p><ul><li>调用 <code>Currency.getDisplayName(null)</code> 会引发 <code>NullPointerException</code>，以与文档规定的行为保持一致。</li><li><p>时区名称的分析方法发生变化。之前，Android 设备使用在启动时取样的系统时钟值，缓存用于分析日期时间的时区名称。因此，如果在启动时或其他较为罕见的情况下系统时钟出错，可能对分析产生负面影响。<br>现在，一般情况下，在分析时区名称时分析逻辑将使用 ICU 和当前系统时钟值。此项变更可提供更加准确的结果，如果您的应用使用 <code>SimpleDateFormat</code> 等类，此结果可能与之前的 Android 版本不同。</p></li><li><p>Android 8.0 将 ICU 的版本更新至版本 58。</p></li></ul><h2 id="提醒窗口"><a href="#提醒窗口" class="headerlink" title="提醒窗口"></a>提醒窗口</h2><p>如果应用使用 <code>SYSTEM_ALERT_WINDOW</code> 权限并且尝试使用以下窗口类型之一来在其他应用和系统窗口上方显示提醒窗口：</p><ul><li><code>TYPE_PHONE</code></li><li><code>TYPE_PRIORITY_PHONE</code></li><li><code>TYPE_SYSTEM_ALERT</code></li><li><code>TYPE_SYSTEM_OVERLAY</code></li><li><code>TYPE_SYSTEM_ERROR</code></li></ul><p>…那么，这些窗口将始终显示在使用 <code>TYPE_APPLICATION_OVERLAY</code> 窗口类型的窗口下方。如果应用针对的是 Android 8.0，则应用会使用 <code>TYPE_APPLICATION_OVERLAY</code> 窗口类型来显示提醒窗口。</p><p>如需了解详细信息，请参阅针对 Android 8.0 的应用的行为变更内的<a href="https://developer.android.com/about/versions/oreo/android-8.0-changes.html#cwt" target="_blank" rel="noopener">提醒窗口的常用窗口类型</a>部分。</p><h2 id="输入和导航"><a href="#输入和导航" class="headerlink" title="输入和导航"></a>输入和导航</h2><p>随着 Android 应用出现在 Chrome 操作系统和平板电脑等其他大尺寸设备上，我们看到，用户在 Android 应用中又重新开始使用键盘导航。在 Android 8.0 中，我们又再次使用键盘作为导航输入设备，从而为基于箭头键和 Tab 键的导航构建了一种更可靠并且可预测的模型。</p><p>尤其要指出的是，我们对元素焦点行为做出以下变更：</p><ul><li><p>现在，如果您没有为 View 对象（前景或背景图片）定义任何焦点状态颜色，框架会为 View 设置默认的焦点突出显示颜色。此焦点突出显示标志是基于操作组件主题背景的涟漪图片。<br>如果您不希望 View 对象在接收焦点时使用此默认突出显示标志，请在包含 View 的布局 XML 文件中将 android:defaultFocusHighlightEnabled 属性设置为 false，或者将 false 传递至应用界面逻辑中的 setDefaultFocusHighlightEnabled()。</p></li><li><p>要测试键盘输入对界面元素焦点有何影响，您可以启用 <strong>Drawing &gt; Show layout bounds</strong> 开发者选项。在 Android 8.0 中，此选项在当前具有焦点的元素上显示一个“X”图标。</p></li></ul><p>另外，Android 8.0 中的所有工具栏元素自动组成<a href="https://developer.android.com/preview/api-overview.html#kbnc" target="_blank" rel="noopener">键盘导航键区</a>用户可以更加轻松地导航进入和离开每个作为一个整体的工具栏。</p><p>如需详细了解如何在您的应用中改善对键盘导航的支持，请阅读<a href="https://developer.android.com/training/keyboard-input/navigation.html" target="_blank" rel="noopener">支持键盘导航</a>南。</p><h2 id="网页表单自动填充"><a href="#网页表单自动填充" class="headerlink" title="网页表单自动填充"></a>网页表单自动填充</h2><p>现在，Android 自动填充框架提供对自动填充功能的内置支持，对于安装到运行 Android 8.0 的设备上的应用，与 WebView 对象相关的下列函数已经发生变化：</p><p><strong>WebSettings</strong></p><ul><li><code>getSaveFormData()</code> 函数现在返回 false。之前，此函数返回 true。</li><li>调用 <code>setSaveFormData()</code> 不再有任何效果。<br><strong>WebViewDatabase</strong></li><li>调用 <code>clearFormData()</code> 不再有任何效果。</li><li><code>hasFormData()</code> 函数现在返回 false。之前，当表单包含数据时，此函数返回 true。</li></ul><h2 id="无障碍功能"><a href="#无障碍功能" class="headerlink" title="无障碍功能"></a>无障碍功能</h2><p>现在，无障碍服务可识别应用的 <code>TextView</code> 对象内部的所有 <code>ClickableSpan</code> 实例。</p><p>如需了解有关如何让您的应用更便于访问的更多信息，请参阅<a href="https://developer.android.com/guide/topics/ui/accessibility/index.html" target="_blank" rel="noopener">无障碍功能</a>。</p><h2 id="网络连接和-HTTP-S-连接"><a href="#网络连接和-HTTP-S-连接" class="headerlink" title="网络连接和 HTTP(S) 连接"></a>网络连接和 HTTP(S) 连接</h2><p>Android 8.0 对网络连接和 HTTP(S) 连接行为做出了以下变更：</p><ul><li>无正文的 OPTIONS 请求具有 Content-Length: 0 标头。之前，这些请求没有 Content-Length 标头。</li><li>HttpURLConnection 在包含斜线的主机或颁发机构名称后面附加一条斜线，使包含空路径的网址规范化。例如，它将 <a href="http://example.com" target="_blank" rel="noopener">http://example.com</a> 转化为 <a href="http://example.com/。" target="_blank" rel="noopener">http://example.com/。</a></li><li>通过 ProxySelector.setDefault() 设置的自定义代理选择器仅针对所请求的网址（架构、主机和端口）。因此，仅可根据这些值选择代理。传递至自定义代理选择器的网址不包含所请求的网址的路径、查询参数或片段。</li><li><p>URI 不能包含空白标签。<br>之前，平台支持一种权宜方法，即允许主机名称中包含空白标签，但这是对 URI 的非法使用。此权宜方法只是为了确保与旧版 libcore 兼容。开发者如果对 API 使用不当，将会看到一条 ADB 消息：“URI example..com 的主机名包含空白标签。此格式不正确，将不被未来的 Android 版本所接受。”Android 8.0 废除了此权宜方法；系统对格式错误的 URI 会返回 null。</p></li><li><p>Android 8.0 在实现 HttpsURLConnection 时不会执行不安全的 TLS/SSL 协议版本回退。</p></li><li><p>对隧道 HTTP(S) 连接处理进行了如下变更：</p><ul><li>在通过连接建立隧道 HTTP(S) 连接时，系统会在 Host 行中正确放置端口号 (:443) 并将此信息发送至中间服务器。之前，端口号仅出现在 CONNECT 行中。</li><li>系统不再将隧道连接请求中的 user-agent 和 proxy-authorization 标头发送至代理服务器。<br>在建立隧道时，系统不再将隧道 Http(s)URLConnection 中的 proxy-authorization 标头发送至代理。相反，由系统生成 proxy-authorization 标头，在代理响应初始请求发送 HTTP 407 后将其发送至此代理。<br>同样地，系统不再将 user-agent 标头由隧道连接请求复制到建立隧道的代理请求。相反，库为此请求生成 user-agent 标头。</li></ul></li><li><p>如果之前执行的 connect() 函数失败，·send(java.net.DatagramPacket)· 函数将会引发 SocketException。</p><ul><li>如果存在内部错误，·DatagramSocket.connect()· 会引发 pendingSocketException。对于 Android 8.0 之前的版本，即使 send() 调用成功，后续的 recv() 调用也会引发 SocketException。为确保一致性，现在这两个调用均会引发 SocketException。</li></ul></li><li>在回退到 TCP Echo 协议之前，InetAddress.isReachable() 会尝试执行 ICMP。<ul><li>对于某些屏蔽端口 7 (TCP Echo) 的主机（例如 google.com），如果它们接受 ICMP Echo 协议，现在也许能够访问它们。</li><li>对于确实无法访问的主机，此项变更意味着调用需要两倍的时间才能返回结果。</li></ul></li></ul><h2 id="蓝牙"><a href="#蓝牙" class="headerlink" title="蓝牙"></a>蓝牙</h2><p>Android 8.0 对 <code>ScanRecord.getBytes()</code> 函数检索的数据长度做出以下变更：</p><ul><li><code>getBytes()</code> 函数对于所接收的字节数不作任何假定。因此，应用不应受所返回的任何最小或最大字节数的影响。相反，应用应当计算所返回数组的长度。</li><li>兼容蓝牙 5 的设备返回的数据长度可能会超出之前最大约 60 个字节的限制。</li><li>如果远程设备未提供扫描响应，则也可能返回少于 60 个字节的数据。</li></ul><h2 id="无缝连接"><a href="#无缝连接" class="headerlink" title="无缝连接"></a>无缝连接</h2><p>Android 8.0 对 WLAN 设置进行了多项改进，这样可以更轻松地选择能够提供最佳用户体验的 WLAN 网络。具体变更包括：</p><ul><li>稳定性和可靠性改进。</li><li>更加直观的界面。</li><li>一个合并的 WLAN 首选项菜单。</li><li>当附近存在优质的已保存网络时在兼容设备上自动激活 WLAN。</li></ul><h2 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h2><p>Android 8.0 包含以下与安全性有关的变更：</p><ul><li>此平台不再支持 SSLv3。</li><li>在与未正确实现 TLS 协议版本协商的服务器建立 HTTPS 连接时，<code>HttpsURLConnection</code> 不再尝试回退到之前的 TLS 协议版本并重试的权宜方法。</li><li>Android 8.0 将使用安全计算 (SECCOMP) 过滤器来过滤所有应用。允许的系统调用列表仅限于通过 bionic 公开的系统调用。此外，还提供了其他几个后向兼容的系统调用，但我们不建议使用这些系统调用。</li><li>现在，您的应用的 <code>WebView</code> 对象将在多进程模式下运行。网页内容在独立的进程中处理，此进程与包含应用的进程相隔离，以提高安全性。</li><li>您无法再假定 APK 驻留在名称以 -1 或 -2 结尾的目录中。应用应使用 <code>sourceDir</code> 获取此目录，而不能直接使用目录格式。</li><li>如需了解与使用原生库有关的安全性增强的信息，请参阅<a href="https://developer.android.com/about/versions/oreo/android-8.0-changes.html#nl" target="_blank" rel="noopener">原生库</a>。</li></ul><p>有关提升应用安全性的其他准则，请参阅<a href="https://developer.android.com/topic/security/index.html" target="_blank" rel="noopener">面向 Android 开发者的安全性</a>。</p><h2 id="隐私性"><a href="#隐私性" class="headerlink" title="隐私性"></a>隐私性</h2><p>Android 8.0 对平台做出了以下与隐私性有关的变更。</p><ul><li><p>现在，平台改变了标识符的处理方式。</p><ul><li>对于在 OTA 之前安装到某个版本 Android 8.0（API 级别 26）的应用，除非在 OTA 后卸载并重新安装，否则 <code>ANDROID_ID</code> 的值将保持不变。要在 OTA 后在卸载期间保留值，开发者可以使用<code>密钥/值备份</code>关联旧值和新值。</li><li>对于安装在运行 Android 8.0 的设备上的应用，<code>ANDROID_ID</code> 的值现在将根据应用签署密钥和用户确定作用域。应用签署密钥、用户和设备的每个组合都具有唯一的 <code>ANDROID_ID</code> 值。因此，在相同设备上运行但具有不同签署密钥的应用将不会再看到相同的 Android ID（即使对于同一用户来说，也是如此）。</li><li>只要签署密钥相同（并且应用未在 OTA 之前安装到某个版本的 O），<code>ANDROID_ID</code> 的值在软件包卸载或重新安装时就不会发生变化。</li><li>即使系统更新导致软件包签署密钥发生变化，<code>ANDROID_ID</code> 的值也不会变化。<br>要借助一个简单的标准系统实现应用获利，请使用广告 ID。广告 ID 是 Google Play 服务针对广告服务提供的唯一 ID，此 ID 可由用户重置。</li></ul></li><li><p>查询 net.hostname 系统属性返回的结果为空。</p></li></ul><h2 id="记录未捕获的异常"><a href="#记录未捕获的异常" class="headerlink" title="记录未捕获的异常"></a>记录未捕获的异常</h2><p>如果某个应用安装的 <code>Thread.UncaughtExceptionHandler</code> 未移交给默认的 <code>Thread.UncaughtExceptionHandler</code>，则当出现未捕获的异常时，系统不会终止应用。从 Android 8.0 开始，在此情况下系统将记录异常堆栈跟踪情况；在之前的平台版本中，系统不会记录异常堆栈跟踪情况。</p><p>我们建议，自定义 <code>Thread.UncaughtExceptionHandler</code> 实现始终移交给默认处理程序处理；遵循此建议的应用不受 Android 8.0 此项变更的影响。</p><h2 id="联系人提供程序使用情况统计方法的变更"><a href="#联系人提供程序使用情况统计方法的变更" class="headerlink" title="联系人提供程序使用情况统计方法的变更"></a>联系人提供程序使用情况统计方法的变更</h2><p>在之前版本的 Android 中，联系人提供程序组件允许开发者获取每个联系人的使用情况数据。此使用情况数据揭示了与某个联系人相关联的每个电子邮件地址和每个电话号码的信息，包括与该联系人联系的次数以及上次联系该联系人的时间。请求 <code>READ_CONTACTS</code> 权限的应用可以读取此数据。</p><p>如果应用请求 <code>READ_CONTACTS</code> 权限，它们仍可以读取此数据。从 Android 8.0 开始，使用情况数据查询会返回近似值，而不是精确值。不过，Android 系统内部仍然会保留精确值，因此，此变更不会影响 auto-complete API。</p><p>此行为变更会影响以下查询参数：</p><ul><li><code>TIMES_CONTACTED</code></li><li><code>TIMES_USED</code></li><li><code>LAST_TIME_CONTACTED</code></li><li><code>LAST_TIME_USED</code></li></ul><h2 id="集合的处理"><a href="#集合的处理" class="headerlink" title="集合的处理"></a>集合的处理</h2><p>现在，<code>AbstractCollection.removeAll()</code> 和 <code>AbstractCollection.retainAll()</code> 始终引发 <code>NullPointerException</code>；之前，当集合为空时不会引发 <code>NullPointerException</code>。此项变更使行为符合文档要求。</p><h2 id="Android-企业版"><a href="#Android-企业版" class="headerlink" title="Android 企业版"></a>Android 企业版</h2><p>Android 8.0 更改了企业应用（包括设备规范控制器 (DPC)）的某些 API 和功能的行为。这些变更包括：</p><ul><li>新增多种行为，帮助应用支持完全托管设备中的工作资料。</li><li>变更系统更新处理、应用验证和身份验证方式，以提高设备和系统的完整性。</li><li>改进用户在配置、通知、“最近使用的应用”屏幕和 Always on VPN 方面的体验。</li></ul><p>如需查看 Android 8.0 中的所有企业版变更和了解它们可能给您的应用带来的影响，请阅读企业中的 Android。</p><h1 id="针对-Android-8-0-的应用"><a href="#针对-Android-8-0-的应用" class="headerlink" title="针对 Android 8.0 的应用"></a>针对 Android 8.0 的应用</h1><hr><p>这些行为变更专门应用于针对 O 平台或更高平台版本的应用。针对 Android 8.0 或更高平台版本进行编译，或将 targetSdkVersion 设为 Android 8.0 或更高版本的应用开发者必须修改其应用以正确支持这些行为（如果适用）。</p><h2 id="提醒窗口-1"><a href="#提醒窗口-1" class="headerlink" title="提醒窗口"></a>提醒窗口</h2><p>使用 <code>SYSTEM_ALERT_WINDOW</code> 权限的应用无法再使用以下窗口类型来在其他应用和系统窗口上方显示提醒窗口：</p><ul><li><code>TYPE_PHONE</code></li><li><code>TYPE_PRIORITY_PHONE</code></li><li><code>TYPE_SYSTEM_ALERT</code></li><li><code>TYPE_SYSTEM_OVERLAY</code></li><li><code>TYPE_SYSTEM_ERROR</code></li></ul><p>相反，应用必须使用名为 <code>TYPE_APPLICATION_OVERLAY</code> 的新窗口类型。</p><p>使用 <code>TYPE_APPLICATION_OVERLAY</code> 窗口类型显示应用的提醒窗口时，请记住新窗口类型的以下特性：</p><ul><li>应用的提醒窗口始终显示在状态栏和输入法等关键系统窗口的下面。</li><li>系统可以移动使用 TYPE_APPLICATION_OVERLAY 窗口类型的窗口或调整其大小，以改善屏幕显示效果。</li><li>通过打开通知栏，用户可以访问设置来阻止应用显示使用 TYPE_APPLICATION_OVERLAY 窗口类型显示的提醒窗口。</li></ul><h2 id="内容变更通知"><a href="#内容变更通知" class="headerlink" title="内容变更通知"></a>内容变更通知</h2><p>Android 8.0 更改了 <code>ContentResolver.notifyChange()</code> 和 <code>registerContentObserver(Uri, boolean, ContentObserver)</code> 在针对 Android 8.0 的应用中的行为方式。</p><p>现在，这些 API 需要在所有 URI 中为颁发机构定义一个有效的 <code>ContentProvider</code>。使用相关权限定义一个有效的 <code>ContentProvider</code> 可帮助您的应用防范来自恶意应用的内容变更，并防止将可能的私密数据泄露给恶意应用。</p><h2 id="视图焦点"><a href="#视图焦点" class="headerlink" title="视图焦点"></a>视图焦点</h2><p>可点击的 View 对象现在默认也可以成为焦点。如果您希望 View 对象可点击但不可成为焦点，请在包含 View 的布局 XML 文件中将 <code>android:focusable</code> 属性设置为 false，或者将 false 传递至应用界面逻辑中的 <code>setFocusable()</code>。</p><h2 id="安全性-1"><a href="#安全性-1" class="headerlink" title="安全性"></a>安全性</h2><p>如果您的应用的网络安全性配置选择退出对明文流量的支持，那么您的应用的 <code>WebView</code> 对象无法通过 HTTP 访问网站。每个 <code>WebView</code> 对象必须转而使用 HTTPS。</p><p>有关提升应用安全性的其他准则，请参阅<a href="https://developer.android.com/topic/security/index.html" target="_blank" rel="noopener">面向 Android 开发者的安全性</a>。</p><h2 id="帐号访问和可检测性"><a href="#帐号访问和可检测性" class="headerlink" title="帐号访问和可检测性"></a>帐号访问和可检测性</h2><p>除非身份验证器拥有用户帐号或用户授予访问权限，否则，应用将无法再访问用户帐号。仅拥有 <code>GET_ACCOUNTS</code> 权限尚不足以访问用户帐号。要获得帐号访问权限，应用应使用 <code>AccountManager.newChooseAccountIntent()</code> 或特定于身份验证器的函数。获得帐号访问权限后，应用可以调用 <code>AccountManager.getAccounts()</code> 来访问帐号。</p><p>Android 8.0 已弃用 <code>LOGIN_ACCOUNTS_CHANGED_ACTION</code>。相反，应用在运行时应使用 <code>addOnAccountsUpdatedListener()</code> 获取帐号更新信息。</p><p>有关新增 API 和增加的帐号访问和可检测性函数的信息，请参阅此文档的“新增 API”部分中的帐号访问和可检测性。</p><h2 id="隐私性-1"><a href="#隐私性-1" class="headerlink" title="隐私性"></a>隐私性</h2><p>以下变更影响 Android 8.0 的隐私性。</p><ul><li>系统属性 net.dns1、net.dns2、net.dns3 和 net.dns4 不再可用，此项变更可加强平台的隐私性。</li><li>要获取 DNS 服务器之类的网络连接信息，具有 <code>ACCESS_NETWORK_STATE</code> 权限的应用可以注册 <code>NetworkRequest</code> 或 <code>NetworkCallback</code> 对象。这些类在 Android 5.0（API 级别 21）及更高版本中提供。</li><li>Build.SERIAL 已弃用。需要知道硬件序列号的应用应改为使用新的 <code>Build.getSerial()</code> 函数，该函数要求具有 <code>READ_PHONE_STATE</code> 权限。</li><li><code>LauncherApps</code> API 不再允许工作资料应用获取有关主个人资料的信息。当某个用户在托管配置文件中时，<code>LauncherApps</code> API 的行为就像同一配置文件组的其他配置文件中未安装任何应用一样。和之前一样，尝试访问无关联的个人资料会引发 SecurityExceptions。</li></ul><h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><p>在 Android 8.0 之前，如果应用在运行时请求权限并且被授予该权限，系统会错误地将属于同一权限组并且在清单中注册的其他权限也一起授予应用。</p><p>对于针对 Android 8.0 的应用，此行为已被纠正。系统只会授予应用明确请求的权限。然而，一旦用户为应用授予某个权限，则所有后续对该权限组中权限的请求都将被自动批准。</p><p>例如，假设某个应用在其清单中列出 <code>READ_EXTERNAL_STORAGE</code> 和 <code>WRITE_EXTERNAL_STORAGE</code>。应用请求 <code>READ_EXTERNAL_STORAGE</code>，并且用户授予了该权限。如果该应用针对的是 API 级别 24 或更低级别，系统还会同时授予 <code>WRITE_EXTERNAL_STORAGE</code>，因为该权限也属于同一 STORAGE 权限组并且也在清单中注册过。如果该应用针对的是 Android 8.0，则系统此时仅会授予 <code>READ_EXTERNAL_STORAGE</code>；不过，如果该应用后来又请求 <code>WRITE_EXTERNAL_STORAGE</code>，则系统会立即授予该权限，而不会提示用户。</p><h2 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h2><ul><li>框架会执行音频闪避。进行 <code>AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCK</code> 时，应用不会失去焦点。新的 API 适用于需要暂停而不是闪避的应用。请注意，此行为无法在 Android 8.0 1 版本中实现。</li><li>当用户打电话时，活动的媒体流将在通话期间静音。</li><li>所有与音频相关的 API 都应使用 <code>AudioAttributes</code> 而不是音频流类型来说明音频播放用例。仅为音量控制继续使用音频流类型。流类型（例如，已弃用的 <code>AudioTrack constructor</code>）的其他用途仍然有效，但是系统会将其记录为错误。</li><li>使用 <code>AudioTrack</code> 时，如果应用请求了足够大的音频缓冲区，则框架将尝试使用深度缓冲区输出（如果可用）。</li><li>在 Android 8.0 中，媒体按钮事件的处理有所不同：<ol><li>在界面操作组件中处理媒体按钮未发生变化：前台操作组件在处理媒体按钮时仍然优先。</li><li>如果前台操作组件不处理媒体按钮，系统会将媒体按钮路由到最近在本地播放音频的应用。在确定哪些应用接收媒体按钮事件时，不再考虑活动状态、标志和媒体会话的播放状态。即使在应用调用 <code>setActive(false)</code> 后，媒体会话仍然可以接收媒体按钮事件。</li><li>如果应用的媒体会话已经释放，系统会将媒体按钮事件发送到应用的 <code>MediaButtonReceiver</code>（如果有）。</li><li>对于任何其他情况，系统都会舍弃媒体按钮事件。与其开始播放错误的应用，不如不播放任何东西。</li></ol></li></ul><h2 id="原生库"><a href="#原生库" class="headerlink" title="原生库"></a>原生库</h2><p>在针对 Android 8.0 的应用中，如果原生库包含任何可写且可执行的加载代码段，则不会再加载原生库。倘若某些应用的原生库包含不正确的加载代码段，则此变更可能会导致这些应用停止工作。这是一种安全加强措施。</p><p>如需了解详细信息，请参阅<a href="https://android.googlesource.com/platform/bionic/+/master/android-changes-for-ndk-developers.md#Writable-and-Executable-Segments-Enforced-for-API-level-26" target="_blank" rel="noopener">可写且可执行的代码段</a>。</p><p>与早期的开发者预览版相同，Android 8.0 还有助于更轻松地发现所有与链接器有关的问题。链接器的变更绑定到应用的目标 API 级别。如果应用的目标 API 级别发生链接器变更，则该应用无法加载该库。如果您的目标 API 级别低于发生链接器变更的 API 级别，则 logcat 会显示一条警告消息。在预览版期间，与链接器有关的问题不仅会显示在 logcat 中，也会以 toast 的形式显示。对于特定的 API 级别，警告可能会变成错误，此变更有助于提前发现此类问题。</p><h2 id="集合的处理-1"><a href="#集合的处理-1" class="headerlink" title="集合的处理"></a>集合的处理</h2><p>在 Android 8.0 中，<code>Collections.sort()</code> 是在 <code>List.sort()</code> 的基础上实现的。在 Android 7.x（API 级别 24 和 25）中，则恰恰相反。在过去，<code>List.sort()</code> 的默认实现会调用 <code>Collections.sort()</code>。</p><p>此项变更使 <code>Collections.sort()</code> 可以利用优化的 <code>List.sort()</code> 实现，但具有以下限制：</p><ul><li><code>List.sort()</code> 的实现不能调用 <code>Collections.sort()</code>，因为这会导致堆栈因无限递归而溢出。相反，如果您需要 List 实现的默认行为，应避免重写 sort()。<br>如果父类以不适当的方法实现 sort() ，通常最好使用在 <code>List.toArray()</code>、<code>Arrays.sort()</code> 和 <code>ListIterator.set()</code> 的基础上构建的实现重写 <code>List.sort()</code>。例如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> E&gt; c)</span> </span>&#123;</span><br><span class="line">  Object[] elements = toArray();</span><br><span class="line">  Arrays.sort(elements, c);</span><br><span class="line">  ListIterator&lt;E&gt; iterator = (ListIterator&lt;Object&gt;) listIterator();</span><br><span class="line">  <span class="keyword">for</span> (Object element : elements) &#123;</span><br><span class="line">    iterator.next();</span><br><span class="line">    iterator.set((E) element);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>在大多数情况下，您也可以使用根据 API 级别委托给其他默认实现的实现重写 <code>List.sort()</code>。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> E&gt; comparator)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (Build.VERSION.SDK_INT &lt;= <span class="number">25</span>) &#123;</span><br><span class="line">    Collections.sort(<span class="keyword">this</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.sort(comparator);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果您选择后者只是因为您希望开发一种适用于所有 API 级别的 sort() 函数，可以考虑赋予其一个唯一的名称，例如 sortCompat()，而不是重写 sort()。</p><ul><li><code>现在，Collections.sort()</code> 只是对调用 sort() 的 List 实现进行的一项结构性修改。例如，在 Android 8.0 之前的平台版本中，如果通过调用 <code>List.sort()</code> 进行排序，则当迭代处理 ArrayList 以及在迭代过程中调用 <code>sort()</code> 时，会引发 <code>ConcurrentModificationException</code>。而 <code>Collections.sort()</code> 则不会引发异常。</li></ul><p>此项变更使平台行为更加一致：现在，两种方法都会引发 <code>ConcurrentModificationException</code>。</p><h2 id="类加载行为"><a href="#类加载行为" class="headerlink" title="类加载行为"></a>类加载行为</h2><p>Android 8.0 检查确保类加载器在加载新类时不会违反运行时假设条件。不论类引用自 Java（来自 <code>forName()</code>）、Dalvik 字节码还是 JNI，都会执行这些检查。平台不会拦截 Java 对 <code>loadClass()</code> 函数的直接调用，也不会检查此类调用的结果。此行为不应影响运行良好的类加载器的正常运行。</p><p>平台将检查类加载器返回的类描述符是否与预期的描述符一致。如果返回的描述符与预期不符，平台会引发 <code>NoClassDefFoundError</code> 错误，并在异常日志中存储一条注明不一致之处的详细错误消息。</p><p>平台还检查请求的类描述符是否有效。此检查捕获间接加载诸如 <code>GetFieldID()</code> 等类的 JNI 调用，向这些类传递无效的描述符。例如，找不到包含 java/lang/String 签名的字段，是因为此签名无效；它应为 Ljava/lang/String;。</p><p>这与 JNI 对 <code>FindClass()</code> 的调用不同，其中 java/lang/String 是一个有效的完全限定名称。</p><p>Android 8.0 不支持多个类加载器同时尝试使用相同的 DexFile 对象来定义类。尝试进行此操作，会导致 Android 运行时引发 InternalError 错误，同时显示消息“Attempt to register dex file <filename> with multiple class loaders”。</filename></p><p>DexFile API 现已弃用，强烈建议您改为使用此平台的类加载器之一，包括 PathClassLoader 或 BaseDexClassLoader。</p><blockquote><p><strong>注：</strong> 您可以创建多个引用文件系统中同一个 APK 或 JAR 文件容器的类加载器。这样做通常不会占用大量内存：如果存储而不压缩容器中的 DEX 文件，平台可以对此类文件执行 mmap 操作，而不直接提取它们。但是，如果平台必须从容器中提取 DEX 文件，以这种方式引用 DEX 文件可能占用大量内存。</p></blockquote><p>在 Android 中，所有类加载器都被视为支持并行运行。当多个线程争用同一个类加载器加载相同的类时，第一个完成此操作的线程胜出，而操作结果将用于其他线程。无论类加载器是返回同一个类、返回不同的类还是引发异常，都将发生此行为。该平台静默忽略此类异常。</p><blockquote><p><strong>注意：</strong> 在低于 Android 8.0 的平台版本中，违反这些假设条件可能导致多次定义同一个类、由于类混淆造成堆损坏和其他不良影响。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Android 8.0 除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。&lt;/p&gt;
&lt;p&gt;其中大部分变更会影响所有应用，而不论应用针对的是何种版本的 Android。不过，有几项变更仅影响针对 A
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Oreo" scheme="http://yoursite.com/tags/Oreo/"/>
    
      <category term="Android 8.0" scheme="http://yoursite.com/tags/Android-8-0/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(二)-添加组件</title>
    <link href="http://yoursite.com/2017/09/10/architecture-adding-components/"/>
    <id>http://yoursite.com/2017/09/10/architecture-adding-components/</id>
    <published>2017-09-10T11:24:13.000Z</published>
    <updated>2018-04-11T08:50:04.981Z</updated>
    
    <content type="html"><![CDATA[<p>架构组件发布在谷歌的Maven仓库，可以通过遵循以下步骤使用它们：</p><h2 id="添加谷歌Maven仓库"><a href="#添加谷歌Maven仓库" class="headerlink" title="添加谷歌Maven仓库"></a>添加谷歌Maven仓库</h2><p>Android Studio项目默认没有配置对此仓库的访问。</p><p>为了添加其到你的项目中，打开项目根下的build.gradle文件(不是app或module目录下的)然后修改以下内容：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">        google()<span class="comment">//添加谷歌仓库</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="添加架构组件"><a href="#添加架构组件" class="headerlink" title="添加架构组件"></a>添加架构组件</h2><p>打开app或module目录下的build.gradle文件，添加你需要的依赖，你可以添加所有或者根据需要添加部分。</p><blockquote><p><strong>注意：</strong>对于基于Kotlin的应用，应该确保你使用kapt而不是annotationProcessor。而且你应该添加kotlin-kapt插件。</p></blockquote><h2 id="主要依赖"><a href="#主要依赖" class="headerlink" title="主要依赖"></a>主要依赖</h2><p>包括<code>Lifecycles</code>,<code>LiveData</code>,<code>ViewModel</code>,<code>Room</code>和<code>Paging</code>.</p><p>同时也包括了测试的工具用来测试LiveData和Room的迁移。<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// ViewModel and LiveData</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:extensions:1.1.1"</span></span><br><span class="line">    <span class="comment">// alternatively, just ViewModel</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:viewmodel:1.1.1"</span></span><br><span class="line">    <span class="comment">// alternatively, just LiveData</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:livedata:1.1.1"</span></span><br><span class="line"></span><br><span class="line">    annotationProcessor <span class="string">"android.arch.lifecycle:compiler:1.1.1"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Room (use 1.1.0-beta2 for latest beta)</span></span><br><span class="line">    implementation <span class="string">"android.arch.persistence.room:runtime:1.0.0"</span></span><br><span class="line">    annotationProcessor <span class="string">"android.arch.persistence.room:compiler:1.0.0"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Paging</span></span><br><span class="line">    implementation <span class="string">"android.arch.paging:runtime:1.0.0-beta1"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test helpers for LiveData</span></span><br><span class="line">    testImplementation <span class="string">"android.arch.core:core-testing:1.1.1"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test helpers for Room</span></span><br><span class="line">    testImplementation <span class="string">"android.arch.persistence.room:testing:1.0.0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="对Lifecycles的Java-8支持"><a href="#对Lifecycles的Java-8支持" class="headerlink" title="对Lifecycles的Java 8支持"></a>对Lifecycles的Java 8支持</h2><p>如果你的应用基于Java 8开发，我们建议使用下面依赖替代<code>android.arch.lifecycle:compiler</code>.<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// Java8 support for Lifecycles</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:common-java8:1.1.1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="RxJava和ReactiveStreams可选的依赖"><a href="#RxJava和ReactiveStreams可选的依赖" class="headerlink" title="RxJava和ReactiveStreams可选的依赖"></a>RxJava和ReactiveStreams可选的依赖</h2><p>添加可选依赖支持Room RxJava和LiveData ReactiveStreams。<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// RxJava support for Room (use 1.1.0-beta2 for latest alpha)</span></span><br><span class="line">    implementation <span class="string">"android.arch.persistence.room:rxjava2:1.0.0"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ReactiveStreams support for LiveData</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:reactivestreams:1.1.1"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// RxJava support for Paging</span></span><br><span class="line">    implementation <span class="string">"android.arch.paging:rxjava2:1.0.0-alpha1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Guava可选的依赖"><a href="#Guava可选的依赖" class="headerlink" title="Guava可选的依赖"></a>Guava可选的依赖</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// Guava support for Room</span></span><br><span class="line">    implementation <span class="string">"android.arch.persistence.room:guava:1.1.0-beta1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="只适用于轻量级Lifecycles的替代引入"><a href="#只适用于轻量级Lifecycles的替代引入" class="headerlink" title="只适用于轻量级Lifecycles的替代引入"></a>只适用于轻量级Lifecycles的替代引入</h2><p>支持库依赖此轻量导入。只提供Lifecycles的支持，不支持LiveData或ViewModel。<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// Lifecycles only (no ViewModel or LiveData)</span></span><br><span class="line">    implementation <span class="string">"android.arch.lifecycle:runtime:1.1.1"</span></span><br><span class="line">    annotationProcessor <span class="string">"android.arch.lifecycle:compiler:1.1.1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;架构组件发布在谷歌的Maven仓库，可以通过遵循以下步骤使用它们：&lt;/p&gt;
&lt;h2 id=&quot;添加谷歌Maven仓库&quot;&gt;&lt;a href=&quot;#添加谷歌Maven仓库&quot; class=&quot;headerlink&quot; title=&quot;添加谷歌Maven仓库&quot;&gt;&lt;/a&gt;添加谷歌Maven仓库&lt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android架构组件(一)-指导</title>
    <link href="http://yoursite.com/2017/09/10/architecture-guide/"/>
    <id>http://yoursite.com/2017/09/10/architecture-guide/</id>
    <published>2017-09-10T08:24:13.000Z</published>
    <updated>2018-04-11T08:49:40.569Z</updated>
    
    <content type="html"><![CDATA[<p>这份文档用于已经掌握构建Android app基本技能，现在想要了解推荐的架构，想要实践如何构建健壮、生产级别app的开发者。</p><blockquote><p><strong>注意：</strong>本文档假设读者已经熟悉Android框架。如果你刚跟接触Android，请访问[这里]的训练系列，该训练包含了本文档的所有预备知识。</p></blockquote><h1 id="App开发者所面临的常见问题"><a href="#App开发者所面临的常见问题" class="headerlink" title="App开发者所面临的常见问题"></a>App开发者所面临的常见问题</h1><hr><p>与之对应的传统桌面应用在大多数情况下含有一个单一的入口点（快捷图标）并运行作为一个单一的程序，这和Android应用很不同。Android app拥有更复杂的结构。一个典型的Android app往往由多种组件构建而成，包括Activity, Fragment, Service, Content Provider以及Broadcast Receiver。</p><p>这些app组件大部分被声明在app清单文件（AndroidManifest）中，该清单文件被Android系统用于决定如何整合你的app到全局的用户体验中。如上文所说，传统的桌面应用通常作为一个整体运行，而一个编写良好的Android应用需要更加灵活，因为用户常常在不同的app间频繁切换。</p><p>例如，考虑当你想在你最喜欢的社交网络上分享一张照片时会发生什么？app触发一个相机的Intent，Android系统启动了一个相机应用来处理请求。在这个时候，用户离开了该社交网络app，但是在体验上却是无缝衔接的。接着，相机app可能触发其他Intent来开启其他应用，例如启动文件选择器。最终，用户回到了社交网络app并分享了图片。同样地，用户可能在这一处理过程中的任何时刻被电话接听所打断，在接听完成后继续回来分享图片。</p><p>在Android中，这种应用频繁切换的行为很常见，因此你的app必须能够正确处理这些行为。请记住，手机设备是被资源所约束的，因此在任何时候操作系统都有可能为了给新开启的app腾出空间而杀死一些app。</p><p>关于这一切的关键点在于你的app组件可以单独启动并且是无序的，以及该组件可以在任何时候被用户或系统销毁。因为app组件是短暂的，并且它们的生命周期（例如何时创建以及何时销毁）并不受你控制。你不能在你的app组件中存储任何数据或状态，并且你的组件之间不应该互相依赖。</p><h1 id="常见架构原则"><a href="#常见架构原则" class="headerlink" title="常见架构原则"></a>常见架构原则</h1><hr><p>如果你不能使用app组件来存储应用的数据和状态，那么app该如何构建呢？</p><p>你所该关注最重要的事情是在你的app中遵守关注点分离原则。一个常见的错误是把你所有的代码都写在Activity或者Fragment中。任何不操作UI或操作系统交互的代码都不应该放在上述这些类中。请尽量保持这些类的体积瘦小以避免许多生命周期相关的问题。不要忘记你并不拥有这些类，它们只是在你的应用和系统之间交互的粘合剂。安卓系统会在任何时候销毁它们，例如用户的交互行为或者其他因素，如可用内存过低等。为了提供一个可靠的用户体验，最好减少对它们的依赖。</p><p>第二个最重要的原则是你应该用模型驱动界面，最好是持久化模型(Persistent Model)。持久化是一个理想的状态，理由如下：1.如果操作系统销毁了你的应用来释放资源，你的用户不应该因此而丢掉数据。2.甚至当网络堵塞甚至未连接时，你的应用应当继续工作。Model是负责处理应用数据的组件，它们独立于视图(View)以及其他app组件，因此Model和这些生命周期相关的问题也是隔绝的。保持UI代码的简洁以及应用逻辑的自由更易于进行管理。将你的app基于Model类构建将对数据管理有利，并使得它们易于测试。</p><h1 id="推荐app架构"><a href="#推荐app架构" class="headerlink" title="推荐app架构"></a>推荐app架构</h1><hr><p>在这一章节，我们致力于如何使用架构组件(Architecture Components)来构建一个app，我们将通过一个用例进行说明。</p><blockquote><p><strong>注意：</strong>软件工程领域没有银弹。我们不可能找到一种最佳的方法能够一劳永逸地适合所有的场景。但是我们所推荐架构的意义在于对大多数用例来说都是好的。如果你已经有一个比较好的方式来写Android应用，那么你不需要做出改变。</p></blockquote><p>想象一下我们正在构建一个显示用户资料的UI界面。该用户界面将通过REST API从我们的私有后台获取。</p><h2 id="构建用户界面"><a href="#构建用户界面" class="headerlink" title="构建用户界面"></a>构建用户界面</h2><p>UI界面将会由一个叫做<code>UserProfileFragment.java</code>的Fragment和对应的布局文件<code>user_profile_layout.xml</code>组成。</p><p>为了驱动UI界面，我们的数据模型需要持有两个数据元素：</p><ul><li><strong>User ID:</strong>用于区分用户。通过fragment参数将信息传递至Fragment是最佳的方式。如果Android系统销毁了你的进程，这个信息将会被保存，因此当app下次重启时，该id也将是可用的</li><li><strong>User Object:</strong>一个含有用户数据的POJO类</li></ul><p>我们将会创建一个基于<strong>ViewModel</strong>类的<code>UserProfileViewModel</code>来保存信息。</p><p>一个ViewModel提供了指定UI组件的数据，例如一个fragment或activity，并处理数据的交互，例如调用其他组件加载数据或数据的更新修改等。ViewModel并不知道View，也不受配置信息变化的影响，例如由于屏幕旋转造成的Activity重建。</p><p>现在我们拥有以下三个文件：</p><ul><li><strong>user_profile.xml: </strong>定义了屏幕的UI布局</li><li><strong>UserProfileViewModel.java:</strong>准备用于UI的数据类</li><li><strong>UserProfileFragment.java: </strong>UI控制器，在ViewModel中显示数据以及响应用户交互</li></ul><p>下面是我们的初步实现（布局文件比较简单直接省略）：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProfileViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">     <span class="keyword">private</span> String userId;</span><br><span class="line">     <span class="keyword">private</span> User user;</span><br><span class="line"> </span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">this</span>.userId = userId;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> user;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProfileFragment</span> <span class="keyword">extends</span> <span class="title">LifecycleFragment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String UID_KEY = <span class="string">"uid"</span>;</span><br><span class="line">    <span class="keyword">private</span> UserProfileViewModel viewModel;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityCreated</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onActivityCreated(savedInstanceState);</span><br><span class="line">        String userId = getArguments().getString(UID_KEY);</span><br><span class="line">        viewModel = ViewModelProviders.of(<span class="keyword">this</span>).get(UserProfileViewModel.class);</span><br><span class="line">        viewModel.init(userId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater,</span></span></span><br><span class="line"><span class="function"><span class="params">                @Nullable ViewGroup container, @Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> inflater.inflate(R.layout.user_profile, container, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong>如果你已经使用了类似于RxJava或者Agera这样的库，你可以继续使用它们，而不是LiveData。但是如果当你使用它们，请确保正确地处理了生命周期，例如当相关的生命周期拥有者（LifecycleOwner）停止时应当暂停，当生命周期持有者销毁时也应当销毁。你也可以添加android.arch.lifecycle:reactivestreams，使LiveData和其他响应流式库共同使用，例如RxJava。</p></blockquote><p>现在我们将<code>UserProfileViewModel</code>中的User成员变量替换为<code>LiveData&lt;User&gt;</code>，使得当数据更新时，Fragment可以收到通知。关于<code>LiveData</code>一件很棒的事是，它能够对生命周期做出反应，并将在不再需要的时候自动清除引用。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProfileViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">     <span class="comment">//...</span></span><br><span class="line">     <span class="keyword">private</span> LiveData&lt;User&gt; user;<span class="comment">//替换行</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> user;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><p>现在我们修改UserProfileFragment，观察数据变化并更新UI。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityCreated</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onActivityCreated(savedInstanceState);</span><br><span class="line">    viewModel.getUser().observe(<span class="keyword">this</span>, user -&gt; &#123;</span><br><span class="line">      <span class="comment">// 此处更新 UI</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>每次用户数据被更新时，<code>onChanged</code>回调函数会被调用，UI界面会被更新。</p><p>如果你熟悉其他使用观察回调的类库，你可能会意识到我们并没有复写Fragment的<code>onStop()</code>方法来停止对数据的观察。这在<code>LiveData中</code>是不必要的，因为它对生命周期敏感，这意味着将不会调用回调函数，除非Fragment出在激活状态（接收<code>onStart()</code>但没有接受<code>onStop()</code>）。当Fragment接收<code>onDestroy()</code>方法时，LiveData将会自动清除观察者。</p><p>我们也不会做任何特殊的事情来处理配置的变化（例如旋转屏幕）。当配置发生变化的时候，ViewModel将会自动保存，因此一旦新的Fragment到来时，它将会收到ViewModel的相同实例，带有当前数据的回调函数将会立即被调用。这就是ViewModel不应该直接引用View的原因，ViewModel会在View的生命周期外存活。详见：[ViewModel的生命周期]。</p><h2 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h2><p>现在我们将ViewModel和Fragment关联在了一起，但是ViewModel该如何获取数据呢？在本例下，我们假设我们的后台提供了REST API。我们会用<code>Retrofit</code>库来访问我们的后台，当然你可以随意选择其他不同的类库。</p><p>这里就是和我们后台交互的retrofit接口Webservice：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Webservice</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@GET</span> 声明是一个HTTP GET请求</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Path</span>("user") 标记了userId参数来替换GET请求中的&#123;user&#125;路径</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GET</span>(<span class="string">"/users/&#123;user&#125;"</span>)</span><br><span class="line">    <span class="function">Call&lt;User&gt; <span class="title">getUser</span><span class="params">(@Path(<span class="string">"user"</span>)</span> String userId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>关于Retrofit的使用请详见官方文档，这里只是简单进行了说明</p><p>ViewModel的原生实现可以直接调用Webservice来获取数据并交给用户对象。即使这样可以生效，你的app将会随着增长而难以维护。相对于我们上文所提到的关注点分离原则，这种方式给予了ViewModel类太多的职责。另外ViewModel的作用于被绑在Activity或Fragment的生命周期上，因此当生命周期结束的时候丢掉这些数据是一种很糟糕的用户体验。作为替代，我们的ViewModel将会把这一工作委派给新的仓库（Repository）模块。</p><p>仓库模块(Repository Module)负责处理数据操作。他们提供了清晰的API，并且知道在哪获取数据以及哪种API的调用会导致数据更新。你可以考虑把它作为多种数据源的中介（持久化模型，网络服务数据，缓存等）。</p><p>下方的<code>UserRepository</code>类将会使用<code>WebService</code>来获取数据项：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Webservice webservice;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 这并不是最佳的实现方式，我们将在下文修正它</span></span><br><span class="line">        <span class="keyword">final</span> MutableLiveData&lt;User&gt; data = <span class="keyword">new</span> MutableLiveData&lt;&gt;();</span><br><span class="line">        webservice.getUser(userId).enqueue(<span class="keyword">new</span> Callback&lt;User&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(Call&lt;User&gt; call, Response&lt;User&gt; response)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 错误情况的处理被省略了</span></span><br><span class="line">                data.setValue(response.body());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>即使仓库模型看起来并不需要，但是它完成了一个重要的目标：它将app中的数据源抽象了出来。现在我们的ViewModel不知道数据是由Webservice获取而来的，这意味着在需要其他实现的时候我们可以进行替换。</p><h3 id="管理组件间的依赖"><a href="#管理组件间的依赖" class="headerlink" title="管理组件间的依赖"></a>管理组件间的依赖</h3><p>上面的<code>UserRepository</code>类需要<code>WebService</code>接口的一个实例去进行工作。我们当然可以在每个仓库模型类中简单地创建一个，不过需要知道<code>WebService</code>所依赖的具体子类。这将会显著提高代码的复杂性和冗余。另外<code>UserRepository</code> 也可能不是唯一需要<code>WebService</code>的类，如果每个类都创建一个<code>WebService</code>，这将会浪费很多的资源。</p><p>有两种模式可以解决这个问题：</p><ul><li><strong>依赖注入：</strong>依赖注入允许类定义依赖而不用去构造他们。在运行的时候，另一个类负责提供这些依赖关系。我们推荐在安卓中使用谷歌的[Dagger 2]类库进行依赖注入。通过遍历依赖树，Dagger 2 自动构造对象并提供编译时的依赖保障。</li><li><strong>服务定位：</strong>服务定位器提供了注册器，使得类可通过依赖进行构建，而不是需要配置它们。服务定位模式相对依赖注入而言更易于实现，因此如果你并不熟悉依赖注入，可以使用服务定位来代替。</li></ul><h2 id="连接ViewModel和仓库"><a href="#连接ViewModel和仓库" class="headerlink" title="连接ViewModel和仓库"></a>连接ViewModel和仓库</h2><p>现在我们修改我们的UserProfileViewModel以使用仓库：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProfileViewModel</span> <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LiveData&lt;User&gt; user;</span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepo;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span> <span class="comment">// UserRepository 参数由Dagger 2提供</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserProfileViewModel</span><span class="params">(UserRepository userRepo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userRepo = userRepo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.user != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ViewModel 由每个fragment创建，因此我们知道并不会发生改变</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        user = userRepo.getUser(userId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="缓存数据"><a href="#缓存数据" class="headerlink" title="缓存数据"></a>缓存数据</h2><p>上述仓库的实现易于抽象了调用网络服务的过程，但是因为它仅仅依赖于一个单一的数据源，因此并不是很实用。</p><p><code>UserRepository</code>实现的问题在于在获取数据以后，并没有在任何地方保存它。如果用户离开了<code>UserProfileFragment</code>并再次回来，app会重新获取数据。这很糟糕，有以下两个原因：1.浪费了宝贵的网络带宽；2.强迫用户等待新的请求完成。为了解决这个问题，我们将在<code>UserRepository</code>添加一个新的数据源在内存中缓存我们的User对象。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Singleton</span>  <span class="comment">// 通知 Dagger 该类应该只构建一次</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Webservice webservice;</span><br><span class="line">    <span class="comment">// 简单缓存在内存中，忽略实现细节</span></span><br><span class="line">    <span class="keyword">private</span> UserCache userCache;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        LiveData&lt;User&gt; cached = userCache.get(userId);</span><br><span class="line">        <span class="keyword">if</span> (cached != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> cached;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> MutableLiveData&lt;User&gt; data = <span class="keyword">new</span> MutableLiveData&lt;&gt;();</span><br><span class="line">        userCache.put(userId, data);</span><br><span class="line">        <span class="comment">// 这仍然不是最优的代码，但是要比之前的代码好</span></span><br><span class="line">        <span class="comment">// 一个完整的实现必须处理错误情况</span></span><br><span class="line">        webservice.getUser(userId).enqueue(<span class="keyword">new</span> Callback&lt;User&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(Call&lt;User&gt; call, Response&lt;User&gt; response)</span> </span>&#123;</span><br><span class="line">                data.setValue(response.body());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="数据持久化"><a href="#数据持久化" class="headerlink" title="数据持久化"></a>数据持久化</h2><p>在我们当前的实现中，如果用户旋转了屏幕或者离开并返回app，当前UI界面将立刻可见，这是因为仓库从内存中获取了数据。但是如果用户离开app很久，在Android系统杀掉进程后再回来呢？</p><p>在当前的实现中，我们需要从网络重新获取数据。这并不仅是一个很糟糕的用户习惯，并且很浪费，因为我们要重新获取相同的数据。你可以仅仅通过缓存网络请求来修复它，但是这也创造了新的问题。如果相同的数据类型在另一个请求中发生（如获取一组好友列表）呢？如果是这样，你的app可能会显示不正确的数据。</p><p>正确解决这个问题的关键在于使用一个持久化模型。这正是<code>Room</code>持久化类库所解决的问题。</p><p><code>Room</code>是一个以最小化模板代码提供本地数据持久化的对象关系映射类库。在编译时间，它会验证每个查询语句，因此错误的SQL会导致编译时报错，而不是在运行时报错。Room抽象了一些原生SQL表和查询的底层实现细节。它也允许观察数据库数据的变化，通过LiveData对象进行展现。此外，它显式地定义线程约束以解决一些常见的问题，如在主线程访问存储。</p><blockquote><p><strong>注意：</strong>如果你对另一些持久化解决方案很熟悉，你并不需要进行替换，除非Room的功能集和你的用例更符合。</p></blockquote><p>为了使用<code>Room</code>，我们需要定义我们的本地表。首先使用<code>@Entity</code>去注解<code>User</code>类，标记该类作为数据库中的表。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="meta">@PrimaryKey</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> String lastName;</span><br><span class="line">  <span class="comment">// getters/setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>之后，通过扩展<code>RoomDatabase</code>类创建一个数据库类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Database</span>(entities = &#123;User.class&#125;, version = <span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">MyDatabase</span> <span class="keyword">extends</span> <span class="title">RoomDatabase</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>注意，<code>MyDatabase</code>类是抽象的，<code>Room</code>会自动提供实现。详情请参见Room文档。</p><p>现在我们需要一个方式将用户数据插入到数据库中，为此我们需要创建一个数据访问对象(DAO)：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Insert</span>(onConflict = REPLACE)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"SELECT * FROM user WHERE id = :userId"</span>)</span><br><span class="line">    <span class="function">LiveData&lt;User&gt; <span class="title">load</span><span class="params">(String userId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>之后，从我们的数据库类中引用DAO：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Database</span>(entities = &#123;User.class&#125;, version = <span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">MyDatabase</span> <span class="keyword">extends</span> <span class="title">RoomDatabase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> UserDao <span class="title">userDao</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>请注意<code>load</code>方法返回了一个<code>LiveData&lt;User&gt;</code>。<code>Room</code>知道数据库什么时候被修改并将在数据变化时自动通知所有已激活的观察者。使用了LiveData是很高效的，因为只有在至少含有一个处在激活状态的观察者时才会更新。</p><blockquote><p><strong>注意：</strong>Room会检查基于表修改的错误信息，也就是说会分发假阳性的通知。假阳性是指分发的通知是正确的，但是并非是由数据变化所造成的。</p></blockquote><p>现在我们修改UserRepository类，将Room数据源包含在内。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Webservice webservice;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserDao userDao;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Executor executor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserRepository</span><span class="params">(Webservice webservice, UserDao userDao, Executor executor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.webservice = webservice;</span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">        <span class="keyword">this</span>.executor = executor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LiveData&lt;User&gt; <span class="title">getUser</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        refreshUser(userId);</span><br><span class="line">        <span class="comment">//直接从数据库返回数据</span></span><br><span class="line">        <span class="keyword">return</span> userDao.load(userId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">refreshUser</span><span class="params">(<span class="keyword">final</span> String userId)</span> </span>&#123;</span><br><span class="line">        executor.execute(() -&gt; &#123;</span><br><span class="line">            <span class="comment">// 运行在后台线程</span></span><br><span class="line">            <span class="comment">// 检查用户最新是否获取更新</span></span><br><span class="line">            <span class="keyword">boolean</span> userExists = userDao.hasUser(FRESH_TIMEOUT);</span><br><span class="line">            <span class="keyword">if</span> (!userExists) &#123;</span><br><span class="line">                <span class="comment">// 刷新数据</span></span><br><span class="line">                Response response = webservice.getUser(userId).execute();</span><br><span class="line">                <span class="comment">// TODO 错误情况监测处理（省略）</span></span><br><span class="line">                <span class="comment">// 更新数据库，LiveData会自动更新，因此只需要更新数据库就可以了</span></span><br><span class="line">                userDao.save(response.body());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>请注意，即使我们在<code>UserRepository</code>中改变了数据源，我们仍然不需要改变<code>UserProfileViewModel</code>或者<code>UserProfileFragment</code>。这种灵活性是由抽象所提供的。这对于测试来说也是很棒的，因为你可以在测试<code>UserProfileViewModel</code>的时候提供一个假的<code>UserRepository</code> 。</p><p>现在我们的代码完成了。如果用户稍后再次回到相同的UI，将会立即看到用户信息，因为我们进行了持久化。同时，如果数据过时了，我们的仓库会在后台更新数据它们。当然这取决于你的具体用例，你可以选择在数据过时的时候不显示它们。</p><p>在一些用例中，例如pull-to-refresh，对于UI来说如果当前在进行网络请求，对用户显示该进度是很重要的。将UI的行为和实际数据分离是一种很好的实践，因为数据可能因为多种原因被更新（例如如果我们拉取一组朋友列表，已存在的数据可能会被再次获取，从而触发了<code>LiveData&lt;User&gt;</code>更新）。从UI的角度来看，事实上是另一个数据端。</p><p>该用例有两个常见的方案：</p><ul><li>修改<code>getUser()</code>方法，返回带有网络操作状态的LiveData，例如下文中的“显示网络状态”章节。</li><li>在仓库类中提供另一个公共方法，返回User类的刷新状态。这种方式更好，如果你想要仅仅在响应显式地用户操作（如pull-to-refresh）时显示网络状态。</li></ul><h4 id="真正单一数据源"><a href="#真正单一数据源" class="headerlink" title="真正单一数据源"></a>真正单一数据源</h4><p>对于不同的REST API返回相同的数据是很常见的，例如，如果我们的后台有另一个接口用于返回朋友列表，相同的User对象会从两个API返回。如果<code>UserRepository</code>也要去返回<code>Webservice</code>请求的结果，我们的UI界面可能会显示不正常数据，因为数据可能会因这两个请求接口而改变。这也就是为什么在<code>UserRepository</code>实现中，网络服务仅仅存储数据到数据库的原因。之后，数据库信息的改变会触发<code>LiveData</code>的更新。</p><p>在这种模型下，数据库作为单一数据源，而app的其他部分通过仓库进行访问。不论你是否使用持久化存储，我们推荐你的仓库指定一个数据源作为app的单一数据源。</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>关注点分离原则一个很重要的受益处在于可测试性。让我们看看每个模块代码的测试。</p><ul><li><strong>UI&amp;交互：</strong>这是唯一需要[Android UI Instrumentation test]的时刻。测试UI的最佳方式是创建一个[Espresso]特使。你可以创建Fragment并提供一个虚拟的ViewModel。因为Fragment仅仅和ViewModel对话，模拟ViewModel对于测试来说就已经足够了。</li><li><strong>ViewModel：</strong>ViewModel可以使用[JUnit测试]。你仅仅需要模拟UserRepository。</li><li><strong>UserRepository：</strong>你也可以使用JUnit测试UserRepository 。你需要模拟Webservice和DAO。你可以测试网络请求调用，在数据库中保存结果，以及如果数据被缓存并更新后不需要进行请求。因为Webservice和UserDao都是接口，你可以模拟它们。</li><li><strong>UserDao：</strong>测试DAO类的推荐方法是使用测试工具。因为这些测试工具并不需要任何的UI并运行速度很快。对每个测试来说，你可以创建一个内存数据库来保证测试并不会造成双边效应（如改变磁盘上数据库的已有数据）。</li><li><strong>WebService：</strong>独立于外部世界的测试是很重要的，甚至你的Webservice测试应该避免调用后台的网络服务。有大量的类库可以帮助做到这一点，例如：[MockWebServer]。</li><li><strong>测试构件：</strong>架构组件提供一个Maven构件来控制后台线程。在android.arch.core:core-testing中，有两个JUnit规则：<ul><li>任务立即执行规则：这个规则可用于强制架构组件在调用线程里立即执行任何后台操作</li><li>这个规则可用于工具测试，以等待架构组件的后台操作或者连接至Espresso作为闲置资源。</li></ul></li></ul><h2 id="最终架构"><a href="#最终架构" class="headerlink" title="最终架构"></a>最终架构</h2><p>下图显示了我们所推荐架构的所有模块，以及相互间的交互情况：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/10/architecture-guide/final-architecture.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><h1 id="指导原则"><a href="#指导原则" class="headerlink" title="指导原则"></a>指导原则</h1><hr><p>以下的建议并不是强制性的，而是根据我们的经验得知，遵循这些建议会使你的代码更健壮，易于测试和易于维护。</p><ul><li>你在清单文件中所定义的入口点——Activity，Service，Broadcast Receiver等并不应该是数据源。相反，他们应该仅仅是和入库点相关的数据源子集。因为每个app的组件的存活时间都是短暂的、取决于用户的交互行为以及运行时整体上的健康度。</li><li>残忍坚决地创建良好的模块分界。例如，不要将从网络读取数据的代码扩展到多个类/包中。相似地，也不要将不相关职责的代码添加进来，如数据缓存等。（高内聚，低耦合）</li><li>模块间交互暴露的接口应该尽可能的少。不要尝试创建“仅仅用一次”的捷径，导致暴露一个模块的内部实现细节。你可能在短期会获益，但是在代码的演进过程中会耗费数倍的技术负担。</li><li>当你定义了模块间的交互时，考虑每个模块的单独可测试性。例如，有一个定义良好的用于从网络获取数据的API会更易于测试本地数据库持久化的模块。相反，如果你搞乱了两个模块间的逻辑，或将你网络请求的代码铺满了所有的地方，那么这将很难进行测试。</li><li>你app的核心是如何在其他app中变得突出。不要花费时间重复造轮子或一遍一遍地写相同的模板代码。相反，将你的心思花在如何使你的app独一无二，让Android架构组件以及其他推荐类库处理重复的部分。</li><li>持久化尽可能多和尽可能新鲜的数据，这样在离线模式下你的app也是可用的。你可能很享受高速的网络连接，可你的用户并不一定这样认为。</li><li>你的仓库应当指定单一数据源。当你的app需要访问数据时，应该永远来自于这个单一的数据源。</li></ul><h1 id="附加：显示网络状态"><a href="#附加：显示网络状态" class="headerlink" title="附加：显示网络状态"></a>附加：显示网络状态</h1><hr><p>在“推荐app架构”一节中，我们故意忽略了网络错误和加载状态，以使样例代码更简单。在本节中，我们致力于使用Resource类显示网络状态以及数据本身。</p><p>下面是样例的实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个描述数据以及其状态的泛型类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Resource</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">public</span> <span class="keyword">final</span> Status status;</span><br><span class="line">    <span class="meta">@Nullable</span> <span class="keyword">public</span> <span class="keyword">final</span> T data;</span><br><span class="line">    <span class="meta">@Nullable</span> <span class="keyword">public</span> <span class="keyword">final</span> String message;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Resource</span><span class="params">(@NonNull Status status, @Nullable T data, @Nullable String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.status = status;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Resource&lt;T&gt; <span class="title">success</span><span class="params">(@NonNull T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Resource&lt;&gt;(SUCCESS, data, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Resource&lt;T&gt; <span class="title">error</span><span class="params">(String msg, @Nullable T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Resource&lt;&gt;(ERROR, data, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Resource&lt;T&gt; <span class="title">loading</span><span class="params">(@Nullable T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Resource&lt;&gt;(LOADING, data, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>因为从网络加载数据并进行显示是一个常见的用例，我们创建了一个帮助类<code>NetworkBoundResource</code>可以在多个地方复用。下图是<code>NetworkBoundResource</code>的决策树：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/09/10/architecture-guide/network-bound-resource.png" alt="t2" title="">                </div>                <div class="image-caption">t2</div>            </figure></p><p>起点从观察数据源（数据库）开始。当入口被数据库第一次加载时，NetworkBoundResource检查结果是否足够良好以至于可以分发，并且/或应该从网络进行获取。注意，这二者可以同时发生，因为你可能想要显示缓存，同时从网络更新数据。</p><p>如果网络调用完全成功，保存结果至数据库并重新初始化数据流。如果网络请求失败，我们直接分发一个错误。</p><blockquote><p>将新的数据存储到磁盘以后，我们从数据库重新初始化数据流，但是通常我们并不需要这样做，因为数据库会分发这次变化。另一方面，依赖数据库去分发变化会是一把双刃剑，如果数据并没有变化，我们实际上可以避免这次分发。我们也不分发网络请求得到的数据，因为这违反了单一数据源的原则。</p></blockquote><p>以下是NetworkBoundResource所提供的API：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ResultType: 数据源类型</span></span><br><span class="line"><span class="comment">// RequestType: API返回的类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">NetworkBoundResource</span>&lt;<span class="title">ResultType</span>, <span class="title">RequestType</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 被调用保存API返回的结果至数据库</span></span><br><span class="line">    <span class="meta">@WorkerThread</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">saveCallResult</span><span class="params">(@NonNull RequestType item)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 被调用去判断是否应该从网络获取数据</span></span><br><span class="line">    <span class="meta">@MainThread</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">boolean</span> <span class="title">shouldFetch</span><span class="params">(@Nullable ResultType data)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 被调用从数据库获取缓存数据</span></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="meta">@MainThread</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> LiveData&lt;ResultType&gt; <span class="title">loadFromDb</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 被调用创建API请求</span></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="meta">@MainThread</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> LiveData&lt;ApiResponse&lt;RequestType&gt;&gt; createCall();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当获取数据失败时候调用</span></span><br><span class="line">    <span class="meta">@MainThread</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onFetchFailed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回代表数据源的LiveData</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> LiveData&lt;Resource&lt;ResultType&gt;&gt; getAsLiveData() &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>注意，上面的类定义了两种类型的参数（ResultType和RequestType），因为从API返回的数据类型可能和本地的数据类型并不匹配。</p><p>同样也请注意，上面的代码使用了ApiResponse用于网络请求。ApiResponse 是Retrofit2.Call类的简单包装，用于将返回结果转化为LiveData。</p><p>下面的NetworkBoundResource的其余实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">NetworkBoundResource</span>&lt;<span class="title">ResultType</span>, <span class="title">RequestType</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MediatorLiveData&lt;Resource&lt;ResultType&gt;&gt; result = <span class="keyword">new</span> MediatorLiveData&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MainThread</span></span><br><span class="line">    NetworkBoundResource() &#123;</span><br><span class="line">        result.setValue(Resource.loading(<span class="keyword">null</span>));</span><br><span class="line">        LiveData&lt;ResultType&gt; dbSource = loadFromDb();</span><br><span class="line">        result.addSource(dbSource, data -&gt; &#123;</span><br><span class="line">            result.removeSource(dbSource);</span><br><span class="line">            <span class="keyword">if</span> (shouldFetch(data)) &#123;</span><br><span class="line">                fetchFromNetwork(dbSource);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result.addSource(dbSource,</span><br><span class="line">                        newData -&gt; result.setValue(Resource.success(newData)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fetchFromNetwork</span><span class="params">(<span class="keyword">final</span> LiveData&lt;ResultType&gt; dbSource)</span> </span>&#123;</span><br><span class="line">        LiveData&lt;ApiResponse&lt;RequestType&gt;&gt; apiResponse = createCall();</span><br><span class="line">        <span class="comment">// 重新连接dbSource作为新的源,</span></span><br><span class="line">        <span class="comment">//这样会快速分发最新的数据</span></span><br><span class="line">        result.addSource(dbSource,</span><br><span class="line">                newData -&gt; result.setValue(Resource.loading(newData)));</span><br><span class="line">        result.addSource(apiResponse, response -&gt; &#123;</span><br><span class="line">            result.removeSource(apiResponse);</span><br><span class="line">            result.removeSource(dbSource);</span><br><span class="line">            <span class="keyword">if</span> (response.isSuccessful()) &#123;</span><br><span class="line">                saveResultAndReInit(response);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                onFetchFailed();</span><br><span class="line">                result.addSource(dbSource,</span><br><span class="line">                        newData -&gt; result.setValue(</span><br><span class="line">                                Resource.error(response.errorMessage, newData)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MainThread</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">saveResultAndReInit</span><span class="params">(ApiResponse&lt;RequestType&gt; response)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> AsyncTask&lt;Void, Void, Void&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> Void <span class="title">doInBackground</span><span class="params">(Void... voids)</span> </span>&#123;</span><br><span class="line">                saveCallResult(response.body);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPostExecute</span><span class="params">(Void aVoid)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 我们专门请求一个新的LiveData</span></span><br><span class="line">                <span class="comment">// 另一方面获取最新的缓存数据，可能并不是网络请求得到的最新数据</span></span><br><span class="line">                result.addSource(loadFromDb(),</span><br><span class="line">                        newData -&gt; result.setValue(Resource.success(newData)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>现在，我们使用NetworkBoundResource来重写UserRepository：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    Webservice webservice;</span><br><span class="line">    UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LiveData&lt;Resource&lt;User&gt;&gt; loadUser(<span class="keyword">final</span> String userId) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NetworkBoundResource&lt;User,User&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">saveCallResult</span><span class="params">(@NonNull User item)</span> </span>&#123;</span><br><span class="line">                userDao.insert(item);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">shouldFetch</span><span class="params">(@Nullable User data)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> rateLimiter.canFetch(userId) &amp;&amp; (data == <span class="keyword">null</span> || !isFresh(data));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@NonNull</span> <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> LiveData&lt;User&gt; <span class="title">loadFromDb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> userDao.load(userId);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@NonNull</span> <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">protected</span> LiveData&lt;ApiResponse&lt;User&gt;&gt; createCall() &#123;</span><br><span class="line">                <span class="keyword">return</span> webservice.getUser(userId);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.getAsLiveData();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;这份文档用于已经掌握构建Android app基本技能，现在想要了解推荐的架构，想要实践如何构建健壮、生产级别app的开发者。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;本文档假设读者已经熟悉Android框架。如果你刚跟接触Andro
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Architecture Components" scheme="http://yoursite.com/tags/Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android 8.0 功能和 API</title>
    <link href="http://yoursite.com/2017/08/29/android-8-0/"/>
    <id>http://yoursite.com/2017/08/29/android-8-0/</id>
    <published>2017-08-29T11:47:18.000Z</published>
    <updated>2018-04-10T01:32:54.293Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用户体验"><a href="#用户体验" class="headerlink" title="用户体验"></a>用户体验</h1><hr><h2 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h2><p><img src="/2017/08/29/android-8-0/notification-long-press.png" alt="Drawing" style="width: 200px;float:right"><br>在 Android 8.0 中，我们已重新设计通知，以便为管理通知行为和设置提供更轻松和更统一的方式。这些变更包括：<br>-<strong>通知渠道</strong>：Android 8.0 引入了通知渠道，其允许您为要显示的每种通知类型创建用户可自定义的渠道。用户界面将通知渠道称之为通知类别。要了解如何实现通知渠道的信息，请参阅<a href="https://developer.android.com/preview/features/notification-channels.html" target="_blank" rel="noopener">通知渠道</a>指南。<br>-<strong>通知标志</strong>：Android 8.0 引入了对在应用启动器图标上显示通知标志的支持。通知标志可反映某个应用是否存在与其关联、并且用户尚未予以清除也未对其采取行动的通知。通知标志也称为通知点。要了解如何调整通知标志，请参阅<a href="https://developer.android.com/preview/features/notification-badges.html" target="_blank" rel="noopener">通知标志</a>指南。<br>-<strong>休眠</strong>：用户可以将通知置于休眠状态，以便稍后重新显示它。重新显示时通知的重要程度与首次显示时相同。应用可以移除或更新已休眠的通知，但更新休眠的通知并不会使其重新显示。<br>-<strong>通知超时</strong>：现在，使用 <code>setTimeoutAfter()</code>创建通知时您可以设置超时。您可以使用此函数指定一个持续时间，超过该持续时间后，通知应取消。如果需要，您可以在指定的超时持续时间之前取消通知。<br>-<strong>通知设置</strong>：当您使用 <code>Notification.INTENT_CATEGORY_NOTIFICATION_PREFERENCESIntent</code> 从通知创建指向应用通知设置的链接时，您可以调用 <code>setSettingsText()</code> 来设置要显示的文本。此系统可以提供以下 <code>Extra</code> 数据和 <code>Intent</code>，用于过滤应用必须向用户显示的设置：<code>EXTRA_CHANNEL_ID</code>、<code>NOTIFICATION_TAG 和 NOTIFICATION_ID</code>。<br>-<strong>通知清除</strong>：系统现在可区分通知是由用户清除，还是由应用移除。要查看清除通知的方式，您应实现 <code>NotificationListenerService</code> 类的新 <code>onNotificationRemoved()</code> 函数。<br>-<strong>背景颜色</strong>：您现在可以设置和启用通知的背景颜色。只能在用户必须一眼就能看到的持续任务的通知中使用此功能。例如，您可以为与驾车路线或正在进行的通话有关的通知设置背景颜色。您还可以使用 <code>Notification.Builder.setColor()</code> 设置所需的背景颜色。这样做将允许您使用 <code>Notification.Builder.setColorized()</code> 启用通知的背景颜色设置。<br>-<strong>消息样式</strong>：现在，使用 <code>MessagingStyle</code> 类的通知可在其折叠形式中显示更多内容。对于与消息有关的通知，您应使用 <code>MessagingStyle</code> 类。您还可以使用新的 <code>addHistoricMessage()</code> 函数，通过向与消息相关的通知添加历史消息为会话提供上下文。</p><h2 id="自动填充框架"><a href="#自动填充框架" class="headerlink" title="自动填充框架"></a>自动填充框架</h2><p>帐号创建、登录和信用卡交易需要时间并且容易出错。在使用要求执行此类重复性任务的应用时，用户很容易遭受挫折。<br>Android 8.0 通过引入自动填充框架，简化了登录和信用卡表单之类表单的填写工作。在用户选择接受自动填充之后，新老应用都可使用自动填充框架。<br>您可以采取某些措施，优化您的应用使用此框架的方式。如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/autofill.html" target="_blank" rel="noopener">自动填充框架概览</a>。</p><h2 id="画中画模式"><a href="#画中画模式" class="headerlink" title="画中画模式"></a>画中画模式</h2><p>Android 8.0 允许以画中画 (PIP) 模式启动操作组件。PIP 是一种特殊的多窗口模式，最常用于视频播放。目前，PIP 模式可用于 Android TV，而 Android 8.0 则让该功能可进一步用于其他 Android 设备。<br>当某个 Activity 处于 PIP 模式时，它会处于暂停状态，但仍应继续显示内容。因此，您应确保您的应用在 <code>onPause()</code> 处理程序中进行处理时不会暂停播放。相反，您应在 onStop() 中暂停播放视频，并在 <code>onStart()</code> 中继续播放。如需了解详细信息，请参阅<a href="https://developer.android.com/guide/topics/ui/multi-window.html#lifecycle" target="_blank" rel="noopener">多窗口生命周期</a>。<br>要指定您的 Activity 可以使用 PIP 模式，请在清单中将 android:supportsPictureInPicture 设置为 true。（从 Android 8.0 开始，如果您打算在 Android TV 或其他 Android 设备上支持 PIP 模式，则无需将 android:resizeableActivity 设置为 true；只有在您的 Activity 支持其他多窗口模式时，才需要设置 android:resizeableActivity。）</p><h2 id="API-变更"><a href="#API-变更" class="headerlink" title="API 变更"></a>API 变更</h2><p>Android 8.0 引入一种新的对象 PictureInPictureParams，您可以将该对象传递给 PIP 函数来指定某个 Activity 在其处于 PIP 模式时的行为。此对象还指定了各种属性，例如操作组件的首选纵横比。</p><p>现在，在添加画中画中介绍的现有 PIP 函数可用于所有 Android 设备，而不仅限于 Android TV。此外，Android 8.0 还提供以下函数来支持 PIP 模式：</p><ul><li><p><strong>Activity.enterPictureInPictureMode(PictureInPictureParams args)</strong>：将操作组件置于画中画模式。操作组件的纵横比和其他配置设置均由 <code>args</code> 指定。如果 <code>args</code> 中的任何字段为空，系统将使用您上次调用 <code>Activity.setPictureInPictureParams()</code> 时所设置的值。<br>指定的操作组件被置于屏幕的一角，屏幕剩余部分则被屏幕显示的上一个操作组件填满。进入 PIP 模式的 Activity 将进入暂停状态，但仍保持已启动状态。如果用户点按此 PIP 操作组件，系统将显示一个菜单供用户操作，而在操作组件处于 PIP 状态期间，不会理会任何触摸事件。</p></li><li><p><strong>Activity.setPictureInPictureParams()</strong>：更新操作组件的 PIP 配置设置。如果操作组件目前处于 PIP 模式，则会更新此设置；如果操作组件的纵横比发生变化，这非常有用。如果操作组件不处于 PIP 模式，则会使用这些配置设置，而不会考虑您调用的 <code>enterPictureInPictureMode()</code> 函数。</p></li></ul><h2 id="可下载字体"><a href="#可下载字体" class="headerlink" title="可下载字体"></a>可下载字体</h2><p>Android 8.0 和 Android 支持库 26 允许您从提供程序应用请求字体，而无需将字体绑定到 APK 中或让 APK 下载字体。此功能可减小 APK 大小，提高应用安装成功率，使多个应用可以共享同一种字体。</p><p>如需了解有关下载字体的详细信息，请参阅 <a href="https://developer.android.com/preview/features/downloadable-fonts.html" target="_blank" rel="noopener">可下载字体</a>。</p><h2 id="XML-中的字体"><a href="#XML-中的字体" class="headerlink" title="XML 中的字体"></a>XML 中的字体</h2><p>Android 8.0 推出一项新功能，即 XML 中的字体，允许您使用字体作为资源。这意味着，不再需要以资产的形式捆绑字体。字体在 R 文件中编译，并且作为一种资源，可自动用于系统。然后，您可以利用一种新的资源类型 font 来访问这些字体。</p><p>在运行 API 版本 14 及更高版本的设备中，支持库 26 对此功能提供完全支持。</p><p>如需了解有关以资源形式使用字体以及检索系统字体有关的详细信息，请参阅 <a href="https://developer.android.com/preview/features/fonts-in-xml.html" target="_blank" rel="noopener">XML 中的字体</a>。</p><h2 id="自动调整-TextView-的大小"><a href="#自动调整-TextView-的大小" class="headerlink" title="自动调整 TextView 的大小"></a>自动调整 TextView 的大小</h2><p>Android 8.0 允许您根据 TextView 的大小自动设置文本展开或收缩的大小。这意味着，在不同屏幕上优化文本大小或者优化包含动态内容的文本大小比以往简单多了。如需了解有关如何在 Android 8.0 中自动调整 TextView 的大小的详细信息，请参阅<a href="https://developer.android.com/preview/features/autosizing-textview.html" target="_blank" rel="noopener">自动调整 TextView 的大小</a>。</p><h2 id="自适应图标"><a href="#自适应图标" class="headerlink" title="自适应图标"></a>自适应图标</h2><p>Android 8.0 引入自适应启动器图标。自适应图标支持视觉效果，可在不同设备型号上显示为各种不同的形状。要了解如何创建自适应图标，请参阅<a href="https://developer.android.com/preview/features/adaptive-icons.html" target="_blank" rel="noopener">自适应图标预览功能指南</a>。</p><h2 id="颜色管理"><a href="#颜色管理" class="headerlink" title="颜色管理"></a>颜色管理</h2><p>图像应用的 Android 开发者现在可以利用支持广色域彩色显示的新设备。要显示广色域图像，应用需要在其清单（每个操作组件）中启用一个标志，并加载具有嵌入的广域彩色配置文件（AdobeRGB、Pro Photo RGB、DCI-P3 等）的位图。</p><h2 id="WebView-API"><a href="#WebView-API" class="headerlink" title="WebView API"></a>WebView API</h2><p>Android 8.0 提供多种 API，帮助您管理在应用中显示网页内容的 <code>WebView</code> 对象。这些 API 可增强应用的稳定性和安全性，它们包括：</p><ul><li>Version API</li><li>Google SafeBrowsing API</li><li>Termination Handle API</li><li>Renderer Importance API<br>要详细了解如何这些 API，请参阅<a href="https://developer.android.com/preview/features/managing-webview.html" target="_blank" rel="noopener">管理 WebView</a>。</li></ul><h2 id="固定快捷方式和小部件"><a href="#固定快捷方式和小部件" class="headerlink" title="固定快捷方式和小部件"></a>固定快捷方式和小部件</h2><p>Android 8.0 引入了快捷方式和微件的应用内固定功能。在您的应用中，您可以根据用户权限为支持的启动器创建固定的快捷方式和小部件。</p><p>如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/pinning-shortcuts-widgets.html" target="_blank" rel="noopener">固定快捷方式和微件</a>预览功能指南。</p><p>##最大屏幕纵横比<br>以 Android 7.1（API 级别 25）或更低版本为目标平台的应用默认的最大屏幕纵横比为 1.86。针对 Android 8.0 或更高版本的应用没有默认的最大纵横比。如果您的应用需要设置最大纵横比，请使用定义您的操作组件的清单文件中的 <code>maxAspectRatio</code> 属性。</p><h2 id="多显示器支持"><a href="#多显示器支持" class="headerlink" title="多显示器支持"></a>多显示器支持</h2><p>从 Android 8.0 开始，此平台为多显示器提供增强的支持。如果 Activity 支持多窗口模式，并且在具有多显示器的设备上运行，则用户可以将 Activity 从一个显示器移动到另一个显示器。当应用启动 Activity 时，此应用可指定 Activity 应在哪个显示器上运行。</p><blockquote><p><strong>注</strong>：如果 Activity 支持多窗口模式，则 Android 8.0 将为该 Activity 自动启用多显示器支持。您应测试您的应用，确保它在多显示器环境下可正常运行。<br>每次只有一个 Activity 可以处于继续状态，即使此应用具有多个显示器。具有焦点的 Activity 将处于继续状态，所有其他可见的 Activity 均暂停，但不会停止。如需了解有关当多个 Activity 可见时活动生命周期的详细信息，请参阅<a href="https://developer.android.com/guide/topics/ui/multi-window.html#lifecycle" target="_blank" rel="noopener">多窗口生命周期</a>。</p></blockquote><p>当用户将 Activity 从一个显示器移动到另一个显示器时，系统将调整 Activity 大小，并根据需要发起运行时变更。您的 Activity 可以自行处理配置变更，或允许系统销毁包含该 Activity 的进程，并以新的尺寸重新创建它。如需了解详细信息，请参阅<a href="https://developer.android.com/guide/topics/resources/runtime-changes.html" target="_blank" rel="noopener">处理配置变更</a>。<br><strong>setLaunchDisplayId()</strong><br>&emsp;&emsp;指定 Activity 在启动后应显示在哪个显示器上。<br><strong>getLaunchDisplayId()</strong><br>&emsp;&emsp;返回操作组件的当前启动显示器。<br>对 adb shell 进行了扩展，以支持多个显示器。shell start 命令现在可用于启动操作组件，并指定操作组件的目标显示器：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell start &lt;activity_name&gt; --display &lt;display_id&gt;</span><br></pre></td></tr></table></figure></p><h2 id="统一的布局外边距和内边距"><a href="#统一的布局外边距和内边距" class="headerlink" title="统一的布局外边距和内边距"></a>统一的布局外边距和内边距</h2><p>Android 8.0 让您可以更轻松地指定 View 元素的对边使用相同外边距和内边距的情形。具体来说，您现在可以在布局 XML 文件中使用以下属性：<br>-<strong>layout_marginVertical</strong>，同时定义 <code>layout_marginTop</code> 和 <code>layout_marginBottom</code>。<br>-<strong>layout_marginHorizontal</strong>，同时定义 <code>layout_marginLeft</code> 和 <code>layout_marginRight</code>。<br>-<strong>paddingVertical</strong>，同时定义 <code>paddingTop</code> 和 <code>paddingBottom</code>。<br>-<strong>paddingHorizontal</strong>，同时定义 <code>paddingLeft</code> 和 <code>paddingRight</code>。</p><blockquote><p><strong>注</strong>：如果您自定义应用逻辑以支持不同语言和文化（包括文本方向），请记住，这些属性不会影响 <code>layout_marginStart</code>、<code>layout_marginEnd</code>、<code>paddingStart</code> 或 <code>paddingEnd</code> 的值。您可以自行设置这些值和新的垂直与水平布局属性来创建取决于文本方向的布局行为。</p></blockquote><h2 id="指针捕获"><a href="#指针捕获" class="headerlink" title="指针捕获"></a>指针捕获</h2><p>某些应用（例如游戏、远程桌面和虚拟化客户端）将大大受益于鼠标指针控制。指针捕获是 Android 8.0 中的一项新功能，可以通过将所有鼠标事件传递到您的应用中焦点视图的方式提供此类控制。</p><p>从 Android 8.0 开始，您的应用中的 View 可以请求指针捕获并定义一个侦听器来处理捕获的指针事件。鼠标指针在此模式下将隐藏。如果不再需要鼠标信息，该视图可以释放指针捕获。系统也可以在视图丢失焦点时（例如，当用户打开另一个应用时）释放指针捕获。</p><p>如需了解有关如何在您的应用中使用此功能的信息，请参<a href="https://developer.android.com/preview/features/pointer-capture.html" target="_blank" rel="noopener">阅指针捕获</a>。</p><h2 id="应用类别"><a href="#应用类别" class="headerlink" title="应用类别"></a>应用类别</h2><p>在适当的情况下，Android 8.0 允许每个应用声明其所属的类别。这些类别用于将应用呈现给用户的用途或功能类似的应用归类在一起，例如按流量消耗、电池消耗和存储消耗将应用归类。您可以在 <application> 清单标记中设置 android:appCategory 属性，定义应用的类别。</application></p><h2 id="Android-TV-启动器"><a href="#Android-TV-启动器" class="headerlink" title="Android TV 启动器"></a>Android TV 启动器</h2><p>Android 8.0 添加了一种以内容为中心的全新 Android TV 主屏幕体验，支持 Android TV 模拟器和 Nexus Player Android 8.0 设备映像。新的主屏幕在对应于频道的行中组织视频内容，这些频道在系统上通过应用填充各个节目。应用可以发布多个频道，用户可以配置他们希望在主屏幕上看到哪些频道。Android TV 也包含一个 Watch Next 行，此行根据用户的观看习惯从应用填充节目。应用也可以提供视频预览，这些预览会在用户聚焦到节目时自动播放。用于填充频道和节目的 API 属于 TvProvider API，这些 API 以 Android 支持库模块的形式随 Android 8.0 分发。</p><h2 id="AnimatorSet"><a href="#AnimatorSet" class="headerlink" title="AnimatorSet"></a>AnimatorSet</h2><p>从 Android 8.0 开始，AnimatorSet API 现在支持寻道和倒播功能。寻道功能允许您将动画的位置设置为指定的时间点处。如果您的应用包含可撤消的操作的动画，倒播功能会很有用。现在，您不必定义两组独立的动画，而只需反向播放同一组动画。</p><h2 id="输入和导航"><a href="#输入和导航" class="headerlink" title="输入和导航"></a>输入和导航</h2><h3 id="键盘导航键区"><a href="#键盘导航键区" class="headerlink" title="键盘导航键区"></a>键盘导航键区</h3><p>如果您的应用中，某个操作组件使用一种复杂的视图层次结构，可考虑将多组界面元素组成一个键区，简化键盘导航这些元素的操作。用户可以在 Chromebook 设备上按 Meta+Tab 或 Search+Tab，在不同键区之间导航。键区的一些范例包括：侧面板、导航栏、主内容区域和可能包含多个子元素的元素。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/08/29/android-8-0/keyboard-navigation-clusters.png" alt="包含 5 个键区的操作组件" title="">                </div>                <div class="image-caption">包含 5 个键区的操作组件</div>            </figure><br>要将一个 <code>View</code> 或 <code>ViewGroup</code> 元素设置为一个键区，请在元素的布局 XML 文件中将 <code>android:keyboardNavigationCluster</code> 属性设置为 true，或者将 true 传递至应用界面逻辑中的 <code>setKeyboardNavigationCluster()</code>。</p><blockquote><p><strong>注</strong>：键区不能嵌套，不过，非嵌套键区可以显示在层次结构的不同层级。如果您尝试嵌套键区，框架仅会将最顶层的 ViewGroup 元素视为键区。</p></blockquote><p>在具有触摸屏的设备中，您可以将某个键区指定的 ViewGroup 对象的 <code>android:touchscreenBlocksFocus</code> 元素设置为 true，仅允许从键区导航进入和离开此键区。如果您将此配置应用于某个键区，用户将无法使用 Tab 键或箭头键导航进入或离开此键区，而是必须按键区导航键盘组合键</p><h3 id="视图默认焦点"><a href="#视图默认焦点" class="headerlink" title="视图默认焦点"></a>视图默认焦点</h3><p>在 Android 8.0 中，您可以指定在（重新）创建的操作组件继续运行并且用户按下键盘导航键（例如 Tab 键）之后应接收焦点的 View。要应用“设为默认焦点”设置，请在包含界面元素的布局 XML 文件中将 View 元素的 <code>android:focusedByDefault</code> 属性设置为 true，或者将 true 传递至应用界面逻辑中的 <code>setFocusedByDefault()</code>。</p><h1 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h1><hr><h2 id="新的-StrictMode-检测程序"><a href="#新的-StrictMode-检测程序" class="headerlink" title="新的 StrictMode 检测程序"></a>新的 StrictMode 检测程序</h2><p>Android 8.0 添加了三个新的 StrictMode 检测程序，帮助识别应用可能出现的错误：</p><ul><li><code>detectUnbufferedIo()</code> 将检测您的应用何时读取或写入未缓冲的数据，这可能极大影响性能。</li><li><code>detectContentUriWithoutPermission()</code> 将检测您的应用在其外部启动 Activity 时何时意外忘记向其他应用授予权限。</li><li><code>detectUntaggedSockets()</code> 将检测您的应用何时使用网络流量，而不使用 setThreadStatsTag(int) 将流量标记用于调试目的。</li></ul><h2 id="缓存数据"><a href="#缓存数据" class="headerlink" title="缓存数据"></a>缓存数据</h2><p>Android 8.0 优化了缓存数据的导航和行为。现在，每个应用均获得一定的磁盘空间配额，用于存储 <code>getCacheQuotaBytes(UUID)</code> 返回的缓存数据。</p><p>当系统需要释放磁盘空间时，将开始从超过配额最多的应用中删除缓存文件。因此，如果将您的缓存数据量始终保持低于配额的水平，则在必须清除系统中的某些文件时，您的缓存文件将能坚持到最后。系统在决定删除您的应用中的哪些缓存文件时，将首先考虑删除最旧的文件（由修改时间确定）。</p><p>您还可以针对每个目录启用两种新行为，以控制系统如何释放缓存数据：</p><ul><li><strong>StorageManager.setCacheBehaviorAtomic()</strong> 可用于指示某个目录及其所有内容应作为一个不可分割的整体进行删除。</li><li><strong>setCacheBehaviorTombstone(File, boolean)</strong> 可用于指示不应删除某个目录内的文件，而应将它们截断到 0 字节长度，使空文件保持完好。</li></ul><p>最后，在需要为大文件分配磁盘空间时，可考虑使用新的 <code>allocateBytes(FileDescriptor, long)</code> API，它将自动清除属于其他应用的缓存文件（根据需要），以满足您的请求。在确定设备是否有足够的磁盘空间保存您的新数据时，请调用 <code>getAllocatableBytes(UUID)</code> 而不要使用 <code>getUsableSpace()</code>，因为前者会考虑系统要为您清除的任何缓存数据。</p><h2 id="内容提供程序分页"><a href="#内容提供程序分页" class="headerlink" title="内容提供程序分页"></a>内容提供程序分页</h2><p>我们已更新内容提供程序以支持加载大型数据集，每次加载一页。例如，一个具有大量图像的照片应用可查询要在页面中显示的数据的子集。内容提供程序返回的每个结果页面由一个 Cursor 对象表示。客户端和提供程序必须实现分页才能利用此功能。</p><p>如需了解有关内容提供程序变更的详细信息，请参阅<a href="https://developer.android.com/reference/android/content/ContentProvider.html" target="_blank" rel="noopener">ContentProvider</a>和<a href="https://developer.android.com/reference/android/content/ContentProviderClient.html" target="_blank" rel="noopener">ContentProviderClient</a>。</p><h2 id="内容刷新请求"><a href="#内容刷新请求" class="headerlink" title="内容刷新请求"></a>内容刷新请求</h2><p>现在，<strong>ContentProvider</strong> 和 <strong>ContentResolver</strong> 类均包含 <code>refresh()</code> 函数，这样，客户端可以更轻松地知道所请求的信息是否为最新信息。</p><p>您可以扩展 <strong>ContentProvider</strong> 以添加自定义的内容刷新逻辑。请务必重写 <code>refresh()</code>函数，以返回 true，告知提供程序的客户端您已尝试自行刷新数据。</p><p>您的客户端应用可通过调用另一个函数（又称 refresh()），显式请求已刷新的内容。在调用此函数时，传入待刷新数据的 URI。</p><blockquote><p><strong>注：</strong>由于您可能通过网络不断请求数据，您应仅在有明显迹象表明内容确已过时时才从客户端调用 refresh()。执行此类内容刷新最常见的原因是响应滑动刷新手势，该手势显式请求当前界面显示最新内容。</p></blockquote><h2 id="JobScheduler-改进"><a href="#JobScheduler-改进" class="headerlink" title="JobScheduler 改进"></a>JobScheduler 改进</h2><p>Android 8.0 引入了对 <strong>JobScheduler</strong> 的多项改进。由于您通常可以使用计划作业替代现在受限的后台服务或隐式广播接收器，这些改进可以让您的应用更轻松地符合新的后台执行限制。</p><p><strong>JobScheduler</strong> 的更新包括：</p><ul><li>您现在可以将工作队列与计划作业关联。要将一个工作项添加到作业的队列中，请调用 JobScheduler.enqueue()。当作业运行时，它可以将待定工作从队列中剥离并进行处理。这种功能可以处理之前需要启动后台服务（尤其是实现 IntentService 的服务）的许多用例。</li><li>您现在可以通过调用 JobInfo.Builder.setClipData() 的方式将 ClipData 与作业关联。利用此选项，您可以将 URI 权限授予与作业关联，类似于这些权限传递到 Context.startService() 的方式。您也可以将 URI 权限授予用于工作队列上的 intent。</li><li>计划作业现在支持多个新的约束条件：<br><code>JobInfo.isRequireStorageNotLow()</code><br>&emsp;&emsp;如果设备的可用存储空间非常低，作业将不会运行。<br><code>JobInfo.isRequireBatteryNotLow()</code><br>&emsp;&emsp;如果电池电量等于或低于临界阈值，作业将不会运行；临界阈值是指设备显示 Low battery warning 系统对话框的电量。<br><code>NETWORK_TYPE_METERED</code><br>&emsp;&emsp;作业需要一个按流量计费的网络连接，比如大多数移动数据网络数据套餐。</li></ul><h2 id="自定义数据存储"><a href="#自定义数据存储" class="headerlink" title="自定义数据存储"></a>自定义数据存储</h2><p>Android 8.0 允许您为首选项提供自定义数据存储，如果您的应用将首选项存储在云或本地数据库中，或者如果首选项特定于某个设备，此功能会非常有用。如需了解有关实现数据存储的详细信息，请参阅<a href="https://developer.android.com/preview/features/custom-data-store.html" target="_blank" rel="noopener">自定义数据存储</a>。</p><h2 id="findViewById-签名变更"><a href="#findViewById-签名变更" class="headerlink" title="findViewById() 签名变更"></a>findViewById() 签名变更</h2><p>现在，findViewById() 函数的全部实例均返回 <code>&lt;T extends View&gt;</code> T，而不是 View。此变更会带来以下影响：</p><ul><li>例如，如果 <code>someMethod(View)</code> 和 <code>someMethod(TextView)</code> 均接受调用 <code>findViewById()</code> 的结果，这可能导致现有代码的返回类型不确定。</li><li>在使用 Java 8 源语言时，这需要在返回类型不受限制时（例如，<code>assertNotNull(findViewById(...)).someViewMethod())</code>）显式转换为 View。</li><li>重写非最终的 <code>findViewById()</code> 函数（例如，Activity.findViewById()）将需要更新其返回类型。</li></ul><h1 id="媒体增强功能"><a href="#媒体增强功能" class="headerlink" title="媒体增强功能"></a>媒体增强功能</h1><hr><p><a href="https://developer.android.com/guide/topics/providers/document-provider.html" target="_blank" rel="noopener">存储访问框架 (SAF)</a> 允许应用显示自定义 <strong>DocumentsProvider</strong>，后者可以为其他应用提供访问数据源中的文件的权限。事实上，文档提供程序甚至可以提供驻留在网络存储区或使用<a href="https://en.wikipedia.org/wiki/Media_Transfer_Protocol" target="_blank" rel="noopener">媒体传输协议 (MTP) </a>等协议的文件的访问权限。</p><p>但是，访问远程数据源中的大媒体文件面临一些挑战：</p><ul><li>媒体播放器需要以寻址方式访问来自文档提供程序的文件。当大媒体文件驻留在远程数据源上时，文档提供程序必须事先提取所有数据，并创建快照文件描述符。媒体播放器无法播放没有文件描述符的文件，因此在文档提供程序完成文件下载前，无法开始播放。</li><li>照片应用等媒体集合管理器必须通过作用域文件夹遍历一系列访问 URI 才能访问存储在外部 SD 卡上的媒体。这种访问模式会让媒体上的批量操作（例如移动、复制和删除）变得非常缓慢。</li><li>媒体集合管理器无法根据文档的 URI 确定其位置。这就让这些类型的应用难以允许用户选择媒体文件的保存位置。<br>Android 8.0 通过改进存储访问框架解决了各个挑战。</li></ul><h3 id="自定义文档提供程序"><a href="#自定义文档提供程序" class="headerlink" title="自定义文档提供程序"></a>自定义文档提供程序</h3><p>从 Android 8.0 开始，存储访问框架允许自定义<a href="https://developer.android.com/guide/topics/providers/create-document-provider.html" target="_blank" rel="noopener">文档提供程序</a>为驻留在远程数据源中的文件创建可寻址的文件描述符。SAF 可打开文件，获取原生可寻址的文件描述符。然后 SAF 向文档提供程序提交离散字节请求。此功能使文档提供程序可以返回媒体播放器应用请求的准确字节范围，而不必事先缓存整个文件。</p><p>要使用此功能，您需要调用新的 <code>StorageManager.openProxyFileDescriptor()</code> 函数。<code>openProxyFileDescriptor()</code> 函数可接受 <strong>ProxyFileDescriptorCallback</strong> 对象作为回调。任何时候，当客户端应用对文档提供程序返回的文件描述符执行文件操作时，SAF 都会调用回调。</p><h3 id="直接文档访问"><a href="#直接文档访问" class="headerlink" title="直接文档访问"></a>直接文档访问</h3><p>从 Android 8.0 开始，您可以使用 <code>getDocumentUri()</code> 函数获得与给定 mediaUri 引用相同文档的 URI。不过，由于返回的 URI 由 <strong>DocumentsProvider</strong> 提供支持，媒体集合管理器可以直接访问文档，不用遍历作用域目录树。因此，媒体管理器能够以明显加快的速度对文档执行文件操作。</p><blockquote><p><strong>注意：</strong><code>getDocumentUri()</code> 函数仅可以定位媒体文件；无法授予应用访问这些文件的权限。要详细了解如何获取媒体文件的访问权限，请参阅参考文档。</p></blockquote><h3 id="文档路径"><a href="#文档路径" class="headerlink" title="文档路径"></a>文档路径</h3><p>在 Android 8.0 中使用存储访问框架时，您可以根据文档的 ID，使用 <code>findDocumentPath()</code> 函数（存在于 <strong>DocumentsContract</strong> 和 <strong>DocumentsProvider</strong> 类中）从文件系统的根目录中确定路径。该函数将在 DocumentsContract.Path 对象中返回此路径。如果文件系统对相同文档有多个定义的路径，该函数将返回访问具有给定 ID 的文档时最常使用的路径。</p><p>此功能在下列情况下特别有用：</p><ul><li>您的应用使用可以显示特定文档位置的“另存为”对话框。</li><li>您的应用在搜索结果视图中显示文件夹并且如果用户选择某个文件夹，应用必须加载此特定文件夹内的子文档。<blockquote><p><strong>注：</strong>如果您的应用仅具有路径中某些文档的访问权限，那么 <code>findDocumentPath()</code> 的返回值将仅包含您的应用可以访问的文件夹和文档。</p></blockquote></li></ul><h1 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h1><hr><h2 id="WLAN-感知"><a href="#WLAN-感知" class="headerlink" title="WLAN 感知"></a>WLAN 感知</h2><p>Android 8.0 新增了对 WLAN 感知的支持，此技术基于周边感知联网 (NAN) 规范。在具有相应 WLAN 感知硬件的设备上，应用和附近设备可以通过 WLAN 进行搜索和通信，无需依赖互联网接入点。我们正在与硬件合作伙伴合作，以尽快将 WLAN 感知技术应用于设备。要了解有关如何将 WLAN 感知集成到您的应用中的信息，请参阅 <a href="https://developer.android.com/preview/features/wifi-aware.html" target="_blank" rel="noopener">WLAN 感知</a>。</p><h2 id="蓝牙"><a href="#蓝牙" class="headerlink" title="蓝牙"></a>蓝牙</h2><p>Android 8.0 通过增加以下功能，增强了平台对蓝牙的支持：</p><ul><li>支持 AVRCP 1.4 标准，该标准支持音乐库浏览。</li><li>支持蓝牙低功耗 (BLE) 5.0 标准。</li><li>将 Sony LDAC 编解码器集成到蓝牙堆叠中。</li></ul><h2 id="配套设备配对"><a href="#配套设备配对" class="headerlink" title="配套设备配对"></a>配套设备配对</h2><p>在尝试通过蓝牙、BLE 和 WLAN 与配套设备配对时，Android 8.0 提供的 API 允许您自定义配对请求对话框。如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/companion-device-pairing.html" target="_blank" rel="noopener">配套设备配对</a>。</p><p>如需了解有关在 Android 上使用<a href="https://developer.android.com/guide/topics/connectivity/bluetooth.html" target="_blank" rel="noopener">蓝牙</a>的详细信息，请参阅蓝牙指南。有关对蓝牙所作的特定于 Android 8.0 的变更，请参阅 <a href="https://developer.android.com/preview/behavior-changes.html" target="_blank" rel="noopener">Android 8.0 行为变更</a>页面的<a href="https://developer.android.com/preview/behavior-changes.html#bt" target="_blank" rel="noopener">蓝牙</a>部分。</p><h1 id="共享"><a href="#共享" class="headerlink" title="共享"></a>共享</h1><hr><h2 id="智能共享"><a href="#智能共享" class="headerlink" title="智能共享"></a>智能共享</h2><p>Android 8.0 了解用户的个性化分享首选项，在通过哪些应用分享各个类型的内容方面，也有着更好的把握。例如，如果用户为一张收据拍照，Android 8.0 可以建议费用跟踪应用；如果用户自拍，一款社交媒体应用可以更好地处理图像。Android 8.0 可以根据用户的个性化首选项自动学习所有这些模式。</p><p>智能分享适用于 image 之外的内容类型，例如 <strong>audio</strong>、<strong>video</strong>、<strong>text</strong> 和 <strong>URL</strong> 等。</p><p>要启用智能分享，请将具有最多三个字符串注释的 <strong>ArrayList</strong> 添加到分享内容的 intent。这些注释应说明内容中的主要部分或主题。下面的代码示例显示了如何向 intent 添加注释：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; annotations = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">annotations.add(<span class="string">"topic1"</span>);</span><br><span class="line">annotations.add(<span class="string">"topic2"</span>);</span><br><span class="line">annotations.add(<span class="string">"topic3"</span>);</span><br><span class="line"></span><br><span class="line">intent.putStringArrayListExtra(</span><br><span class="line">    Intent.EXTRA_CONTENT_ANNOTATIONS,</span><br><span class="line">    annotations</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>如需了解有关智能分享注释的详细信息，请参阅 <code>EXTRA_CONTENT_ANNOTATIONS</code>。</p><h2 id="智能文本选择"><a href="#智能文本选择" class="headerlink" title="智能文本选择"></a>智能文本选择</h2><p>在兼容设备上，Android 8.0 让应用可以帮助用户以更有意义的方式与文本交互。当用户长按某个实体中可识别格式的单词（例如某个地址或餐馆名称）时，系统会选中整个实体。用户会看到一个浮动工具栏，该工具栏包含可以处理所选文本实体的应用。例如，如果系统识别出某个地址，它可以将用户导向地图应用。</p><p>系统识别的实体包括地址、网址、电话号码和电子邮件地址。如需了解详细信息，请参阅 <strong>TextClassifier</strong>。</p><h1 id="无障碍功能"><a href="#无障碍功能" class="headerlink" title="无障碍功能"></a>无障碍功能</h1><hr><p>Android 8.0 支持开发者使用以下无障碍功能创建自己的无障碍服务。如需了解有关如何让您的应用更便于访问的更多信息，请参阅<a href="https://developer.android.com/guide/topics/ui/accessibility/index.html" target="_blank" rel="noopener">无障碍功能</a>。</p><h2 id="无障碍功能按钮"><a href="#无障碍功能按钮" class="headerlink" title="无障碍功能按钮"></a>无障碍功能按钮</h2><p>您的无障碍服务现在可以请求在系统的导航区域显示无障碍功能按钮，该按钮让用户可从其设备上的任意位置快速激活您的服务功能。要执行此操作，请在某个 <strong>AccessibilityServiceInfo</strong> 对象的 <strong>android:accessibilityFlags</strong> 属性中添加 <strong>FLAG_REQUEST_ACCESSIBILITY_BUTTON</strong> 标志。稍后，您可以使用 <code>registerAccessibilityButtonCallback()</code> 注册回调。</p><blockquote><p><strong>注：</strong>此功能仅适用于提供软件渲染导航区域的设备。请始终使用 <code>isAccessibilityButtonAvailable()</code>，并通过实现 <code>onAvailabilityChanged()</code> 根据无障碍功能按钮的可用性来响应变更。通过该方式，用户可以始终访问您的服务功能，即使该无障碍功能按钮不受支持或变得不可用。</p></blockquote><h2 id="独立的音量调整"><a href="#独立的音量调整" class="headerlink" title="独立的音量调整"></a>独立的音量调整</h2><p>Android 8.0 引入了 <strong>STREAM_ACCESSIBILITY</strong> 音量类别，允许您单独控制无障碍服务音频输出的音量，而不会影响设备上的其他声音。</p><p>要使用这个新的流类型来控制无障碍服务音量，请在无障碍服务中设置 <strong>FLAG_ENABLE_ACCESSIBILITY_VOLUME</strong> 选项。然后，您可以使用 <code>adjustStreamVolume()</code> 更改设备的无障碍服务音频音量。</p><h2 id="指纹手势"><a href="#指纹手势" class="headerlink" title="指纹手势"></a>指纹手势</h2><p>您的无障碍服务也可以响应替代的输入机制，即沿设备的指纹传感器按特定方向滑动（上、下、左和右）。要接收有关这些交互的回调，请完成以下一系列步骤：</p><ol><li>声明 <strong>USE_FINGERPRINT </strong>权限和 <strong>CAPABILITY_CAN_REQUEST_FINGERPRINT_GESTURES</strong> 功能。</li><li>在 <strong>android:accessibilityFlags</strong> 属性中设置 <strong>FLAG_REQUEST_FINGERPRINT_GESTURES</strong> 标志。</li><li>使用 <code>registerFingerprintGestureCallback()</code> 注册回调。</li></ol><p>请记住，并非所有设备都包含指纹传感器。您可以使用 <code>isHardwareDetected()</code> 函数识别设备是否支持此传感器。即使对于包含指纹传感器的设备，您的服务也只有在指纹传感器不用于身份验证目的时才可使用它。要识别此传感器何时可用，请调用 <code>isGestureDetectionAvailable()</code> 函数并实现 <code>onGestureDetectionAvailabilityChanged()</code> 回调。</p><h2 id="字词级突出显示"><a href="#字词级突出显示" class="headerlink" title="字词级突出显示"></a>字词级突出显示</h2><p>要确定 <strong>TextView</strong> 对象中可见字符的位置，您可以在 <strong>EXTRA_DATA_TEXT_CHARACTER_LOCATION_KEY</strong> 中将其作为第一个参数传递到 <code>refreshWithExtraData()</code> 中。随后会更新您为 <code>refreshWithExtraData()</code> 提供的作为第二个参数的 <strong>Bundle</strong> 对象，使之包含一个可打包的 <strong>Rect</strong> 对象数组。每个 <strong>Rect</strong> 对象代表某个特定字符的边界框。</p><p>如果您的服务使用 <strong>TextToSpeech</strong> 对象朗读屏幕上出现的内容，您可以获取有关文本到语音转换引擎何时开始朗读单个合成字词时的准确时间信息，前提是文本到语音转换引擎提供此信息。当引擎即将开始播放特定范围文本的音频时，Text-to-Speech API 会通知您的服务，将使用 <code>onRangeStart()</code> 函数开始朗读此范围的文本。</p><p>如果您创建自己的 <strong>TextToSpeechService</strong> 实现，您可以使用 <code>rangeStart()</code> 函数支持这一新功能。</p><h2 id="标准化单端范围值"><a href="#标准化单端范围值" class="headerlink" title="标准化单端范围值"></a>标准化单端范围值</h2><p><strong>AccessibilityNodeInfo</strong> 的一些实例使用 <code>AccessibilityNodeInfo.RangeInfo</code> 的某个实例来表明界面元素可接受一定范围的值。使用 <code>RangeInfo.obtain()</code> 创建范围或使用 <code>getMin()</code> 和 <code>getMax()</code> 检索此范围的极值时，请注意，Android 8.0 规定了标准化单端范围：</p><ul><li>对于没有最小值的范围，<strong>Float.NEGATIVE_INFINITY</strong> 表示最小值。</li><li>对于没有最大值的范围，<strong>Float.POSITIVE_INFINITY</strong> 表示最大值。</li></ul><h2 id="提示文本"><a href="#提示文本" class="headerlink" title="提示文本"></a>提示文本</h2><p>Android 8.0 包含可用于与文本可编辑对象的提示文本进行交互的多个函数：</p><ul><li><code>isShowingHintText()</code> 和 <code>setShowingHintText()</code> 函数分别显示和设置节点的当前文本内容是否表示节点的提示文本。如果节点不包含可编辑文本，则它不应包含提示文本。</li><li>要访问提示文本本身，请使用 <code>getHintText()</code>。即使某个对象当前未显示提示文本，系统也能成功调用 <code>getHintText()</code>。</li></ul><h2 id="连续的手势分派"><a href="#连续的手势分派" class="headerlink" title="连续的手势分派"></a>连续的手势分派</h2><p>您的服务现在可以使用 <code>GestureDescription.StrokeDescription</code> 构造函数中的最后一个参数 <strong>willContinue</strong>，指定属于同一设定手势的笔划的顺序。</p><h1 id="安全性与隐私"><a href="#安全性与隐私" class="headerlink" title="安全性与隐私"></a>安全性与隐私</h1><hr><h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><p>Android 8.0 引入了多个与电话有关的新权限：</p><ul><li><strong>ANSWER_PHONE_CALLS</strong> 允许您的应用通过编程方式接听呼入电话。要在您的应用中处理呼入电话，您可以使用 <code>acceptRingingCall()</code> 函数。</li><li><strong>READ_PHONE_NUMBERS</strong> 权限允许您的应用读取设备中存储的电话号码。<br>这些权限均被划分为<strong>危险</strong>类别，属于 <strong>PHONE</strong> 权限组。</li></ul><p>##新的帐号访问和 Discovery API<br>Android 8.0 对应用访问用户帐号的方式引入多项改进。对于由身份验证器管理的帐号，身份验证器在决定对应用隐藏帐号还是显示帐号时可以使用自己的策略。Android 系统跟踪可以访问特定帐号的应用。</p><p>在以前的 Android 版本中，想要跟踪用户帐号列表的应用必须获取有关所有帐号的更新，包括具有不相关类型的帐号。Android 8.0 添加了 addOnAccountsUpdatedListener(android.accounts.OnAccountsUpdateListener, android.os.Handler, boolean, java.lang.String[]) 函数，其允许应用指定应接收帐号变更的帐号类型列表。</p><h3 id="API-变更-1"><a href="#API-变更-1" class="headerlink" title="API 变更"></a>API 变更</h3><p>AccountManager 提供六个新函数以帮助身份验证器管理哪些应用可以查看某个帐号：</p><ul><li><code>setAccountVisibility(android.accounts.Account, java.lang.String, int)</code>：针对特定用户帐号和软件包组合设置可见性级别。</li><li><code>getAccountVisibility(android.accounts.Account, java.lang.String)</code>：获取特定用户帐号和软件包组合的可见性级别。</li><li><code>getAccountsAndVisibilityForPackage(java.lang.String, java.lang.String)</code>：允许身份验证器获取帐号和给定软件包的可见性级别。</li><li><code>getPackagesAndVisibilityForAccount(android.accounts.Account)</code>：允许身份验证器获取存储的给定帐号的可见性值。</li><li><code>addAccountExplicitly(android.accounts.Account, java.lang.String, android.os.Bundle, java.util.Map&lt;java.lang.String, java.lang.Integer&gt;)</code>：允许身份验证器初始化帐号的可见性值。</li><li><code>addOnAccountsUpdatedListener(android.accounts.OnAccountsUpdateListener, android.os.Handler, boolean, java.lang.String[])</code>：将 <strong>OnAccountsUpdateListener</strong> 侦听器添加到 <strong>AccountManager</strong> 对象。无论设备上的帐号列表何时发生变化，系统都将调用此侦听器。</li></ul><p>Android 8.0 引入两个特殊的软件包名称值，以使用 <code>setAccountVisibility(android.accounts.Account, java.lang.String, int)</code> 函数指定未设置的应用的可见性级别。<strong>PACKAGE_NAME_KEY_LEGACY_VISIBLE</strong> 可见性值应用于具有 <strong>GET_ACCOUNTS</strong> 权限的应用，并且其目标 Android 版本低于 Android 8.0，或其签名与针对任意 Android 版本的身份验证器匹配。<strong>PACKAGE_NAME_KEY_LEGACY_NOT_VISIBLE</strong> 为之前未设置的应用提供默认的可见性值，对于此类应用，<strong>PACKAGE_NAME_KEY_LEGACY_VISIBLE</strong> 不适用。</p><p>如需了解有关新的帐号访问和发现 API 的详细信息，请参阅 <strong>AccountManager</strong> 和 <strong>OnAccountsUpdateListener</strong> 参考。</p><p>##Google Safe Browsing API<br>WebView 类现在添加了一个 Safe Browsing API 来增强网络浏览的安全性。如需了解详细信息，请参阅 <a href="https://developer.android.com/preview/features/managing-webview.html#safe-browsing" target="_blank" rel="noopener">Google Safe Browsing API</a>。</p><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><h2 id="仪器测试"><a href="#仪器测试" class="headerlink" title="仪器测试"></a>仪器测试</h2><p>Android 8.0 为应用的仪器测试提供以下几项额外支持。</p><h3 id="针对非默认应用进程运行"><a href="#针对非默认应用进程运行" class="headerlink" title="针对非默认应用进程运行"></a>针对非默认应用进程运行</h3><p>现在，您可以指定针对您的应用的默认进程以外的进程运行特定仪器测试。如果您的应用包含多个在不同进程中运行的操作组件，此配置非常有用。</p><p>要定义非默认进程仪器测试，请导航至您的清单文件，然后导航至所需的 <code>&lt;instrumentation&gt;</code> 元素。添加 <code>android:targetProcess</code> 属性，并将它的值设置为以下值之一：</p><ul><li>特定进程的名称。</li><li>以逗号分隔的进程名称列表。</li><li>通配符（”*”），允许针对任何执行 <strong>android:targetPackage</strong> 属性中指定的软件包中的代码的已启动进程运行仪器测试。<br>在执行仪器测试时，您可以通过调用 <code>getProcessName()</code> 检查正在测试哪个进程。</li></ul><h3 id="在测试过程中报告结果"><a href="#在测试过程中报告结果" class="headerlink" title="在测试过程中报告结果"></a>在测试过程中报告结果</h3><p>现在，通过调用 <code>addResults()</code>，您可以在执行仪器测试时（而不用等到测试后）报告结果。</p><h2 id="用于测试的模拟-Intent"><a href="#用于测试的模拟-Intent" class="headerlink" title="用于测试的模拟 Intent"></a>用于测试的模拟 Intent</h2><p>为了更轻松地为您应用的操作组件创建隔离、独立的界面测试，Android 8.0 引入了 <code>onStartActivity()</code> 函数。要处理您的测试类调用的特定 intent，您可以在 <code>nstrumentation.ActivityMonitor</code> 类的自定义子类中替换此函数。</p><p>当您的测试类调用 intent 时，该函数将返回一个存根 <code>Instrumentation.ActivityResult</code> 对象，而不是执行 intent 本身。通过在您的测试中使用这种模拟 intent 逻辑，您可以侧重于自己的操作组件如何准备和处理您传递到不同操作组件或完全不同的应用中的 intent。</p><h1 id="运行时和工具"><a href="#运行时和工具" class="headerlink" title="运行时和工具"></a>运行时和工具</h1><hr><h2 id="平台优化"><a href="#平台优化" class="headerlink" title="平台优化"></a>平台优化</h2><p>Android 8.0 为平台引入了运行时优化和其他优化，这些优化将带来多项性能改进。这些优化包括并发压缩垃圾回收、更有效的内存利用和代码区域。</p><p>它们可以加快启动时间，并为 OS 和应用带来更好的性能。</p><h2 id="更新的-Java-支持"><a href="#更新的-Java-支持" class="headerlink" title="更新的 Java 支持"></a>更新的 Java 支持</h2><p>Android 8.0 添加了对更多 OpenJDK Java API 的支持：</p><ul><li>OpenJDK 8 中的 java.time。</li><li>OpenJDK 7 中的 java.nio.file 和 java.lang.invoke。<br>要详细了解这些新添加的软件包中的类和函数，请参阅 API 参考文档。</li></ul><p>如果您想要在 Android Studio 中使用 <a href="https://developer.android.com/studio/preview/features/java8-support.html" target="_blank" rel="noopener">Java 8 语言功能</a>，您应下载最新的预览版本。</p><h2 id="更新的-ICU4J-Android-Framework-API"><a href="#更新的-ICU4J-Android-Framework-API" class="headerlink" title="更新的 ICU4J Android Framework API"></a>更新的 ICU4J Android Framework API</h2><p>Android 8.0 扩展了 ICU4J Android 框架 API—，它是 ICU4J API 的子集—，供应用开发者在 android.icu 软件包中使用。这些 API 使用设备上具有的本地化数据。因此，您无需在 APK 中编译 ICU4J 库，从而减少 APK 占用空间。</p><h1 id="Android-企业版"><a href="#Android-企业版" class="headerlink" title="Android 企业版"></a>Android 企业版</h1><hr><p>已为运行 Android 8.0 的设备引入新的企业功能和 API。重要功能包括如下：</p><ul><li>完全托管的设备中的工作资料使企业可以在管理工作数据与个人数据的同时，将它们分离开来。</li><li>API 委派允许设备所有者和个人资料所有者将应用管理分配给其他应用。</li><li>配置流程中的用户体验改进措施（包含新的自定义选项）缩短了设置时间。</li><li>蓝牙、WLAN、备份和安全性方面的新增控制选项使企业可以更精细地管理设备。网络操作组件日志记录可帮助企业追查问题。</li></ul><p>如需详细了解上述及其他新增 Android 企业版 API 和功能，请参阅<a href="https://developer.android.com/preview/features/work.html" target="_blank" rel="noopener">企业中的 Android</a>。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;用户体验&quot;&gt;&lt;a href=&quot;#用户体验&quot; class=&quot;headerlink&quot; title=&quot;用户体验&quot;&gt;&lt;/a&gt;用户体验&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;通知&quot;&gt;&lt;a href=&quot;#通知&quot; class=&quot;headerlink&quot; title=&quot;通知&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Oreo" scheme="http://yoursite.com/tags/Oreo/"/>
    
      <category term="Android 8.0" scheme="http://yoursite.com/tags/Android-8-0/"/>
    
  </entry>
  
  <entry>
    <title>Android 7.0 行为变更</title>
    <link href="http://yoursite.com/2017/01/10/android-7-0-changes/"/>
    <id>http://yoursite.com/2017/01/10/android-7-0-changes/</id>
    <published>2017-01-10T07:15:08.000Z</published>
    <updated>2018-04-10T01:36:21.681Z</updated>
    
    <content type="html"><![CDATA[<p>Android 7.0 除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。</p><p>如果您之前发布过 Android 应用，请注意您的应用可能受到这些平台变化的影响。</p><h1 id="电池和内存"><a href="#电池和内存" class="headerlink" title="电池和内存"></a>电池和内存</h1><hr><p>Android 7.0 包括旨在延长设备电池寿命和减少 RAM 使用的系统行为变更。这些变更可能会影响您的应用访问系统资源，以及您的应用通过特定隐式 intent 与其他应用交互的方式。</p><h2 id="低电耗模式"><a href="#低电耗模式" class="headerlink" title="低电耗模式"></a>低电耗模式</h2><p>Android 6.0（API 级别 23）引入了低电耗模式，当用户设备未插接电源、处于静止状态且屏幕关闭时，该模式会推迟 CPU 和网络活动，从而延长电池寿命。而 Android 7.0 则通过在设备未插接电源且屏幕关闭状态下、但不一定要处于静止状态（例如用户外出时把手持式设备装在口袋里）时应用部分 CPU 和网络限制，进一步增强了低电耗模式。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/01/10/android-7-0-changes/doze-diagram-1.png" alt="dhd" title="">                </div>                <div class="image-caption">dhd</div>            </figure><br>图 1. 低电耗模式如何应用第一级系统活动限制以延长电池寿命的图示。</p><p>当设备处于充电状态且屏幕已关闭一定时间后，设备会进入低电耗模式并应用第一部分限制：关闭应用网络访问、推迟作业和同步。如果进入低电耗模式后设备处于静止状态达到一定时间，系统则会对 <code>PowerManager.WakeLock</code>、<code>AlarmManager</code> 闹铃、GPS 和 WLAN 扫描应用余下的低电耗模式限制。无论是应用部分还是全部低电耗模式限制，系统都会唤醒设备以提供简短的维护时间窗口，在此窗口期间，应用程序可以访问网络并执行任何被推迟的作业/同步。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2017/01/10/android-7-0-changes/doze-diagram-2.png" alt="dhd" title="">                </div>                <div class="image-caption">dhd</div>            </figure><br>图 2. 低电耗模式如何在设备处于静止状态达到一定时间后应用第二级系统活动限制的图示。</p><p>请注意，激活屏幕或插接设备电源时，系统将退出低电耗模式并移除这些处理限制。此项新增的行为不会影响有关使您的应用适应 Android 6.0（API 级别 23）中所推出的旧版本低电耗模式的建议和最佳做法，如<a href="https://developer.android.com/training/monitoring-device-state/doze-standby.html" target="_blank" rel="noopener">对低电耗模式和应用待机模式进行针对性优化</a>中所讨论。您仍应遵循这些建议（例如使用 Google 云消息传递 (GCM) 发送和接收消息）并开始安排更新计划以适应新增的低电耗模式行为。</p><h2 id="Project-Svelte：后台优化"><a href="#Project-Svelte：后台优化" class="headerlink" title="Project Svelte：后台优化"></a>Project Svelte：后台优化</h2><p>Android 7.0 移除了三项隐式广播，以帮助优化内存使用和电量消耗。此项变更很有必要，因为隐式广播会在后台频繁启动已注册侦听这些广播的应用。删除这些广播可以显著提升设备性能和用户体验。</p><p>移动设备会经历频繁的连接变更，例如在 WLAN 和移动数据之间切换时。目前，可以通过在应用清单中注册一个接收器来侦听隐式 <code>CONNECTIVITY_ACTION</code> 广播，让应用能够监控这些变更。由于很多应用会注册接收此广播，因此单次网络切换即会导致所有应用被唤醒并同时处理此广播。</p><p>同理，在之前版本的 Android 中，应用可以注册接收来自其他应用（例如相机）的隐式 <code>ACTION_NEW_PICTURE</code> 和 <code>ACTION_NEW_VIDEO</code> 广播。当用户使用相机应用拍摄照片时，这些应用即会被唤醒以处理广播。</p><p>为缓解这些问题，Android 7.0 应用了以下优化措施：</p><ul><li>面向 Android 7.0 开发的应用不会收到 <code>CONNECTIVITY_ACTION</code> 广播，即使它们已有清单条目来请求接受这些事件的通知。在前台运行的应用如果使用 <code>BroadcastReceiver</code> 请求接收通知，则仍可以在主线程中侦听 CONNECTIVITY_CHANGE。</li><li>应用无法发送或接收 <code>ACTION_NEW_PICTURE</code> 或 <code>ACTION_NEW_VIDEO</code> 广播。此项优化会影响所有应用，而不仅仅是面向 Android 7.0 的应用。</li></ul><p>如果您的应用使用任何 intent，您仍需要尽快移除它们的依赖关系，以正确适配 Android 7.0 设备。Android 框架提供多个解决方案来缓解对这些隐式广播的需求。例如，<code>JobScheduler</code> API 提供了一个稳健可靠的机制来安排满足指定条件（例如连入无限流量网络）时所执行的网络操作。您甚至可以使用 <code>JobScheduler</code> 来适应内容提供程序变化。</p><p>如需了解有关 Android N 中后台优化以及如何改写应用的详细信息，请参阅<a href="https://developer.android.com/preview/features/background-optimization.html" target="_blank" rel="noopener">后台优化</a>。</p><h1 id="权限更改"><a href="#权限更改" class="headerlink" title="权限更改"></a>权限更改</h1><hr><p>Android 7.0 做了一些权限更改，这些更改可能会影响您的应用。</p><h2 id="系统权限更改"><a href="#系统权限更改" class="headerlink" title="系统权限更改"></a>系统权限更改</h2><p>为了提高私有文件的安全性，面向 Android 7.0 或更高版本的应用私有目录被限制访问　(0700)。此设置可防止私有文件的元数据泄漏，如它们的大小或存在性。此权限更改有多重副作用：</p><ul><li><p>私有文件的文件权限不应再由所有者放宽，为使用 <code>MODE_WORLD_READABLE</code> 和/或 <code>MODE_WORLD_WRITEABLE</code> 而进行的此类尝试将触发 <code>SecurityException</code>。</p><blockquote><p><strong>注：</strong>迄今为止，这种限制尚不能完全执行。应用仍可能使用原生 API 或 File API 来修改它们的私有目录权限。但是，我们强烈反对放宽私有目录的权限。</p></blockquote></li><li><p>传递软件包网域外的 file:// URI 可能给接收器留下无法访问的路径。因此，尝试传递 file:// URI 会触发 <code>FileUriExposedException</code>。分享私有文件内容的推荐方法是使用 <code>FileProvider</code>。</p></li><li><code>DownloadManager</code> 不再按文件名分享私人存储的文件。旧版应用在访问 <code>COLUMN_LOCAL_FILENAME</code> 时可能出现无法访问的路径。面向 Android 7.0 或更高版本的应用在尝试访问 <code>COLUMN_LOCAL_FILENAME</code> 时会触发 <code>SecurityException</code>。通过使用 <code>DownloadManager.Request.setDestinationInExternalFilesDir()</code> 或 <code>DownloadManager.Request.setDestinationInExternalPublicDir()</code> 将下载位置设置为公共位置的旧版应用仍可以访问 <code>COLUMN_LOCAL_FILENAME</code> 中的路径，但是我们强烈反对使用这种方法。对于由 <code>DownloadManager</code> 公开的文件，首选的访问方式是使用<code>ContentResolver.openFileDescriptor()</code>。</li></ul><h1 id="在应用间共享文件"><a href="#在应用间共享文件" class="headerlink" title="在应用间共享文件"></a>在应用间共享文件</h1><hr><p>对于面向 Android 7.0 的应用，Android 框架执行的 <code>StrictMode</code> API 政策禁止在您的应用外部公开 file:// URI。如果一项包含文件 URI 的 intent 离开您的应用，则应用出现故障，并出现 FileUriExposedException 异常。</p><p>要在应用间共享文件，您应发送一项 content:// URI，并授予 URI 临时访问权限。进行此授权的最简单方式是使用 FileProvider 类。如需了解有关权限和共享文件的详细信息，请参阅<a href="https://developer.android.com/training/secure-file-sharing/index.html" target="_blank" rel="noopener">共享文件</a>。</p><h1 id="无障碍改进"><a href="#无障碍改进" class="headerlink" title="无障碍改进"></a>无障碍改进</h1><hr><p>为提高平台对于视力不佳或视力受损用户的易用性，Android 7.0 做出了一些更改。这些更改一般并不要求更改您的应用代码，不过您应仔细检查并使用您的应用测试这些功能，以评估它们对用户体验的潜在影响。</p><h2 id="屏幕缩放"><a href="#屏幕缩放" class="headerlink" title="屏幕缩放"></a>屏幕缩放</h2><p>Android 7.0 支持用户设置显示尺寸，以放大或缩小屏幕上的所有元素，从而提升设备对视力不佳用户的可访问性。用户无法将屏幕缩放至低于最小屏幕宽度 <code>sw320dp</code>，该宽度是 Nexus 4 的宽度，也是常规中等大小手机的宽度。<br><img src="/2017/01/10/android-7-0-changes/screen-zoom-1.png" style="width:45%; float:left"><br><img src="/2017/01/10/android-7-0-changes/screen-zoom-2.png" style="width:45%; float:left"><br> <div style="clear:both"></div><br>图 3. 右侧屏幕显示的是一台运行 Android 7.0 系统映像的设备增大显示尺寸后的效果。</p><p>当设备密度发生更改时，系统会以如下方式通知正在运行的应用：</p><ul><li>如果是面向 API 级别 23 或更低版本系统的应用，系统会自动终止其所有后台进程。这意味着如果用户切换离开此类应用，转而打开 Settings 屏幕并更改 <strong>Display size</strong> 设置，则系统会像处理内存不足的情况一样终止该应用。如果应用具有任何前台进程，则系统会如处理运行时更改中所述将配置变更通知给这些进程，就像对待设备屏幕方向变更一样。</li><li>如果是面向 Android 7.0 的应用，则其所有进程（前台和后台）都会收到有关配置变更的通知，如<a href="https://developer.android.com/guide/topics/resources/runtime-changes.html" target="_blank" rel="noopener">处理运行时更改</a>中所述。</li></ul><p>大多数应用并不需要进行任何更改即可支持此功能，不过前提是这些应用遵循 Android 最佳做法。具体要检查的事项：</p><ul><li>在屏幕宽度为 sw320dp 的设备上测试您的应用，并确保其充分运行。</li><li><p>当设备配置发生变更时，更新任何与密度相关的缓存信息，例如缓存位图或从网络加载的资源。当应用从暂停状态恢复运行时，检查配置变更。</p><blockquote><p><strong>注：</strong>如果您要缓存与配置相关的数据，则最好也包括相关元数据，例如该数据对应的屏幕尺寸或像素密度。保存这些元数据便于您在配置变更后决定是否需要刷新缓存数据。</p></blockquote></li><li><p>避免用像素单位指定尺寸，因为像素不会随屏幕密度缩放。应改为使用与密度无关像素 (dp) 单位指定尺寸。</p></li></ul><h2 id="设置向导中的视觉设置"><a href="#设置向导中的视觉设置" class="headerlink" title="设置向导中的视觉设置"></a>设置向导中的视觉设置</h2><p>Android 7.0 在“Welcome”屏幕中加入了“Vision Settings”，用户可以在新设备上设置以下无障碍功能设置：<strong>Magnification gesture</strong>、<strong>Font size</strong>、<strong>Display size</strong> 和话语提示。此项变更让您可以更容易发现与不同屏幕设置有关的错误。要评估此功能的影响，您应在启用这些设置的状态下测试应用。您可以在 <strong>Settings &gt; Accessibility</strong> 中找到这些设置。</p><h1 id="NDK-应用链接至平台库"><a href="#NDK-应用链接至平台库" class="headerlink" title="NDK 应用链接至平台库"></a>NDK 应用链接至平台库</h1><hr><p>从 Android 7.0 开始，系统将阻止应用动态链接非公开 NDK 库，这种库可能会导致您的应用崩溃。此行为变更旨在为跨平台更新和不同设备提供统一的应用体验。即使您的代码可能不会链接私有库，但您的应用中的第三方静态库可能会这么做。因此，所有开发者都应进行相应检查，确保他们的应用不会在运行 Android 7.0 的设备上崩溃。如果您的应用使用原生代码，则只能使用<a href="https://developer.android.com/ndk/guides/stable_apis.html" target="_blank" rel="noopener">公开 NDK API</a>。</p><p>您的应用可通过以下三种方式尝试访问私有平台 API：</p><ul><li>您的应用直接访问私有平台库。您应更新您的应用以添加该应用的库副本，或使用<a href="https://developer.android.com/ndk/guides/stable_apis.html" target="_blank" rel="noopener">公开 NDK API</a>。</li><li>您的应用使用一个可访问私有平台库的第三方库。即使您确定您的应用不会直接访问私有库，您仍应针对此情景测试您的应用。</li><li>您的应用引用一个其 APK 中未包含的库。例如，如果您尝试使用您自己的 OpenSSL 副本，但忘记将它与应用的 APK 进行捆绑，则可能会出现此情况。正常情况下，此应用可在包含 libcrypto.so 的 Android 平台版本上运行。不过，此应用在不包含此库的新版 Android（例如，Android 6.0 和更高的版本）上会崩溃。为修复此问题，请确保您的 APK 捆绑您的所有非 NDK 库。</li></ul><p>应用不应使用 NDK 中未包含的原生库，因为这些库可能会发生更改或在不同 Android 版本之间的可用性不同。例如，从 OpenSSL 切换至 BoringSSL 即属于此类更改。此外，由于不属于 NDK 中的平台库没有兼容性要求，因此不同的设备可能提供不同级别的兼容性。</p><p>为降低此限制可能对当前发布的应用的影响，面向 API 级别 23 或更低级别的应用在 Android N 上可暂时访问颇为常用的一组库，例如 <code>libandroid_runtime.so</code>、<code>libcutils.so</code>、<code>libcrypto.so</code> 和 <code>libssl.so</code>。如果您的应用加载其中某个库，logcat 会生成一个警告，并在目标设备上显示一个 Toast 来通知您。如果您看到这些警告，您应更新您的应用以添加该应用自己的库副本，或仅使用公开 NDK API。将来发布的 Android 平台可能会完全限制对私有库的使用，并导致您的应用崩溃。</p><p>所有应用在调用既非公开又不可暂时访问的 API 时都会生成一个运行时错误。结果就是 <code>System.loadLibrary</code> 和 <code>dlopen(3)</code> 同时返回 NULL，并可能导致您的应用崩溃。您应检查应用代码以移除对私有平台 API 的使用，并使用预览版设备或模拟器全面测试应用。如果您不确定您的应用是否使用私有库，您可以检查 logcat 以识别运行时错误。</p><p>下表描述的是根据应用使用的私有原生库及其目标 API 级别 (android:targetSdkVersion)，应用预期显示的行为。<br>| Item      |    Value | Qty  |<br>| :——– | ——–:| :–: |<br>| Computer  | 1600 USD |  5   |<br>| Phone     |   12 USD |  12  |<br>| Pipe      |    1 USD | 234  |</p><table><thead><tr><th style="text-align:left">库</th><th style="text-align:left">目标 API 级别</th><th style="text-align:left">通过动态链接器进行运行时访问</th><th style="text-align:left">N Developer Preview 行为</th><th style="text-align:left">最终 Android N 版本行为</th><th style="text-align:left">未来的 Android 平台行为</th></tr></thead><tbody><tr><td style="text-align:left">公开 NDK</td><td style="text-align:left">任意</td><td style="text-align:left">可访问</td><td style="text-align:left">合乎预期</td><td style="text-align:left">合乎预期</td><td style="text-align:left">合乎预期</td></tr><tr><td style="text-align:left">私有（暂时可访问的私有库）</td><td style="text-align:left">23 或更低</td><td style="text-align:left">暂时可访问</td><td style="text-align:left">合乎预期，但您会在目标设备上收到一个 logcat 警告和一条消息。</td><td style="text-align:left">合乎预期，但您会收到一个 logcat 警告。</td><td style="text-align:left">运行时错误</td></tr><tr><td style="text-align:left">私有（暂时可访问的私有库）</td><td style="text-align:left">24 或更高</td><td style="text-align:left">受限</td><td style="text-align:left">运行时错误</td><td style="text-align:left">运行时错误</td><td style="text-align:left">运行时错误</td></tr><tr><td style="text-align:left">私有（其他）</td><td style="text-align:left">任意</td><td style="text-align:left">受限</td><td style="text-align:left">运行时错误</td><td style="text-align:left">运行时错误</td><td style="text-align:left">运行时错误</td></tr></tbody></table><h2 id="检查您的应用是否使用私有库"><a href="#检查您的应用是否使用私有库" class="headerlink" title="检查您的应用是否使用私有库"></a>检查您的应用是否使用私有库</h2><p>为帮助您识别加载私有库的问题，logcat 可能会生成一个警告或运行时错误。例如，如果您的应用面向 API 级别 23 或更低级别，并在运行 Android 7.0 的设备上尝试访问私有库，您可能会看到一个类似于下面所示的警告：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">03</span><span class="number">-21</span> <span class="number">17</span>:<span class="number">07</span>:<span class="number">51.502</span> <span class="number">31234</span> <span class="number">31234</span> W linker  : library <span class="string">"libandroid_runtime.so"</span></span><br><span class="line">(<span class="string">"/system/lib/libandroid_runtime.so"</span>) needed <span class="keyword">or</span> dlopened by</span><br><span class="line"><span class="string">"/data/app/com.popular-app.android-2/lib/arm/libapplib.so"</span> is <span class="keyword">not</span> accessible</span><br><span class="line"><span class="keyword">for</span> the <span class="keyword">namespace</span> <span class="string">"classloader-namespace"</span> - the access is temporarily granted</span><br><span class="line">as a workaround <span class="keyword">for</span> http:<span class="comment">//b/26394120</span></span><br></pre></td></tr></table></figure></p><p>这些 logcat 警告通知您哪个库正在尝试访问私有平台 API，但不会导致您的应用崩溃。但是，如果应用面向 API 级别 24 或更高级别，logcat 会生成以下运行时错误，您的应用可能会崩溃：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java.lang.UnsatisfiedLinkError: dlopen failed: library <span class="string">"libcutils.so"</span></span><br><span class="line">(<span class="string">"/system/lib/libcutils.so"</span>) needed <span class="keyword">or</span> dlopened by</span><br><span class="line"><span class="string">"/system/lib/libnativeloader.so"</span> is <span class="keyword">not</span> accessible <span class="keyword">for</span> the <span class="keyword">namespace</span></span><br><span class="line"><span class="string">"classloader-namespace"</span></span><br><span class="line">  at java.lang.Runtime.loadLibrary0(Runtime.java:<span class="number">977</span>)</span><br><span class="line">  at java.lang.System.loadLibrary(System.java:<span class="number">1602</span>)</span><br></pre></td></tr></table></figure></p><p>如果您的应用使用动态链接到私有平台 API 的第三方库，您可能也会看到上述 logcat 输出。利用 Android 7.0DK 中的 readelf 工具，您可以通过运行以下命令生成给定 .so 文件的所有动态链接的共享库列表：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aarch64-linux-android-readelf -dW libMyLibrary.so</span><br></pre></td></tr></table></figure></p><h2 id="更新您的应用"><a href="#更新您的应用" class="headerlink" title="更新您的应用"></a>更新您的应用</h2><p>通过下面的一些步骤，您可以修复上述类型的错误并确保您的应用不会在将来的更新版平台上崩溃：</p><ul><li>如果您的应用使用私有平台库，您应更新它，以添加该应用自己的库副本或使用<a href="https://developer.android.com/ndk/guides/stable_apis.html" target="_blank" rel="noopener">公开 NDK API</a>。</li><li>如果您的应用使用访问私有符号的第三方库，则联系库作者以更新库。</li><li>请确保将您的所有非 NDK 库与您的 APK 打包在一起。</li><li><p>使用标准 JNI 函数而非来自 libandroid_runtime.so 的 getJavaVM 和 getJNIEnv：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AndroidRuntime::getJavaVM -&gt; GetJavaVM from &lt;jni.h&gt;</span><br><span class="line">AndroidRuntime::getJNIEnv -&gt; JavaVM::GetEnv <span class="keyword">or</span></span><br><span class="line">JavaVM::AttachCurrentThread from &lt;jni.h&gt;.</span><br></pre></td></tr></table></figure></li><li><p>使用 <strong>system_property_get 而非来自 libcutils.so 的私有 property_get 符号。为此，请使用 </strong>system_property_get 及以下 include 函数：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/system_properties.h&gt;</span></span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p><strong>注：</strong>系统属性的可用性和内容未通过 CTS 进行测试。应执行进一步修复以避免同时使用这些属性。</p></blockquote><ul><li>使用来自 <code>libcrypto.so</code> 的 SSL_ctrl 符号的本地版本。例如，您应在您的 .so 文件中静态链接 <code>libcyrpto.a</code>，或从 <strong>BoringSSL/OpenSSL</strong> 添加一个动态链接的 <code>libcrypto.so</code> 版本，并将其打包到您的 APK 中。</li></ul><h1 id="Android-for-Work"><a href="#Android-for-Work" class="headerlink" title="Android for Work"></a>Android for Work</h1><hr><p>Android 7.0 包含一些针对面向 Android for Work 的应用的变更，包括对证书安装、密码重置、二级用户管理、设备标识符访问权限的变更。如果您是要针对 Android for Work 环境开发应用，则应仔细检查这些变更并相应地修改您的应用。</p><ul><li>您必须先安装授权证书安装程序，然后 DPC 才能对其进行设置。对于面向 N SDK 的配置文件和设备所有者应用，您应在设备规范控制器 (DPC) 调用 <code>DevicePolicyManager.setCertInstallerPackage()</code> 之前安装授权证书安装程序。如果尚未安装此安装程序，则系统会引发 <code>IllegalArgumentException</code>。</li><li>针对设备管理员的重置密码限制现在也适用于配置文件所有者。设备管理员无法再使用 <code>DevicePolicyManager.resetPassword()</code> 来清除或更改已经设置的密码。设备管理员仍可以设置密码，但只能在设备没有密码、PIN 码或图案时这样做。</li><li>即使设置了限制，设备所有者和配置文件所有者仍可以管理帐户。而且，即使具有 <code>DISALLOW_MODIFY_ACCOUNTS</code> 用户限制，设备所有者和配置文件所有者仍可调用 Account Management API。</li><li>设备所有者可以更轻松地管理二级用户。当设备在设备所有者模式下运行时，系统将自动设置 DISALLOW_ADD_USER 限制。这样可以防止用户创建非托管二级用户。此外，<code>CreateUser()</code> 和 <code>createAndInitializeUser()</code> 方法已弃用，取而代之的是 <code>DevicePolicyManager.createAndManageUser()</code> 方法。</li><li>设备所有者可以访问设备标识符。设备所有者可以使用 <code>DevicePolicyManagewr.getWifiMacAddress()</code> 访问设备的 WLAN MAC 地址。如果设备上从未启用 WLAN，则此方法将返回一个 null 值。</li><li>工作模式设置控制工作应用访问。当工作模式关闭时，系统启动器通过使工作应用显示为灰色来指示它们不可用。启用工作模式会再次恢复正常行为。</li><li>从 Settings UI 安装包含客户端证书链和对应的私钥的 PKCS #12 文件时，系统不再将该证书链中的 CA 证书安装到受信任的凭据存储空间。当应用稍后尝试检索客户端证书链时，这不会影响 <code>KeyChain.getCertificateChain()</code> 的结果。如果需要，使用 .crt 或 .cer 文件扩展名的 DER 编码格式通过 Settings UI 单独将 CA 证书安装到受信任的凭据存储空间。</li><li>从 Android 7.0 开始，可针对每个用户管理指纹登记和存储空间。如果配置文件所有者的设备规范客户端 (DPC) 面向 Android N 设备上的 Android N 之前的版本，则用户仍可以在该设备上设置指纹，但工作应用不能访问设备指纹。当 DPC 面向 Android N 和更高版本时，用户可以通过转到 <strong>Settings &gt; Security &gt; Work profile security</strong> 专门为托管配置文件设置指纹。</li><li><code>DevicePolicyManager.getStorageEncryptionStatus()</code> 返回新的加密状态 <code>ENCRYPTION_STATUS_ACTIVE_PER_USER</code>，以表明加密处于活动状态，且加密密钥与用户关联。仅当 DPC 面向 API 级别 24 和更高级别时才会返回新的状态。对于面向更早的 API 级别的应用，即使加密密钥是用户或配置文件特有的，系统也会返回 <code>ENCRYPTION_STATUS_ACTIVE</code>。</li><li>在 Android 7.0 中，如果设备通过单独的工作挑战安装了托管配置文件，则原本通常会影响整个设备的多个方法将会改变其行为方式。这些方法将仅应用于托管配置文件，而不是影响整个设备。（此类方法的完整列表位于 <code>DevicePolicyManager.getParentProfileInstance()</code> 文档中。）例如，<code>DevicePolicyManager.lockNow()</code> 只锁定托管配置文件，而不是锁定整个设备。对于上述每个方法，您可以通过对 DevicePolicyManager 的父实例调用该方法来获取以前的行为；您可以通过调用 <code>DevicePolicyManager.getParentProfileInstance()</code> 获取此父项。例如，如果您调用父实例的 <code>lockNow()</code> 方法，则整个设备将被锁定。</li></ul><p>如需了解有关 Android 7.0 中针对 Android for Work 所做变更的详细信息，请参阅 Android for Work 更新。</p><h1 id="注解保留"><a href="#注解保留" class="headerlink" title="注解保留"></a>注解保留</h1><hr><p>Android 7.0 修复了一个注解可见性被忽略的错误。这种问题会导致应用可在运行时访问原本不允许访问的注解。这些注解包括：</p><ul><li><code>VISIBILITY_BUILD</code>：仅应编译时可见。</li><li><code>VISIBILITY_SYSTEM</code>：运行时应可见，但仅限底层系统。<br>如果您的应用依赖这种行为，请为运行时必须可用的注解添加保留政策。您可通过使用 <code>@Retention(RetentionPolicy.RUNTIME)</code> 来执行此操作。</li></ul><h1 id="其他重要说明"><a href="#其他重要说明" class="headerlink" title="其他重要说明"></a>其他重要说明</h1><hr><ul><li><p>如果一个应用在 Android 7.0 上运行，但却是针对更低 API 级别开发的，那么在用户更改显示尺寸时，系统将终止此应用进程。应用必须能够妥善处理此情景。否则，当用户从最近使用记录中恢复运行应用时，应用将会出现崩溃现象。<br>您应测试应用以确保不会发生此行为。要进行此测试，您可以通过 DDMS 手动终止应用，以造成相同的崩溃现象。<br>在密度发生更改时，系统不会自动终止面向 N 及更高版本的应用；不过，这些应用仍可能对配置变更做出不良响应。</p></li><li><p>Android 7.0 上的应用应能够妥善处理配置变更，并且在后续启动时不会出现崩溃现象。您可以通过更改字体大小 <code>(Setting &gt;Display &gt; Font size)</code> 并随后从最近使用记录中恢复运行应用，来验证应用行为。</p></li><li>由于之前的 Android 版本中的一项错误，系统未能将对主线程上的一个 TCP 套接字的写入操作举报为违反严格模式。Android 7.0 修复了此错误。呈现出这种行为的应用现在会引发 <code>android.os.NetworkOnMainThreadException</code>。一般情况下，我们不建议在主线程上执行网络操作，因为这些操作通常会出现可能导致 ANR 和卡顿的高尾延迟。</li><li><code>Debug.startMethodTracing()</code> 方法系列现在默认在您的共享存储空间上的软件包特定目录中存储输出，而非 SD 卡根目录。这意味着应用不再需要请求 <code>WRITE_EXTERNAL_STORAGE</code> 权限来使用这些 API 。</li><li>许多平台 API 现在开始检查在 <code>Binder</code> 事务间发送的大负载，系统现在会将 <code>TransactionTooLargeExceptions</code> 作为 RuntimeExceptions 再次引发，而不再只是默默记录或抑制它们。一个常见例子是在 <code>Activity.onSaveInstanceState()</code> 上存储过多数据，导致 ActivityThread.StopInfo 在您的应用面向 Android 7.0 时引发 RuntimeException。</li><li>如果应用向 View 发布 <code>Runnable</code> 任务，并且 View 未附加到窗口，系统会用 View 为 <code>Runnable</code> 任务排队；在 View 附加到窗口之前，不会执行 <code>Runnable</code> 任务。此行为会修复以下错误：<ul><li>如果一项应用是从并非预期窗口 UI 线程的其他线程发布到 View，则 <code>Runnable</code> 可能会因此运行错误的线程。</li><li>如果 <code>Runnable</code> 任务是从并非环路线程的其他线程发布，则应用可能会曝光 Runnable 任务。</li></ul></li><li>如果 Android 7.0 上一项有 <code>DELETE_PACKAGES</code> 权限的应用尝试删除一个软件包，但另一项应用已经安装了这个软件包，则系统需要用户进行确认。在这种情况下，应用在调用 <code>PackageInstaller.uninstall()</code> 时预计的返回状态应为 <code>STATUS_PENDING_USER_ACTION</code>。</li><li>名为 Crypto 的 JCA 提供程序已弃用，因为它仅有的 SHA1PRNG 算法为弱加密。应用无法再使用 SHA1PRNG（不安全地）派生密钥，因为不再提供此提供程序。如需了解详细信息，请参阅博文 <a href="http://android-developers.blogspot.com/2016/06/security-crypto-provider-deprecated-in.html" target="_blank" rel="noopener">Android N 中已弃用“Crypto”安全提供程序</a>。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Android 7.0 除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。&lt;/p&gt;
&lt;p&gt;如果您之前发布过 Android 应用，请注意您的应用可能受到这些平台变化的影响。&lt;/p&gt;
&lt;h1 id=
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Nougat" scheme="http://yoursite.com/tags/Nougat/"/>
    
      <category term="Android 7.0" scheme="http://yoursite.com/tags/Android-7-0/"/>
    
  </entry>
  
  <entry>
    <title>Android 7.0 API 概览</title>
    <link href="http://yoursite.com/2016/12/30/android-7-0/"/>
    <id>http://yoursite.com/2016/12/30/android-7-0/</id>
    <published>2016-12-30T06:12:49.000Z</published>
    <updated>2018-04-10T01:30:24.205Z</updated>
    
    <content type="html"><![CDATA[<p>Android 7.0 Nougat 为用户和开发者引入多种新功能。本文重点介绍面向开发者的新功能。</p><p>请务必查阅 Android 7.0 行为变更以了解平台变更可能影响您的应用的领域。</p><p>要详细了解 Android 7.0 的消费者功能，请访问 <a href="https://www.android.com" target="_blank" rel="noopener">www.android.com</a>。</p><h1 id="多窗口支持"><a href="#多窗口支持" class="headerlink" title="多窗口支持"></a>多窗口支持</h1><hr><p>在 Android 7.0 中，我们为该平台引入了一个新的而且非常需要的多任务处理功能 — 多窗口支持。</p><p>现在，用户可以一次在屏幕上打开两个应用。</p><ul><li>在运行 Android 7.0 的手机和平板电脑上，用户可以并排运行两个应用，或者处于分屏模式时一个应用位于另一个应用之上。用户可以通过拖动两个应用之间的分隔线来调整应用。</li><li>在 Android TV 设备上，应用可以将自身置于画中画模式，从而让它们可以在用户浏览或与其他应用交互时继续显示内容。<br><p style="overflow:hidden"><br><img src="/2016/12/30/android-7-0/mw-portrait.png" style="width:200px;float:left;margin-right:40px"><br><span><br>多窗口支持为您提供新的吸引用户方式，特别是在平板电脑和其他更大屏幕的设备上。您甚至可以在您的应用中启用拖放，从而使用户可以方便地将内容拖放到您的应用或从其中拖出内容—这是一个非常好的增强用户体验的方式。<br><br><br><br>向您的应用添加多窗口支持并配置多窗口显示的处理方式非常简单。例如，您可以指定您的 Activity 允许的最小尺寸，从而防止用户将 Activity 调整到该尺寸以下。您还可以为应用停用多窗口显示，这可确保系统将仅以全屏模式显示应用。<br><br><br><br></span></p></li></ul><p></p><p></p><h1 id="通知增强功能"><a href="#通知增强功能" class="headerlink" title="通知增强功能"></a>通知增强功能</h1><hr><p>在 Android 7.0 中，我们重新设计了通知，使其更易于使用并且速度更快。部分变更包括：</p><ul><li><strong>模板更新：</strong>我们正在更新通知模板，新强调了英雄形象和化身。开发者将能够充分利用新模板，只需进行少量的代码调整。</li><li><strong>消息传递样式自定义：</strong>您可以自定义更多与您的使用 MessagingStyle 类的通知相关的用户界面标签。您可以配置消息、会话标题和内容视图。</li><li><strong>捆绑通知：</strong>系统可以将消息组合在一起（例如，按消息主题）并显示组。用户可以适当地进行拒绝或归档等操作。如果您已实现 Android Wear 的通知，那么您已经很熟悉此模式。</li><li><strong>直接回复：</strong>对于实时通信应用，Android 系统支持内联回复，以便用户可以直接在通知界面中快速回复短信。</li><li><strong>自定义视图：</strong>两个新的 API 让您在通知中使用自定义视图时可以充分利用系统装饰元素，如通知标题和操作。<br><img src="/2016/12/30/android-7-0/notifications-1.png" style="width:30%; margin:10px; float:left;"> <img src="/2016/12/30/android-7-0/notifications-3.png" style="width:30%; margin:10px; float:left;"><img src="/2016/12/30/android-7-0/notifications-2.png" style="width:30%; margin:10px;"><br>图 2. 绑定的通知和直接回复。</li></ul><p>要了解如何实现新功能的信息，请参阅<a href="https://developer.android.com/preview/features/notification-updates.html" target="_blank" rel="noopener">通知</a>指南。</p><h1 id="配置文件指导的-JIT-AOT-编译"><a href="#配置文件指导的-JIT-AOT-编译" class="headerlink" title="配置文件指导的 JIT/AOT 编译"></a>配置文件指导的 JIT/AOT 编译</h1><hr><p>在 Android 7.0 中，我们添加了即时 (JIT) 编译器，对 ART 进行代码分析，让它可以在应用运行时持续提升 Android 应用的性能。JIT 编译器对 Android 运行组件当前的 Ahead of Time (AOT) 编译器进行了补充，有助于提升运行时性能，节省存储空间，加快应用更新和系统更新速度。</p><p>配置文件指导的编译让 Android 运行组件能够根据应用的实际使用以及设备上的情况管理每个应用的 AOT/JIT 编译。例如，Android 运行组件维护每个应用热方法的配置文件，并且可以预编译和缓存这些方法以实现最佳性能。对于应用的其他部分，在实际使用之前不会进行编译。</p><p>除提升应用的关键部分的性能外，配置文件指导的编译还有助于减少整个 RAM 占用，包括关联的二进制文件。此功能对于低内存设备非常尤其重要。</p><p>Android 运行组件在管理配置文件指导的编译时，可最大程度降低对设备电池的影响。仅当设备处于空闲状态和充电时才进行编译，从而可以通过提前执行该工作节约时间和省电。</p><h1 id="快速的应用安装路径"><a href="#快速的应用安装路径" class="headerlink" title="快速的应用安装路径"></a>快速的应用安装路径</h1><hr><p>Android 运行组件的 JIT 编译器最实际的好处之一是应用安装和系统更新的速度。即使在 Android 6.0 中需要几分钟进行优化和安装的大型应用，现在只需几秒钟就可以完成安装。系统更新也变得更快，因为省去了优化步骤。</p><h1 id="随时随地低电耗模式…"><a href="#随时随地低电耗模式…" class="headerlink" title="随时随地低电耗模式…"></a>随时随地低电耗模式…</h1><hr><p>Android 6.0 推出了低电耗模式，即设备处于空闲状态时，通过推迟应用的 CPU 和网络活动以实现省电目的的系统模式，例如，设备放在桌上或抽屉里时。</p><p>现在，在 Android 7.0 中，低电耗模式又前进了一步，随时随地可以省电。只要屏幕关闭了一段时间，且设备未插入电源，低电耗模式就会对应用使用熟悉的 CPU 和网络限制。这意味着用户即使将设备放入口袋里也可以省电。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://developer.android.com/images/android-7.0/doze-diagram-1.png" alt="dd" title="">                </div>                <div class="image-caption">dd</div>            </figure><p>图 3. 低电耗模式现在应用限制以延长电池寿命，即使设备未处于静止状态。</p><p>屏幕关闭片刻后，设备在使用电池时，低电耗模式将限制网络访问，同时延迟作业和同步。在短暂的维护时间范围后，其允许应用访问网络，并执行延迟的作业/同步。打开屏幕或将设备插入电源会使设备退出低电耗模式。</p><p>当设备再次处于静止状态时，屏幕关闭且使用电池一段时间，低电耗模式针对 <code>PowerManager.WakeLock</code>、<code>AlarmManager</code> 警报和 GPS/WLAN 扫描应用完整 CPU 和网络限制。</p><p>无论设备是否处于运动状态，将应用调整到低电耗模式的最佳做法均相同，因此，如果您已更新应用以妥善处理低电耗模式，则一切就绪。如果不是，请立即开始<a href="https://developer.android.com/training/monitoring-device-state/doze-standby.html#assessing_your_app" target="_blank" rel="noopener">将应用调整到低电耗模式</a></p><h1 id="Project-Svelte：后台优化"><a href="#Project-Svelte：后台优化" class="headerlink" title="Project Svelte：后台优化"></a>Project Svelte：后台优化</h1><hr><p>Project Svelte 在持续改善，以最大程度减少生态系统中一系列 Android 设备中系统和应用使用的 RAM。在 Android 7.0 中，Project Svelte 注重优化在后台中运行应用的方式。</p><p>后台处理是大多数应用的一个重要部分。处理得当，可让您实现非常棒的用户体验 — 即时、快速和情境感知。如果处理不得当，后台处理会毫无必要地消耗 RAM（和电池），同时影响其他应用的系统性能。</p><p>自 Android 5.0 发布以来，<code>JobScheduler</code> 已成为执行后台工作的首选方式，其工作方式有利于用户。应用可以在安排作业的同时允许系统基于内存、电源和连接情况进行优化。<code>JobScheduler</code> 可实现控制和简洁性，我们想要所有应用都使用它。</p><p>另一个非常好的选择是 <code>GCMNetworkManager</code>（Google Play 服务的一部分），其在旧版 Android 中提供类似的作业安排和兼容性。</p><p>我们在继续扩展 <code>JobScheduler</code> 和 <code>GCMNetworkManager</code>，以符合多个用例 — 例如，在 Android 7.0 中，现在，您可以基于内容提供程序中的更改安排后台工作。同时，我们开始弃用一些较旧的模式，这些模式会降低系统性能，特别是低内存设备的系统性能。</p><p>在 Android 7.0 中，我们删除了三个常用隐式广播 — <code>CONNECTIVITY_ACTION</code>、<code>ACTION_NEW_PICTURE</code> 和<code>ACTION_NEW_VIDEO</code> — 因为这些广播可能会一次唤醒多个应用的后台进程，同时会耗尽内存和电池。如果您的应用收到这些广播，请充分利用 Android 7.0 以迁移到 JobScheduler 和相关的 API。</p><p>如需了解详情，请查看<a href="https://developer.android.com/preview/features/background-optimization.html" target="_blank" rel="noopener">后台优化</a>文档。</p><h1 id="SurfaceView"><a href="#SurfaceView" class="headerlink" title="SurfaceView"></a>SurfaceView</h1><hr><p>Android 7.0 可同步移动到 <code>SurfaceView</code> 类，此类在某些情况下提供的电池性能优于 <code>TextureView</code>：在渲染视频或 3D 内容时，包含滚动和动画视频位置的应用在使用 <code>SurfaceView</code> 时比 <code>TextureView</code> 耗电更少。</p><p><code>SurfaceView</code> 类可减少屏幕合成对电池的消耗，因为它是在专用硬件中合成，与应用窗口内容分隔开。因此，它产生的中间副本少于 TextureView。<br>现在，<code>SurfaceView</code> 对象的内容位置和包含的应用内容同步更新。这一变化导致的一个结果是，在画面移动时，SurfaceView 中播放的视频的简单的平移或缩放不再在画面侧面产生黑条。</p><p>从 Android 7.0 开始，我们强烈建议您使用 <code>SurfaceView</code> 代替 <code>TextureView</code>，以实现省电。</p><h1 id="流量节省程序"><a href="#流量节省程序" class="headerlink" title="流量节省程序"></a>流量节省程序</h1><hr><p style="overflow:hidden"><br><img src="/2016/12/30/android-7-0/datasaver.png" style="width:50%;float:left;margin-right:40px"><br><span style="font-size:14px"><br>在移动设备的整个生命周期，移动数据网络计划的成本通常会超出设备本身的成本。对于许多用户而言，移动数据网络是他们想要节省的昂贵资源。<br><br><br>Android 7.0 推出了流量节省模式，这是一项新的系统服务，有助于减少应用使用的移动数据网络，无论是在漫游，账单周期即将结束，还是使用少量的预付费数据包。流量节省程序让用户可以控制应用使用移动数据网络的方式，同时让开发者打开流量节省程序时可以提供更多有效的服务。<br><br><br>用户在 Settings 中启用流量节省程序且设备位于按流量计费的网络上时，系统屏蔽后台流量消耗，同时指示应用在前台尽可能使用较少的流量 — 例如，通过限制用于流媒体服务的比特率、降低图像质量、延迟最佳的预缓冲等方法来实现。用户可以将特定应用加入白名单以允许后台按流量计费的流量消耗，即使在打开流量节省程序时也是如此。<br><br><br>Android 7.0 扩展了 ConnectivityManager，以便为应用检索用户的流量节省程序首选项并监控首选项变更提供一种方式。所有应用均应检查用户是否已启用流量节省程序并努力限制前台和后台流量消耗。<br></span><br></p><h1 id="Vulkan-API"><a href="#Vulkan-API" class="headerlink" title="Vulkan API"></a>Vulkan API</h1><hr><p>Android 7.0 将一项新的 3D 渲染 API <a href="http://www.khronos.org/vulkan" target="_blank" rel="noopener">Vulkan™</a> 集成到平台中。就像 <a href="https://www.khronos.org/opengles/" target="_blank" rel="noopener">OpenGL™</a> ES 一样，Vulkan 是 3D 图形和渲染的一项开放标准，由 Khronos Group 维护。</p><p>Vulkan 是完全从零开始设计，以最小化驱动器中的 CPU 开销，并能让您的应用更直接地控制 GPU 操作。Vulkan 还允许多个线程同时执行工作，如命令缓冲区构建，以获得更好的并行化。</p><p>Vulkan 开发工具和库都已卷入 Android 7.0DK。它们包括：</p><ul><li>标头</li><li>验证层（调试库）</li><li>SPIR-V 着色程序编译器</li><li>SPIR-V 运行时着色器编译库</li></ul><p>Vulkan 仅适用于已启用 Vulkan 硬件的设备上的应用，如 Nexus 5X、Nexus 6P 和 Nexus Player。我们正在与合作伙伴密切合作，以尽快使 Vulkan 能面向更多的设备。</p><p>如需了解详细信息，请参阅 <a href="https://developer.android.com/ndk/guides/graphics/index.html" target="_blank" rel="noopener">API 文档</a>。</p><h1 id="Quick-Settings-Tile-API"><a href="#Quick-Settings-Tile-API" class="headerlink" title="Quick Settings Tile API"></a>Quick Settings Tile API</h1><hr><p><img src="/2016/12/30/android-7-0/quicksettings.png" style="width:260px; float:right; margin-left:20px"></p><p>“快速设置”通常用于直接从通知栏显示关键设置和操作，非常简单。在 Android 7.0 中，我们已扩展“快速设置”的范围，使其更加有用更方便。</p><p>我们为额外的“快速设置”图块添加了更多空间，用户可以通过向左或向右滑动跨分页的显示区域访问它们。我们还让用户可以控制显示哪些“快速设置”图块以及显示的位置 — 用户可以通过拖放图块来添加或移动图块。</p><p>对于开发者，Android 7.0 还添加了一个新的 API，从而让您可以定义自己的“快速设置”图块，使用户可以轻松访问您应用中的关键控件和操作。</p><p>对于急需或频繁使用的控件和操作，保留“快速设置”图块，且不应将其用作启动应用的快捷方式。</p><p>定义图块后，您可以将它们显示给用户，用户可通过拖放将图块添加到“快速设置”。</p><p>如需了解有关创建应用图块的信息，请参阅可下载的 API 参考中的文件 android.service.quicksettings.Tile。</p><h1 id="号码屏蔽"><a href="#号码屏蔽" class="headerlink" title="号码屏蔽"></a>号码屏蔽</h1><hr><p>Android 7.0 现在支持在平台中进行号码屏蔽，提供框架 API，让服务提供商可以维护屏蔽的号码列表。默认短信应用、默认手机应用和运营商应用可以对屏蔽的号码列表进行读取和写入操作。其他应用则无法访问此列表。</p><p>通过使号码屏蔽成为平台的标准功能，Android 为应用提供一致的方式来支持广泛的设备上的号码屏蔽。应用可以利用的其他优势包括：</p><ul><li>还会屏蔽已屏蔽的来电号码发出的短信</li><li>通过 Backup &amp; Restore（备份和还原）功能可以跨重置和设备保留屏蔽的号码</li><li>多个应用可以使用相同的屏蔽号码列表</li></ul><p>此外，通过 Android 的运营商应用集成表示运营商可以读取设备上屏蔽的号码列表，并为用户执行服务端屏蔽，以阻止不需要的来电和短信通过任何介质（如 VOIP 端点或转接电话）到达用户。</p><p>如需了解详细信息，请参阅可下载的 <a href="https://developer.android.com/preview/setup-sdk.html#docs-dl" target="_blank" rel="noopener">API 参考</a>中的 <code>android.provider.BlockedNumberContract</code>。</p><h1 id="来电过滤"><a href="#来电过滤" class="headerlink" title="来电过滤"></a>来电过滤</h1><hr><p>Android 7.0 允许默认的手机应用过滤来电。手机应用执行此操作的方式是实现新的 <code>CallScreeningService</code>，该方法允许手机应用基于来电的 <code>Call.Details</code> 执行大量操作，例如：</p><ul><li>拒绝来电</li><li>不允许来电到达通话记录</li><li>不向用户显示来电通知</li></ul><p>如需了解详细信息，请参阅可下载的 <a href="https://developer.android.com/preview/setup-sdk.html#docs-dl" target="_blank" rel="noopener">API 参考</a>中的 <code>android.telecom.CallScreeningService</code>。</p><h1 id="多语言区域支持，更多语言"><a href="#多语言区域支持，更多语言" class="headerlink" title="多语言区域支持，更多语言"></a>多语言区域支持，更多语言</h1><hr><p>Android 7.0 现在允许用户在设置中选择多个语言区域，以更好地支持双语用例。应用可以使用新的 API 获取用户选择的语言区域，然后为多区域设置用户提供更成熟的用户体验 — 如以多个语言显示搜索结果，并且不会以用户了解的语言翻译网页。</p><p>除多语言区域支持外，Android 7.0 还扩展了用户可用的语言范围。它针对常用语言提供超过 25 种的变体，如英语、西班牙语、法语和阿拉伯语。它还针对 100 多种新语言添加了部分支持。</p><p>应用可以通过调用 <code>LocaleList.GetDefault()</code> 获取用户设置的语言区域列表。为支持扩展的语言区域数量，Android 7.0 正在改变其解析资源的方式。请务必使用新的资源解析逻辑测试和验证您的应用是否能如期运行。</p><p>要了解新资源解析行为和应遵循的最佳做法，请参阅<a href="https://developer.android.com/preview/features/multilingual-support.html" target="_blank" rel="noopener">多语言支持</a>。</p><h1 id="新增的表情符号"><a href="#新增的表情符号" class="headerlink" title="新增的表情符号"></a>新增的表情符号</h1><hr><p>Android 7.0 引入更多表情符号和表情符号相关功能，包括肤色表情符号和支持变量选择符。如果您的应用支持表情符号，请遵循以下准则，以便能充分利用这些表情符号相关功能优势。</p><ul><li><strong>在插入之前，检查设备是否包含表情符号。</strong>要检查系统字体中有哪些表情符号，使用 <code>hasGlyph(String)</code> 方法。</li><li><strong>检查表情符号是否支持变量选择符。</strong>变量选择符使您能够呈现一些彩色或黑白的表情符号。在移动设备上，应用应呈现彩色的表情符号，而不是黑白的。但是，如果您的应用显示嵌入在文本中的表情符号，那应使用黑白变量。要确定表情符号是否有变量，使用变量选择符。如需有关支持变量的字符的完整清单，请参阅<a href="http://www.unicode.org/Public/9.0.0/ucd/StandardizedVariants-9.0.0d1.txt" target="_blank" rel="noopener">变量的 Unicode 文档</a>中的表情符号变量序列部分。</li><li><strong>检查表情符号是否支持肤色。</strong>Android 7.0 允许用户按照他们的喜好修改表情符号呈现的肤色。键盘应用应为有多个肤色的表情符号提供可视化的指示，并应允许用户选择他们喜欢的肤色。要确定哪些系统表情符号有肤色修改器，使用 <code>hasGlyph(String)</code> 方法。您可以通过读取 Unicode 文档来确定哪些表情符号使用肤色。<h1 id="Android-中的-ICU4J-API"><a href="#Android-中的-ICU4J-API" class="headerlink" title="Android 中的 ICU4J API"></a>Android 中的 ICU4J API</h1></li></ul><hr><p>Android 7.0 目前在 Android 框架（位于 android.icu 软件包下）中提供 <code>ICU4J</code> API 的子集。迁移很简单，主要是需要从 com.java.icu 命名空间更改为 android.icu。如果您已在您的应用中使用 ICU4J 捆绑包，切换到 Android 框架中提供的 android.icu API 可以大量节省 APK 大小。</p><p>要详细了解 Android ICU4J API，请参阅 <a href="https://developer.android.com/preview/features/icu4j-framework.html" target="_blank" rel="noopener">ICU4J 支持</a>。</p><h1 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h1><hr><h2 id="Chrome-和-WebView-配合使用"><a href="#Chrome-和-WebView-配合使用" class="headerlink" title="Chrome 和 WebView 配合使用"></a>Chrome 和 WebView 配合使用</h2><p>从 Android 7.0 及更高版本中的 Chrome 版本 51 开始，您的设备中的 Chrome APK 用于提供和渲染 Android 系统 WebView。这种方法改善了设备本身的内存使用率，同时减少保持 WebView 更新所需的带宽（因为只要保持启用 Chrome，单机版 WebView APK 将不再进行更新）。</p><p>您可以启用开发者选项和选择 WebView 实现，选择您的 WebView 提供商。您可以使用设备上安装的任何兼容的 Chrome 版本（Dev、Beta 或 Stable）或单机版 Webview APK，作为 WebView 实现。</p><h2 id="多进程"><a href="#多进程" class="headerlink" title="多进程"></a>多进程</h2><p>从 Android 7.0 中的 Chrome 版本 51 开始，WebView 将开发者选项“多进程 WebView”被启用时，在一个单独的沙盒进程中运行网页内容。</p><p>我们正在寻求关于 N 中的兼容性和运行时性能的反馈，并随后将在未来 Android 版本中启用多进程 WebView。在这个版本中，可预期启动时间回归、总内存使用和软件渲染性能。</p><p>如果您在多进程模式中遇到意外问题，请告诉我们。请通过 Chromium 错误跟踪程序联系 WebView 团队。</p><h2 id="Javascript-在页面加载之前运行"><a href="#Javascript-在页面加载之前运行" class="headerlink" title="Javascript 在页面加载之前运行"></a>Javascript 在页面加载之前运行</h2><p>从以 Android 7.0 为目标平台的应用开始，JavaScript 上下文会在加载新页面时重置。目前，新 WebView 实例中加载的第一个页面会继承上下文。</p><p>想要在 WebView 中注入 Javascript 的开发者应在页面开始加载后执行脚本。</p><h2 id="不安全起点上的地理定位"><a href="#不安全起点上的地理定位" class="headerlink" title="不安全起点上的地理定位"></a>不安全起点上的地理定位</h2><p>从以 Android 7.0 为目标平台的应用开始，地理定位 API 将仅在安全的起点（通过 HTTPS）上被允许。此政策的目的是在用户使用不安全连接时保护他们的私人信息。</p><h2 id="测试-WebView-测试版"><a href="#测试-WebView-测试版" class="headerlink" title="测试 WebView 测试版"></a>测试 WebView 测试版</h2><p>WebViewis 定期更新，因此我们建议您经常使用 WebView 的测试版本测试应用的兼容性。要在 Android 7.0 上着手测试 WebView 的预发布版本，请下载并安装 Chrome Dev 或 Chrome 测试版，然后按上述说明在开发者选项下面选择它作为 WebView 实现。请通过 Chromium 错误跟踪程序报告问题，以便我们可以在发布新的 WebView 版本前修复问题。</p><p>如果您遇到其他任何问题，可随时通过我们的 G+ 社区与 WebView 团队联系。</p><h1 id="OpenGL™-ES-3-2-API"><a href="#OpenGL™-ES-3-2-API" class="headerlink" title="OpenGL™ ES 3.2 API"></a>OpenGL™ ES 3.2 API</h1><hr><p>Android 7.0 添加了框架接口和对 OpenGL ES 3.2 的平台支持，包括：</p><ul><li>来自 <a href="https://www.khronos.org/registry/gles/extensions/ANDROID/ANDROID_extension_pack_es31a.txt" target="_blank" rel="noopener">Android 扩展包</a> (AEP) 的所有扩展（EXT_texture_sRGB_decode 除外）。</li><li>针对 HDR 的浮点帧缓冲和延迟着色。</li><li>BaseVertex 绘图调用可实现更好的批处理和流媒体服务。</li><li>强大的缓冲区访问控制可减少 WebGL 开销。</li></ul><p>Android 7.0 上适用于 OpenGL ES 3.2 的框架 API 与 GLES32 类一起提供。使用 OpenGL ES 3.2 时，请务必通过 <code>&lt;uses-feature&gt;</code> 标记和 <code>android:glEsVersion</code> 属性在您的清单文件中声明要求。</p><p>如需了解有关使用 OpenGL ES 的信息，包括如何在运行时检查设备支持的 OpenGL ES 版本，请参阅 OpenGL ES API 指南。</p><h1 id="Android-TV-录制"><a href="#Android-TV-录制" class="headerlink" title="Android TV 录制"></a>Android TV 录制</h1><hr><p>Android 7.0 通过新的录制 API 添加了从 Android TV 输入服务录制和播放内容的功能。构建在现有时移 API 之上，TV 输入服务可以控制能够录制的渠道数据、保存录制的会话的方式，同时可通过录制的内容管理用户交互。</p><p>如需了解详细信息，请参阅 <a href="https://developer.android.com/preview/features/tv-recording-api.html" target="_blank" rel="noopener">Android TV Recording API</a>。</p><h1 id="Android-for-Work"><a href="#Android-for-Work" class="headerlink" title="Android for Work"></a>Android for Work</h1><hr><p>Android for Work 针对运行 Android 7.0 的设备添加了许多新功能和 API。部分重要内容如下— 有关变更的完整列表，请参阅 <a href="https://developer.android.com/preview/features/afw.html" target="_blank" rel="noopener">Android for Work 更新</a>。</p><h2 id="工作资料安全性挑战"><a href="#工作资料安全性挑战" class="headerlink" title="工作资料安全性挑战"></a>工作资料安全性挑战</h2><p>面向 N SDK 的配置文件所有者可以为在工作资料中运行的应用指定单独的安全性挑战。当用户尝试打开任何工作应用时将显示工作挑战。成功完成安全性挑战可解锁工作资料并将其解密（如果需要）。对于配置文件所有者，<code>ACTION_SET_NEW_PASSWORD</code> 提示用户设置工作挑战，<code>ACTION_SET_NEW_PARENT_PROFILE_PASSWORD</code> 提示用户设置设备锁。</p><p>配置文件所有者可以使用 <code>setPasswordQuality()</code>、<code>setPasswordMinimumLength()</code> 和相关方法针对工作挑战设置不同的密码策略（例如，PIN 码必须多长，或是否可以使用指纹解锁配置文件）。配置文件所有者还可以使用新的 <code>getParentProfileInstance()</code> 方法返回的 <code>DevicePolicyManager</code> 实例设置设备锁定。此外，配置文件所有者可以使用新的 <code>setOrganizationColor()</code> 和 <code>setOrganizationName()</code> 方法针对工作挑战自定义凭据屏幕。</p><h2 id="关闭工作"><a href="#关闭工作" class="headerlink" title="关闭工作"></a>关闭工作</h2><p>在有工作资料的设备上，用户可以切换工作模式。工作模式关闭时，管理的用户临时关闭，其停用托管工作资料应用、后台同步和通知。这包括配置文件所有者应用。关闭工作模式时，系统显示永久状态图标，以提醒用户他们无法启动工作应用。启动器指示该工作应用和小部件无法访问。</p><h2 id="Always-on-VPN"><a href="#Always-on-VPN" class="headerlink" title="Always on VPN"></a>Always on VPN</h2><p>设备所有者和配置文件所有者可以确保工作应用始终通过指定的 VPN 连接。系统在设备启动后自动启动该 VPN。</p><p>新的 <code>DevicePolicyManager</code> 方法为 <code>setAlwaysOnVpnPackage()</code> 和 <code>getAlwaysOnVpnPackage()</code>。</p><p>由于 VPN 服务无需应用交互即可由系统直接绑定，因此，VPN 客户端必须针对 Always on VPN 处理新的入口点。和以前一样，由与操作 <code>android.net.VpnService</code> 匹配的 intent 过滤器将服务指示给系统。</p><p>用户还可以使用 <strong>Settings&gt;More&gt;Vpn</strong> 手动设置实现 <code>VPNService</code> 方法的 Always on VPN 客户端。通过“设置”启用 Always on VPN 的选项仅在 VPN 客户端以 API 级别 24 为目标时可用。</p><h2 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h2><p>应用可以用企业颜色和徽标来自定义配置文件所有者和设备所有者配置流程。<code>DevicePolicyManager.EXTRA_PROVISIONING_MAIN_COLOR</code> 自定义流程颜色。<code>DevicePolicyManager.EXTRA_PROVISIONING_LOGO_URI</code> 用企业徽标自定义流程。</p><h1 id="无障碍增强功能"><a href="#无障碍增强功能" class="headerlink" title="无障碍增强功能"></a>无障碍增强功能</h1><hr><p>Android 7.0 现在针对新的设备设置直接在欢迎屏幕上提供“Vision Settings”。这使用户可以更容易发现和配置他们设备上的无障碍功能，包括放大手势、字体大小、显示屏尺寸和话语提示。</p><p>随着这些无障碍功能更为突出，在启用这些功能后，您的用户更可能试用您的应用。请务必提前启用这些设置测试您的应用。您可以通过 Settings &gt; Accessibility 启用它们。</p><p>还是在 Android 7.0 中，无障碍服务现在可以帮助具有动作障碍的用户触摸屏幕。全新的 API 允许使用人脸追踪、眼球追踪、点扫描等功能构建服务，以满足这些用户的需求。</p><p>如需了解详细信息，请参阅可下载的 <a href="https://developer.android.com/preview/setup-sdk.html#docs-dl" target="_blank" rel="noopener">API 参考</a>中的 <code>android.accessibilityservice.GestureDescription</code>。</p><h1 id="直接启动"><a href="#直接启动" class="headerlink" title="直接启动"></a>直接启动</h1><hr><p>直接启动可以缩短设备启动时间，让注册的应用具有有限的功能，即使在意外重启后。例如，如果当用户睡觉时加密的设备重启，那么注册的警报、消息和来电现在可以和往常一样继续通知用户。这也意味着重启后无障碍服务会立即可用。</p><p>在 Android 7.0 中，直接启动充分利用基于文件的加密，以针对系统和应用数据启用细化的加密策略。系统针对选定的系统数据和显式注册的应用数据使用设备加密存储。默认情况下，凭据加密存储可用于所有其他系统数据、用户数据、应用及应用数据。</p><p>启动时，系统在受限的模式中启动，仅访问设备加密数据，不会对应用或数据进行常规访问。如果您有想要在此模式下运行的组件，您可以通过在清单中设置标记注册它们。重启后，系统通过广播 LOCKED_BOOT_COMPLETED intent 激活注册的组件。系统确保注册的设备加密的应用数据在解锁前可用。所有其他数据在用户确认锁定屏幕凭据进行解密前均不可用。</p><p>如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/direct-boot.html" target="_blank" rel="noopener">直接启动</a>。</p><h1 id="密钥认证"><a href="#密钥认证" class="headerlink" title="密钥认证"></a>密钥认证</h1><hr><p>Android 7.0 引入密钥认证，这是一个新的安全工具，可帮助您确保设备的硬件支持的密钥库中存储的密钥对适当保护您的应用使用的敏感信息。借助此工具，您可以更加放心地让您的应用与驻留在安全硬件中的密钥交互，即使运行您的应用的设备已被破解 root 权限。如果您在应用中使用硬件支持的密钥库中的密钥，您应使用此工具，尤其当您使用密钥验证应用中的敏感信息时。</p><p>通过密钥认证，您可以在设备的可信执行环境 (TEE) 中验证在设备的硬件支持的密钥库中创建和存储的 RSA 或 EC 密钥对。通过此工具，您还可以使用设备服务，例如您的应用的后端服务器，确定和有效验证密钥对的使用和有效性。这些功能为保护密钥对提供额外的安全级别，即使有人破解设备的 root 权限或损害运行于设备的 Android 平台的安全。</p><blockquote><p><strong>注：</strong>仅少部分运行 Android 7.0 的设备支持硬件级密钥认证；其他所有运行 Android 7.0 的设备则使用软件级密钥认证。在生产级环境中验证设备的硬件支持的密钥之属性前，您应确保设备支持硬件级密钥认证。为此，您应确保认证证书链包含由 Google 认证根密钥签署的根证书，且密钥说明数据结构中的 attestationSecurityLevel 元素设置为 TrustedEnvironment 安全级别。</p></blockquote><p>如需了解详细信息，请参阅密钥认证开发者文档。</p><h1 id="网络安全性配置"><a href="#网络安全性配置" class="headerlink" title="网络安全性配置"></a>网络安全性配置</h1><hr><p>在 Android 7.0 中，通过使用说明性“网络安全性配置”（而不是使用传统的易出错的编程 API（例如，X509TrustManager）），应用可以安全地自定义其安全（HTTPS、TLS）连接的行为，无需任何代码修改。</p><p>支持的功能：</p><ul><li><strong>自定义信任锚。</strong>让应用可以针对安全连接自定义哪些证书颁发机构 (CA) 值得信赖。例如，信任特定的自签署证书或限制应用信任的公共 CA 集。</li><li><strong>仅调试重写。</strong>让应用开发者可以安全调试其应用的安全连接，而不会增加安装基础的风险。</li><li><strong>明文流量选择退出。</strong>让应用可以防止自身意外使用明文流量。</li><li><strong>证书固定。</strong>这是一项高级功能，让应用可以针对安全连接限制哪些服务器密钥受信任。</li></ul><p>如需了解详细信息，请参阅<a href="https://developer.android.com/preview/features/security-config.html" target="_blank" rel="noopener">网络安全性配置</a>。</p><h1 id="默认受信任的证书颁发机构"><a href="#默认受信任的证书颁发机构" class="headerlink" title="默认受信任的证书颁发机构"></a>默认受信任的证书颁发机构</h1><hr><p>默认情况下，面向 Android 7.0 的应用仅信任系统提供的证书，且不再信任用户添加的证书颁发机构 (CA)。如果面向 Android N 的应用希望信任用户添加的 CA，则应使用<a href="https://developer.android.com/preview/features/security-config.html" target="_blank" rel="noopener">网络安全性配置</a>以指定信任用户 CA 的方式。</p><h1 id="APK-signature-scheme-v2"><a href="#APK-signature-scheme-v2" class="headerlink" title="APK signature scheme v2"></a>APK signature scheme v2</h1><hr><p>Android 7.0 引入一项新的应用签名方案 APK Signature Scheme v2，它能提供更快的应用安装时间和更多针对未授权 APK 文件更改的保护。在默认情况下，Android Studio 2.2 和 Android Plugin for Gradle 2.2 会使用 APK Signature Scheme v2 和传统签名方案来签署您的应用。</p><p>虽然我们建议您对您的应用采用 APK Signature Scheme v2，但这项新方案并非强制性的。如果您的应用在使用 APK Signature Scheme v2 时不能正确开发，您可以停用这项新方案。禁用过程会导致 Android Studio 2.2 和 Android Plugin for Gradle 2.2 仅使用传统签名方案来签署您的应用。要仅用传统方案签署，打开模块级 <code>build.gradle</code> 文件，然后将行 v2SigningEnabled false 添加到您的版本签名配置中：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">  ...</span><br><span class="line">  defaultConfig &#123; ... &#125;</span><br><span class="line">  signingConfigs &#123;</span><br><span class="line">    release &#123;</span><br><span class="line">      storeFile <span class="keyword">file</span>(<span class="string">"myreleasekey.keystore"</span>)</span><br><span class="line">      storePassword <span class="string">"password"</span></span><br><span class="line">      keyAlias <span class="string">"MyReleaseKey"</span></span><br><span class="line">      keyPassword <span class="string">"password"</span></span><br><span class="line">      v2SigningEnabled <span class="keyword">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong>如果您使用 APK Signature Scheme v2 签署您的应用，并对应用进行了进一步更改，则应用的签名将无效。出于这个原因，请在使用 APK Signature Scheme v2 签署您的应用之前、而非之后使用 zipalign 等工具。</p></blockquote><p>如需了解详细信息，请阅读相关的 Android Studio 文档，这些文档介绍了如何在 Android Studio 中签署应用以及如何使用 Android Plugin for Gradle <a href="https://developer.android.com/studio/build/build-variants.html#signing" target="_blank" rel="noopener">为签署应用配置构建文件</a>。</p><h1 id="作用域目录访问"><a href="#作用域目录访问" class="headerlink" title="作用域目录访问"></a>作用域目录访问</h1><hr><p>在 Android 7.0 中，应用可以使用新的 API 请求访问特定的外部存储目录，包括可移动媒体上的目录，如 SD 卡。新 API 大大简化了应用访问标准外部存储目录的方式，如 Pictures 目录。应用（如照片应用）可以使用这些 API（而不是使用 READ_EXTERNAL_STORAGE），其授予所有存储目录的访问权限或存储访问框架，从而让用户可以导航到目录。</p><p>此外，新的 API 简化了用户向应用授予外部存储访问权限的步骤。当您使用新的 API 时，系统使用一个简单的权限 UI，其清楚地详细介绍应用正在请求访问的目录。</p><p>如需了解详细信息，请参阅作用域目录访问开发者文档。</p><h1 id="键盘快捷键辅助工具"><a href="#键盘快捷键辅助工具" class="headerlink" title="键盘快捷键辅助工具"></a>键盘快捷键辅助工具</h1><hr><p>在 Android 7.0 中，用户可以按“Meta + /”触发“键盘快捷键”屏幕，它会显示的系统和对焦的应用中可用的所有快捷键。如果快捷键存在，系统自动从应用菜单检索这些快捷键。您也可以为屏幕提供微调的快捷键列表。您可以通过重写新 Activity.onProvideKeyboardShortcuts() 的方法来进行这项操作，如可下载的 API 参考中所述。</p><blockquote><p><strong>注：</strong>所有键盘都没有 Meta 键：在 Macintosh 键盘上，它是 Command 键；在 Windows 键盘上，它是 Windows 键；而在 Pixel C 和 Chrome 操作系统键盘上，它是 Search 键。</p></blockquote><p>要在您的应用的任何地方触发键盘快捷键辅助工具，为相关 Activity 调用 Activity.requestKeyboardShortcutsHelper()。</p><h1 id="Custom-Pointer-API"><a href="#Custom-Pointer-API" class="headerlink" title="Custom Pointer API"></a>Custom Pointer API</h1><hr><p>Android 7.0 引入 Custom Pointer API，以便您可以自定义指针的外观、 可见性和行为。此功能在用户使用鼠标或触控板与 UI 对象交互尤为有用。默认指针使用标准图标。此 API 还包含多种高级功能，例如根据鼠标或触控板特定移动情况改变指针图标外观。</p><p>要设置指针图标，请替换 View 类的 onResolvePointerIcon() 方法。此方法使用 PointerIcon 对象绘制与特定移动事件对应的图标。</p><h1 id="Sustained-Performance-API"><a href="#Sustained-Performance-API" class="headerlink" title="Sustained Performance API"></a>Sustained Performance API</h1><hr><p>长期运行的应用的性能可能会显著波动，因为系统会阻止系统芯片在设备组件达到温度限制时启动。这种波动是建立高性能长期运行应用的应用开发者的移动目标。</p><p>为解决这些限制，Android 7.0 包括了对持续性能模式的支持，帮助原始设备制造商 (OEM) 提供关于长期运行应用的设备性能能力的提示。应用开发者可以使用这些提示来根据可预测的一致设备性能水平调整长期应用。</p><p>应用开发者只能在 Nexus 6P 设备的 Android 7.0 中尝试这款新 API。要使用此功能，为您希望以持续性能模式运行的窗口设置持续性能窗口标记。使用 Window.setSustainedPerformanceMode() 方法设置此标记。当窗口不再对焦时，系统会自动停用此模式。</p><h1 id="VR-支持"><a href="#VR-支持" class="headerlink" title="VR 支持"></a>VR 支持</h1><hr><p>Android 7.0 添加了新的 VR 模式的平台支持和优化，以使开发者能为用户打造高质量移动 VR 体验。增加了一些性能增强特性，包括允许 VR 应用访问某个专属的 CPU 核心。在您的应用中，您可以充分利用到专为 VR 设计的智能头部跟踪和立体声通知功能。最重要的是，Android 7.0 的图形延时非常低。如需了解有关开发面向 Android 7.0 的 VR 应用的完整信息，请参阅<a href="https://developers.google.com/vr/android/" target="_blank" rel="noopener">面向 Android 的 Google VR SDK</a>。</p><h1 id="打印服务增强"><a href="#打印服务增强" class="headerlink" title="打印服务增强"></a>打印服务增强</h1><hr><p>在 Android 7.0 中，打印服务开发者现在可以公开关于个别打印机和打印作业的其他信息。</p><p>在列出各打印机时，打印服务现在可以通过两种方式来设置按打印机的图标：</p><ul><li>您可以通过调用 PrinterInfo.Builder.setResourceIconId() 设置源于资源 ID 的图标</li><li>您可以通过调用 PrinterInfo.Builder.setHasCustomPrinterIcon()，并针对使用 android.printservice.PrinterDiscoverySession.onRequestCustomPrinterIcon() 请求图标的情况设置回调来显示源自网络的图标</li></ul><p>此外，您还可以通过调用 PrinterInfo.Builder.setInfoIntent() 提供按打印机活动，以显示其他信息。</p><p>您可以通过分别调用 android.printservice.PrintJob.setProgress() 和 android.printservice.PrintJob.setStatus() 在打印任务通知中指示打印任务的进度和状态。</p><p>如需了解有关这些方法的详细信息，请参阅可下载的 <a href="https://developer.android.com/preview/setup-sdk.html#docs-dl" target="_blank" rel="noopener">API 参考</a>。</p><h1 id="FrameMetricsListener-API"><a href="#FrameMetricsListener-API" class="headerlink" title="FrameMetricsListener API"></a>FrameMetricsListener API</h1><hr><p>FrameMetricsListener API 允许应用监测它的 UI 渲染性能。API 通过公开流式传输 Pub/Sub API 来提供此能力，以传递应用当前窗口的帧计时信息。返回的数据相当于 adb shell dumpsys gfxinfo framestats 显示的数据，但不限定于在过去的 120 帧内。</p><p>您可以使用 <code>FrameMetricsListener</code> 来衡量生产中的交互级 UI 性能，无需 USB 连接。此 API 允许在比 adb shell dumpsys gfxinfo 更高的粒度上收集数据。因为系统可以从应用中的特定交互中收集数据，因此更高的粒度变得可行；系统不需要采集关于完整应用性能的全局概要或清除任何全局状态。您可以使用这种能力来针对应用的真实使用案例收集性能数据和捕捉 UI 性能回归。</p><p>要监测一个窗口，实现 <code>FrameMetricsListener.onMetricsAvailable()</code> 回调方法，并在窗口上注册。如需了解详细信息，请参阅可下载的 API 参考中的 FrameMetricsListener 类文档。</p><p>API 提供了一个包含计时数据的 <code>FrameMetrics</code> 对象，其渲染子系统会在一帧长度内报告各种里程碑。支持的指标有：<code>UNKNOWN_DELAY_DURATION</code>、<code>INPUT_HANDLING_DURATION</code>、<code>ANIMATION_DURATION</code>、<code>LAYOUT_MEASURE_DURATION</code>、<code>DRAW_DURATION</code>、 <code>SYNC_DURATION</code>、<code>COMMAND_ISSUE_DURATION</code>、<code>SWAP_BUFFERS_DURATION</code>、<code>TOTAL_DURATION</code> 和 <code>FIRST_DRAW_FRAME</code>。</p><h1 id="虚拟文件"><a href="#虚拟文件" class="headerlink" title="虚拟文件"></a>虚拟文件</h1><hr><p>在较早的 Android 版本中，您的应用可以使用存储访问框架来允许用户从他们的云存储帐户中选择文件，如 Google Drive。但是，不能表示没有直接字节码表示的文件；每个文件都必须提供一个输入流。</p><p>Android 7.0 在存储访问框架中添加了虚拟文件的概念。虚拟文件功能可以让您的 <code>DocumentsProvider</code> 返回可与 <code>ACTION_VIEW</code> intent 使用的文件 URI，即使它们没有直接字节码表示。Android 7.0 还允许您为用户文件（虚拟或其他类）提供备用格式。</p><p>为获得您的应用中的虚拟文件的 URI，首先您应创建一个 Intent 以打开文件选择器 UI。由于应用不能使用 <code>openInputStream()</code> 方法来直接打开一个虚拟文件，因此如果您包括了 CATEGORY_OPENABLE 类别，您的应用不会收到任何虚拟文件。</p><p>在用户选择之后，系统调用 <code>onActivityResult()</code> 方法。您的应用可以检索虚拟文件的 URI，并得到一个输入流，这表现在以下片段中的代码。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Other Activity code ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">int</span> REQUEST_CODE = <span class="number">64</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We listen to the OnActivityResult event to respond to the user's selection.</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode,</span></span></span><br><span class="line"><span class="function"><span class="params">    Intent resultData)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (requestCode == REQUEST_CODE &amp;&amp;</span><br><span class="line">            resultCode == Activity.RESULT_OK) &#123;</span><br><span class="line"></span><br><span class="line">            Uri uri = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (resultData != <span class="keyword">null</span>) &#123;</span><br><span class="line">                uri = resultData.getData();</span><br><span class="line"></span><br><span class="line">                ContentResolver resolver = getContentResolver();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Before attempting to coerce a file into a MIME type,</span></span><br><span class="line">                <span class="comment">// check to see what alternative MIME types are available to</span></span><br><span class="line">                <span class="comment">// coerce this file into.</span></span><br><span class="line">                String[] streamTypes =</span><br><span class="line">                  resolver.getStreamTypes(uri, <span class="string">"*/*"</span>);</span><br><span class="line"></span><br><span class="line">                AssetFileDescriptor descriptor =</span><br><span class="line">                    resolver.openTypedAssetFileDescriptor(</span><br><span class="line">                        uri,</span><br><span class="line">                        streamTypes[<span class="number">0</span>],</span><br><span class="line">                        <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Retrieve a stream to the virtual file.</span></span><br><span class="line">                InputStream inputStream = descriptor.createInputStream();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">        Log.e(<span class="string">"EXCEPTION"</span>, <span class="string">"ERROR: "</span>, ex);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>如需了解有关访问用户文件的详细信息，请参阅存储访问框架指南。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Android 7.0 Nougat 为用户和开发者引入多种新功能。本文重点介绍面向开发者的新功能。&lt;/p&gt;
&lt;p&gt;请务必查阅 Android 7.0 行为变更以了解平台变更可能影响您的应用的领域。&lt;/p&gt;
&lt;p&gt;要详细了解 Android 7.0 的消费者功能，请访问 &lt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Nougat" scheme="http://yoursite.com/tags/Nougat/"/>
    
      <category term="Android 7.0" scheme="http://yoursite.com/tags/Android-7-0/"/>
    
  </entry>
  
  <entry>
    <title>Android 6.0 变更</title>
    <link href="http://yoursite.com/2016/05/12/android-6-0-changes/"/>
    <id>http://yoursite.com/2016/05/12/android-6-0-changes/</id>
    <published>2016-05-12T11:56:45.000Z</published>
    <updated>2018-04-10T01:33:55.366Z</updated>
    
    <content type="html"><![CDATA[<p>Android 6.0（API 级别 23）除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。</p><p>如果您之前发布过 Android 应用，请注意您的应用可能受到这些平台变更的影响。</p><h1 id="运行时权限"><a href="#运行时权限" class="headerlink" title="运行时权限"></a>运行时权限</h1><hr><p>此版本引入了一种新的权限模式，如今，用户可直接在运行时管理应用权限。这种模式让用户能够更好地了解和控制权限，同时为应用开发者精简了安装和自动更新过程。用户可为所安装的各个应用分别授予或撤销权限。</p><p>对于以 Android 6.0（API 级别 23）或更高版本为目标平台的应用，请务必在运行时检查和请求权限。要确定您的应用是否已被授予权限，请调用新增的 <code>checkSelfPermission()</code> 方法。要请求权限，请调用新增的 <code>requestPermissions()</code> 方法。即使您的应用并不以 Android 6.0（API 级别 23）为目标平台，您也应该在新权限模式下测试您的应用。</p><p>如需了解有关在您的应用中支持新权限模式的详情，请参阅<a href="https://developer.android.com/training/permissions/index.html" target="_blank" rel="noopener">使用系统权限</a>。如需了解有关如何评估新模式对应用的影响的提示，请参阅<a href="https://developer.android.com/training/permissions/best-practices.html#testing" target="_blank" rel="noopener">权限最佳做法</a>。</p><h1 id="低电耗模式和应用待机模式"><a href="#低电耗模式和应用待机模式" class="headerlink" title="低电耗模式和应用待机模式"></a>低电耗模式和应用待机模式</h1><hr><p>此版本引入了针对空闲设备和应用的最新节能优化技术。这些功能会影响所有应用，因此请务必在这些新模式下测试您的应用。</p><ul><li><strong>低电耗模式：</strong>如果用户拔下设备的电源插头，并在屏幕关闭后的一段时间内使其保持不活动状态，设备会进入低电耗模式，在该模式下设备会尝试让系统保持休眠状态。在该模式下，设备会定期短时间恢复正常工作，以便进行应用同步，还可让系统执行任何挂起的操作。</li><li><strong>应用待机模式：</strong>应用待机模式允许系统判定应用在用户未主动使用它时处于空闲状态。当用户有一段时间未触摸应用时，系统便会作出此判定。如果拔下了设备电源插头，系统会为其视为空闲的应用停用网络访问以及暂停同步和作业。<br>要详细了解这些节能变更，请参阅<a href="https://developer.android.com/training/monitoring-device-state/doze-standby.html" target="_blank" rel="noopener">对低电耗模式和应用待机模式进行针对性优化</a>。</li></ul><h1 id="取消支持-Apache-HTTP-客户端"><a href="#取消支持-Apache-HTTP-客户端" class="headerlink" title="取消支持 Apache HTTP 客户端"></a>取消支持 Apache HTTP 客户端</h1><hr><p>Android 6.0 版移除了对 Apache HTTP 客户端的支持。如果您的应用使用该客户端，并以 Android 2.3（API 级别 9）或更高版本为目标平台，请改用 <code>HttpURLConnection</code> 类。此 API 效率更高，因为它可以通过透明压缩和响应缓存减少网络使用，并可最大限度降低耗电量。要继续使用 Apache HTTP API，您必须先在 <code>build.gradle</code> 文件中声明以下编译时依赖项：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    useLibrary <span class="string">'org.apache.http.legacy'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="BoringSSL"><a href="#BoringSSL" class="headerlink" title="BoringSSL"></a>BoringSSL</h1><hr><p>Android 正在从使用 OpenSSL 库转向使用 BoringSSL 库。如果您要在应用中使用 Android NDK，请勿链接到并非 NDK API 组成部分的加密库，如 libcrypto.so 和 libssl.so。这些库并非公共 API，可能会在不同版本和设备上毫无征兆地发生变化或出现故障。此外，您还可能让自己暴露在安全漏洞的风险之下。请改为修改原生代码，以通过 JNI 调用 Java 加密 API，或静态链接到您选择的加密库。</p><h1 id="硬件标识符访问权"><a href="#硬件标识符访问权" class="headerlink" title="硬件标识符访问权"></a>硬件标识符访问权</h1><hr><p>为给用户提供更严格的数据保护，从此版本开始，对于使用 WLAN API 和 Bluetooth API 的应用，Android 移除了对设备本地硬件标识符的编程访问权。<code>WifiInfo.getMacAddress()</code> 方法和 <code>BluetoothAdapter.getAddress()</code> 方法现在会返回常量值 02:00:00:00:00:00。</p><p>现在，要通过蓝牙和 WLAN 扫描访问附近外部设备的硬件标识符，您的应用必须拥有 <code>ACCESS_FINE_LOCATION</code> 或 <code>ACCESS_COARSE_LOCATION</code> 权限。</p><ul><li>WifiManager.getScanResults()</li><li>BluetoothDevice.ACTION_FOUND</li><li>BluetoothLeScanner.startScan()<blockquote><p><strong>注：</strong>当运行 Android 6.0（API 级别 23）的设备发起后台 WLAN 或蓝牙扫描时，在外部设备看来，该操作的发起来源是一个随机化 MAC 地址。</p></blockquote></li></ul><h1 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h1><hr><p>此版本移除了 <code>Notification.setLatestEventInfo()</code> 方法。请改用 <code>Notification.Builder</code> 类来构建通知。要重复更新通知，请重复使用 <code>Notification.Builder</code> 实例。调用 <code>build()</code> 方法可获取更新后的 <code>Notification</code> 实例。</p><p><code>adb shell dumpsys notification</code> 命令不再打印输出您的通知文本。请改用 <code>adb shell dumpsys notification --noredact</code> 命令打印输出 notification 对象中的文本。</p><h1 id="音频管理器变更"><a href="#音频管理器变更" class="headerlink" title="音频管理器变更"></a>音频管理器变更</h1><hr><p>不再支持通过 <code>AudioManager</code> 类直接设置音量或将特定音频流静音。<code>setStreamSolo()</code> 方法已弃用，您应该改为调用 <code>requestAudioFocus()</code> 方法。类似地，<code>setStreamMute()</code> 方法也已弃用，请改为调用 <code>adjustStreamVolume()</code> 方法并传入方向值 <code>ADJUST_MUTE</code> 或 <code>ADJUST_UNMUTE</code>。</p><h1 id="文本选择"><a href="#文本选择" class="headerlink" title="文本选择"></a>文本选择</h1><hr><p><img src="/2016/05/12/android-6-0-changes/text-selection.gif" style="width:300px; float: right; margin-left:20px"><br>现在，当用户在您的应用中选择文本时，您可以在一个浮动工具栏中显示“剪切”、“复制”和“粘贴”等文本选择操作。其在用户交互实现上与为单个视图启用上下文操作模式中所述的上下文操作栏类似。</p><p>要实现可用于文本选择的浮动工具栏，请在您的现有应用中做出以下更改：</p><ol><li>在 <code>View</code> 对象或 <code>Activity</code> 对象中，将 <code>ActionMode</code> 调用从 <code>startActionMode(Callback)</code> 更改为 <code>startActionMode(Callback, ActionMode.TYPE_FLOATING)</code>。</li><li>改为使用 <code>ActionMode.Callback</code> 的现有实现扩展 <code>ActionMode.Callback2</code>。</li><li>替代 <code>onGetContentRect()</code> 方法，用于提供 Rect 内容对象（如文本选择矩形）在视图中的坐标。</li><li>如果矩形的定位不再有效，并且这是唯一需要声明为无效的元素，请调用 <code>invalidateContentRect()</code> 方法。</li></ol><p>请注意，如果您使用 Android 支持库 22.2 修订版，浮动工具栏不向后兼容，默认情况下 appcompat 会获得对 <code>ActionMode</code> 对象的控制权。这会禁止显示浮动工具栏。要在 ActionMode 中启用 <code>AppCompatActivity</code> 支持，请调用 <code>getDelegate()</code>，然后对返回的 <code>setHandleNativeActionModesEnabled()</code> 对象调用 <code>AppCompatDelegate</code>，并将输入参数设置为 false。此调用会将 <code>ActionMode</code> 对象的控制权交还给框架。在运行 Android 6.0（API 级别 23）的设备上，框架可以支持 <code>ActionBar</code> 模式或浮动工具栏模式；而在运行 Android 5.1（API 级别 22）或之前版本的设备上，框架仅支持 <code>ActionBar</code> 模式。</p><h1 id="浏览器书签变更"><a href="#浏览器书签变更" class="headerlink" title="浏览器书签变更"></a>浏览器书签变更</h1><hr><p>此版本移除了对全局书签的支持。<code>android.provider.Browser.getAllBookmarks()</code> 和 <code>android.provider.Browser.saveBookmark()</code> 方法现已移除。同样，<code>READ_HISTORY_BOOKMARKS</code> 权限和 <code>WRITE_HISTORY_BOOKMARKS</code> 权限也已移除。如果您的应用以 Android 6.0（API 级别 23）或更高版本为目标平台，请勿从全局提供程序访问书签或使用书签权限。您的应用应改为在内部存储书签数据。</p><h1 id="Android-密钥库变更"><a href="#Android-密钥库变更" class="headerlink" title="Android 密钥库变更"></a>Android 密钥库变更</h1><hr><p>从此版本开始，Android 密钥库提供程序不再支持 DSA。但仍支持 ECDSA。</p><p>停用或重置安全锁定屏幕时（例如，由用户或设备管理员执行此类操作时），系统将不再删除需要闲时加密的密钥，但在上述事件期间会删除需要闲时加密的密钥。</p><h1 id="WLAN-和网络连接变更"><a href="#WLAN-和网络连接变更" class="headerlink" title="WLAN 和网络连接变更"></a>WLAN 和网络连接变更</h1><hr><p>此版本对 WLAN API 和 Networking API 引入了以下行为变更。</p><ul><li>现在，您的应用只能更改由您创建的 <code>WifiConfiguration</code> 对象的状态。系统不允许您修改或删除由用户或其他应用创建的 <code>WifiConfiguration</code> 对象。</li><li>在之前的版本中，如果应用利用带有 disableAllOthers=true 设置的 <code>enableNetwork()</code> 强制设备连接特定 WLAN 网络，设备将会断开与移动数据网络等其他网络的连接。在此版本中，设备不再断开与上述其他网络的连接。如果您的应用的 targetSdkVersion 为 “20” 或更低，则会固定连接所选 WLAN 网络。如果您的应用的 targetSdkVersion 为 “21” 或更高，请使用多网络 API（如 <code>openConnection()</code>、<code>bindSocket()</code> 和新增的 <code>bindProcessToNetwork()</code> 方法）来确保通过所选网络传送网络流量。</li></ul><h1 id="相机服务变更"><a href="#相机服务变更" class="headerlink" title="相机服务变更"></a>相机服务变更</h1><hr><p>在此版本中，相机服务中共享资源的访问模式已从之前的“先到先得”访问模式更改为高优先级进程优先的访问模式。对服务行为的变更包括：</p><ul><li>根据客户端应用进程的“优先级”授予对相机子系统资源的访问权，包括打开和配置相机设备。带有对用户可见 Activity 或前台 Activity 的应用进程一般会被授予较高的优先级，从而使相机资源的获取和使用更加可靠；</li><li>当高优先级的应用尝试使用相机时，系统可能会“驱逐”正在使用相机客户端的低优先级应用。在已弃用的 Camera API 中，这会导致系统为被驱逐的客户端调用 onError()。在 Camera2 API 中，这会导致系统为被驱逐的客户端调用 onDisconnected()；</li><li>在配备相应相机硬件的设备上，不同的应用进程可同时独立打开和使用不同的相机设备。但现在，如果在多进程用例中同时访问相机会造成任何打开的相机设备的性能或能力严重下降，相机服务会检测到这种情况并禁止同时访问。即使并没有其他应用直接尝试访问同一相机设备，此变更也可能导致低优先级客户端被“驱逐”。</li><li>更改当前用户会导致之前用户帐户拥有的应用内活动相机客户端被驱逐。对相机的访问仅限于访问当前设备用户拥有的用户个人资料。举例来说，这意味着，当用户切换到其他帐户后，“来宾”帐户实际上无法让使用相机子系统的进程保持运行状态。</li></ul><h1 id="运行时"><a href="#运行时" class="headerlink" title="运行时"></a>运行时</h1><hr><p>ART 运行时环境现在可正确实现 <code>newInstance()</code> 方法的访问规则。此变更修正了之前版本中 Dalvik 无法正确检查访问规则的问题。如果您的应用使用 newInstance() 方法，并且您想重写访问检查，请调用 <code>setAccessible()</code> 方法（将输入参数设置为 true）。如果您的应用使用 v7 appcompat 库或 v7 recyclerview 库，则您必须更新应用以使用这些库的最新版本。否则，请务必更新从 XML 引用的任何自定义类，以便能够访问它们的类构造函数。</p><p>此版本更新了动态链接程序的行为。动态链接程序现在可以识别库的 soname 与其路径之间的差异（公开错误 6670），并且现在已实现了按 soname 搜索。之前包含错误的 DT_NEEDED 条目（通常是开发计算机文件系统上的绝对路径）却仍工作正常的应用，如今可能会出现加载失败。</p><p>现已正确实现 dlopen(3) RTLD_LOCAL 标记。请注意，RTLD_LOCAL 是默认值，因此不显式使用 RTLD_LOCAL 的 dlopen(3) 调用将受到影响（除非您的应用显式使用 RTLD_GLOBAL）。使用 RTLD_LOCAL 时，在随后通过调用 dlopen(3) 加载的库中并不能使用这些符号（这与由 DT_NEEDED 条目引用的情况截然不同）。</p><p>在之前版本的 Android 上，如果您的应用请求系统加载包含文本重定位信息的共享库，系统会显示警告，但仍允许加载共享库。从此版本开始，如果您的应用的目标 SDK 版本为 23 或更高，则系统会拒绝加载该库。为帮助您检测库是否加载失败，您的应用应该记录 dlopen(3) 失败日志，并在日志中加入 dlerror(3) 调用返回的问题描述文本。要详细了解如何处理文本重定位，请参阅此指南。</p><h1 id="APK-验证"><a href="#APK-验证" class="headerlink" title="APK 验证"></a>APK 验证</h1><hr><p>该平台现在执行的 APK 验证更为严格。如果在清单中声明的文件在 APK 中并不存在，该 APK 将被视为已损坏。移除任何内容后必须重新签署 APK。</p><h1 id="USB-连接"><a href="#USB-连接" class="headerlink" title="USB 连接"></a>USB 连接</h1><hr><p>默认情况下，现在通过 USB 端口进行的设备连接设置为仅充电模式。要通过 USB 连接访问设备及其内容，用户必须明确地为此类交互授予权限。如果您的应用支持用户通过 USB 端口与设备进行交互，请将必须显式启用交互考虑在内。</p><h1 id="Android-for-Work-变更"><a href="#Android-for-Work-变更" class="headerlink" title="Android for Work 变更"></a>Android for Work 变更</h1><hr><p>此版本包含下列针对 Android for Work 的行为变更：</p><ul><li><strong>个人上下文中的工作联系人：</strong>Google 拨号器通话记录现在会在用户查看通话记录时显示工作联系人。将 setCrossProfileCallerIdDisabled() 设置为 true 可在 Google 拨号器通话记录中隐藏托管配置文件联系人。仅当您将 setBluetoothContactSharingDisabled() 设置为 false 时，才可以通过蓝牙将工作联系人随个人联系人一起显示给设备。默认情况下，它设置为 true。</li><li><strong>WLAN 配置删除：</strong>现在，当删除某个托管配置文件时，将会移除由配置文件所有者添加的 WLAN 配置（例如，通过调用 addNetwork() 方法添加的配置）。</li><li><strong>WLAN 配置锁定：</strong>如果 WIFI_DEVICE_OWNER_CONFIGS_LOCKDOWN 不为零，则用户无法再修改或删除任何由活动设备所有者创建的 WLAN 配置。用户仍可创建和修改其自己的 WLAN 配置。活动设备所有者拥有编辑或删除任何 WLAN 配置（包括并非由其创建的配置）的权限。</li><li><strong>通过添加 Google 帐户下载设备规范控制器：</strong>向托管环境以外的设备添加需要通过设备规范控制器 (DPC) 应用管理的 Google 帐户时，帐户添加流程现在会提示用户安装相应的 WPC。在设备初始设置向导中通过 Settings &gt; Accounts 添加帐户时，也会出现此行为。</li><li><strong>对特定 DevicePolicyManager API 行为的变更：</strong><ul><li>调用 setCameraDisabled() 方法只会影响调用该方法的用户的相机；从托管配置文件调用它不会影响主用户运行的相机应用。</li><li>此外，setKeyguardDisabledFeatures() 方法现在除了可供设备所有者使用外，还可供配置文件所有 者使用。</li><li>配置文件所有者可设置以下键盘锁限制：<pre><code>- KEYGUARD_DISABLE_TRUST_AGENTS 和 KEYGUARD_DISABLE_FINGERPRINT，它们影响配置文件上级用户的键盘锁设置。- KEYGUARD_DISABLE_UNREDACTED_NOTIFICATIONS，它只影响应用在托管配置文件中生成的通知。</code></pre></li><li>DevicePolicyManager.createAndInitializeUser() 方法和 DevicePolicyManager.createUser() 方法已弃用。</li><li>当给定用户的应用在前台运行时，setScreenCaptureDisabled() 方法现在也会屏蔽辅助结构。</li><li>EXTRA_PROVISIONING_DEVICE_ADMIN_PACKAGE_CHECKSUM 现在默认为 SHA-256。出于向后兼容性考虑，仍然支持 SHA-1，但未来将会取消该支持。  EXTRA_PROVISIONING_DEVICE_ADMIN_SIGNATURE_CHECKSUM 现在只接受 SHA-256。<ul><li>Android 6.0（API 级别 23）中曾经存在的 Device initializer API 现已删除</li><li>EXTRA_PROVISIONING_RESET_PROTECTION_PARAMETERS 已删除，因此 NFC 占位配置无法通过编程解锁受恢复出厂设置保护的设备</li><li>您现在可以使用 EXTRA_PROVISIONING_ADMIN_EXTRAS_BUNDLE extra 在对托管设备进行 NFC 配置期间向设备所有者应用传递数据。</li><li>Android for Work API 针对 M 运行时权限（包括 Work 配置文件、辅助层及其他内容）进行了优化。新增的 DevicePolicyManager 权限 API 不会影响 M 之前版本的应用。</li><li>当用户退出通过 ACTION_PROVISION_MANAGED_PROFILE 或 ACTION_PROVISION_MANAGED_DEVICE intent 发起的设置流程的同步部分时，系统现在会返回 RESULT_CANCELED 结果代码。</li></ul></li></ul></li><li>对其他 API 的变更：<ul><li>流量消耗：android.app.usage.NetworkUsageStats 类已重命名为 NetworkStats。</li></ul></li><li>对全局设置的变更：<ul><li>这些设置不再通过 setGlobalSettings() 进行设置：<ul><li>BLUETOOTH_ON</li><li>DEVELOPMENT_SETTINGS_ENABLED</li><li>MODE_RINGER</li><li>NETWORK_PREFERENCE</li><li>WIFI_ON</li></ul></li><li>这些全局设置现在可通过 setGlobalSettings() 进行设置：<br>  -WIFI_DEVICE_OWNER_CONFIGS_LOCKDOWN</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Android 6.0（API 级别 23）除了提供诸多新特性和功能外，还对系统和 API 行为做出了各种变更。本文重点介绍您应该了解并在开发应用时加以考虑的一些主要变更。&lt;/p&gt;
&lt;p&gt;如果您之前发布过 Android 应用，请注意您的应用可能受到这些平台变更的影响。&lt;/
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Marshmallow" scheme="http://yoursite.com/tags/Marshmallow/"/>
    
      <category term="Android 6.0" scheme="http://yoursite.com/tags/Android-6-0/"/>
    
  </entry>
  
  <entry>
    <title>Android 6.0 API 概述</title>
    <link href="http://yoursite.com/2016/04/30/android-6-0/"/>
    <id>http://yoursite.com/2016/04/30/android-6-0/</id>
    <published>2016-04-30T08:29:28.000Z</published>
    <updated>2018-04-10T01:33:39.221Z</updated>
    
    <content type="html"><![CDATA[<p>Android 6.0 (M) 为用户和应用开发者提供了新功能。本文旨在介绍其中最值得关注的 API。</p><h2 id="着手开发"><a href="#着手开发" class="headerlink" title="着手开发"></a>着手开发</h2><p>要着手开发 Android 6.0 应用，您必须先获得 Android SDK，然后使用 SDK 管理器下载 Android 6.0 SDK Platform 和系统映像。</p><h2 id="更新目标-API-级别"><a href="#更新目标-API-级别" class="headerlink" title="更新目标 API 级别"></a>更新目标 API 级别</h2><p>要进一步优化您的应用在运行 Android 的设备上的性能，请将您的 targetSdkVersion 设置为”23”，在 Android 系统映像上安装您的应用并进行测试，然后发布更新了此变更的应用。</p><p>您可以通过在代码中加入条件，在执行您的 minSdkVersion 不支持的 API 之前检查系统 API 级别，实现在使用 Android API 的同时仍为旧版本提供支持。要详细了解如何保持向后兼容性，请阅读支持不同平台版本。</p><p>如需了解有关 API 级别工作方式的详细信息，请阅读什么是 API 级别？</p><h1 id="指纹身份验证"><a href="#指纹身份验证" class="headerlink" title="指纹身份验证"></a>指纹身份验证</h1><hr><p>此版本提供了一些新的 API，在受支持的设备上，用户只需扫描其指纹即可完成身份验证，这些 API 还可与 <a href="https://developer.android.com/training/articles/keystore.html" target="_blank" rel="noopener">Android 密钥库系统</a>结合使用。</p><p>要通过指纹扫描验证用户身份，请获取新 <code>FingerprintManager</code> 类的实例，并调用 <code>authenticate()</code>方法。您的应用必须运行在带有指纹传感器的兼容设备上。您必须在应用中实现指纹身份验证流的用户界面，并在 UI 中使用标准 Android 指纹图标。<a href="https://developer.android.com/samples/FingerprintDialog/index.html" target="_blank" rel="noopener">FingerprintDialog 示例</a>中包含有 Android 指纹图标 (c_fp_40px.png)。请注意，如果您要开发多个使用指纹身份验证的应用，每个应用必须独立验证用户的指纹。</p><p>要在您的应用中使用此功能，请先在清单中添加 <code>USE_FINGERPRINT</code> 权限。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"android.permission.USE_FINGERPRINT"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><p>要查看指纹身份验证的应用实现，请参阅<a href="https://developer.android.com/samples/FingerprintDialog/index.html" target="_blank" rel="noopener">FingerprintDialog 示例</a>。要查看有关将这些身份验证 API 与其他 Android API 结合使用方法的演示，请观看视频 <a href="https://www.youtube.com/watch?v=VOn7VrTRlA4" target="_blank" rel="noopener">Fingerprint API 和 Payment API</a>。<br><img src="/2016/04/30/android-6-0/fingerprint-screen.png" style="width:200px; float:right"><br>如果您要测试此功能，请执行以下步骤：</p><ol><li>如果您尚未安装 Android SDK 工具 24.3 修订版，请执行此操作。</li><li>转到 <strong>Settings &gt; Security &gt; Fingerprint</strong>，然后按照登记说明在模拟器中登记新指纹。</li><li>使用模拟器通过以下命令模拟指纹触摸事件。使用同一命令模拟锁屏上或应用中的指纹触摸事件。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb -e emu finger touch &lt;finger_id&gt;</span><br></pre></td></tr></table></figure></li></ol><p>在 Windows 上，您可能需要运行带有 finger touch &lt;finger_id&gt; 参数的 telnet 127.0.0.1 <emulator-id> 命令。</emulator-id></p><h1 id="确认凭据"><a href="#确认凭据" class="headerlink" title="确认凭据"></a>确认凭据</h1><hr><p>您的应用可以根据用户在多久之前最后一次解锁设备来验证其身份。此功能让用户不必费心记忆应用特定密码，您也无需实现自己的身份验证用户界面。您的应用应当利用此功能并结合实现公钥或私钥，以进行用户身份验证。</p><p>要设置成功验证用户身份后可再次使用同一密钥的超时持续时间，请在设置<a href="https://developer.android.com/reference/javax/crypto/KeyGenerator.html" target="_blank" rel="noopener">KeyGenerator</a> 或<a href="https://developer.android.com/reference/java/security/KeyPairGenerator.html" target="_blank" rel="noopener">KeyPairGenerator</a> 时调用新增的 <code>setUserAuthenticationValidityDurationSeconds()</code> 方法。</p><p>避免过多显示重新验证对话框 – 您的应用应尝试先使用加密对象，如果超时到期，请使用 createConfirmDeviceCredentialIntent() 方法在您的应用内重新验证用户身份。</p><p>要查看此功能的应用实现，请参阅 <a href="https://developer.android.com/samples/ConfirmCredential/index.html" target="_blank" rel="noopener">ConfirmCredential 示例</a>。</p><h1 id="应用链接"><a href="#应用链接" class="headerlink" title="应用链接"></a>应用链接</h1><hr><p>此版本通过提供功能更强大的应用链接，增强了 Android 的 intent 系统。您可以利用此功能将应用与您拥有的某个 Web 域关联。平台可以根据此关联确定在处理特定 Web 链接时默认使用的应用，跳过提示用户选择应用的步骤。要了解如何实现此功能，请参阅<a href="https://developer.android.com/training/app-links/index.html" target="_blank" rel="noopener">处理应用链接</a>。</p><h1 id="自动备份应用"><a href="#自动备份应用" class="headerlink" title="自动备份应用"></a>自动备份应用</h1><hr><p>现在，系统可以自动为应用执行完整数据备份和恢复。您的应用的目标平台必须是 Android 6.0（API 级别 23），才能启用此行为；您无需额外添加任何代码。如果用户删除其 Google 帐户，其备份数据也会随之删除。要了解该功能的工作方式以及配置文件系统备份内容的方法，请参阅<a href="https://developer.android.com/training/backup/autosyncapi.html" target="_blank" rel="noopener">配置应用自动备份</a>。</p><h1 id="直接共享"><a href="#直接共享" class="headerlink" title="直接共享"></a>直接共享</h1><hr><p><img src="/2016/04/30/android-6-0/direct-share-screen.png" style="width:200px; float:right; margin_left:20px"><br>此版本为您提供的一些 API 可让用户直观、快捷地进行共享。现在，您可以定义可在您的应用内启动特定 Activity 的直接共享目标。这些直接共享目标通过“共享”菜单公开给用户。此功能让用户可以向其他应用内的目标（如联系人）共享内容。例如，直接共享目标可以启动另一社交网络应用中的某个 Activity，让用户可以直接向该应用中的某位朋友或某个社区共享内容。</p><p>要启用直接共享目标，您必须定义一个类，用于扩展 <code>ChooserTargetService</code> 类。在清单中声明您的服务。在该声明内，指定 <code>BIND_CHOOSER_TARGET_SERVICE</code> 权限和一个使用 <code>SERVICE_INTERFACE</code> 操作的 intent 过滤器。</p><p>以下示例展示了如何在清单中声明 <code>ChooserTargetService</code>。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">service</span> <span class="attr">android:name</span>=<span class="string">".ChooserTargetService"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"@string/service_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:permission</span>=<span class="string">"android.permission.BIND_CHOOSER_TARGET_SERVICE"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.service.chooser.ChooserTargetService"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>对于您想要向 <code>ChooserTargetService</code> 公开的每个 Activity，请在您的应用清单中为其添加一个名为 <strong>“android.service.chooser.chooser_target_service”</strong> 的 <code>&lt;meta-data&gt;</code> 元素。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".MyShareActivity”</span></span></span><br><span class="line"><span class="tag"><span class="string">        android:label="</span>@<span class="attr">string</span>/<span class="attr">share_activity_label</span>"&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.SEND"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta-data</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"android.service.chooser.chooser_target_service"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:value</span>=<span class="string">".ChooserTargetService"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="语音交互"><a href="#语音交互" class="headerlink" title="语音交互"></a>语音交互</h1><hr><p>此版本提供了一个新的语音交互 API，与语音操作一起使用时，可让您为应用打造对话式语音体验。调用 <code>isVoiceInteraction()</code> 方法可确定是否是响应语音操作触发了您的 Activity。如果是这样，则您的应用可以使用 <code>VoiceInteractor</code> 类请求用户进行语音确认、从选项列表中进行选择以及执行其他操作。</p><p>大多数语音交互都由用户语音操作发起。但语音交互 Activity 也可在没有用户输入的情况下启动。例如，通过语音交互启动的另一应用也可发送 intent 来启动语音交互。要确定您的 Activity 是由用户语音查询还是另一语音交互应用启动，请调用 <code>isVoiceInteractionRoot()</code> 方法。如果另一应用启动了您的 Activity，该方法会返回 false。您的应用可能随即提示用户确认其有意执行此操作。</p><p>要详细了解如何实现语音操作，请参阅<a href="https://developers.google.com/voice-actions/interaction/" target="_blank" rel="noopener">语音操作开发者网站</a>。</p><h1 id="Assist-API"><a href="#Assist-API" class="headerlink" title="Assist API"></a>Assist API</h1><hr><p>此版本提供了一种让用户通过助手程序与应用进行互动的新方式。要使用此功能，用户必须启用助手以使用当前上下文。启用助手后，用户可通过长按首页按钮在任何应用内召唤助手。</p><p>您的应用可通过设置 <code>FLAG_SECURE</code> 标记选择不与助手共享当前上下文。除了平台传递给助手的一组标准信息外，您的应用还可利用新增的 <code>AssistContent</code> 类共享其他信息。</p><p>要为助手提供您的应用内的其他上下文，请执行以下步骤：</p><ol><li>实现 <code>Application.OnProvideAssistDataListener</code> 接口。</li><li>利用 <code>registerOnProvideAssistDataListener()</code> 注册此侦听器。</li><li>要提供特定于 Activity 的上下文信息，请重写 <code>onProvideAssistData()</code> 回调和新的 <code>onProvideAssistContent()</code> 回调（可选操作）。<h1 id="可采用的存储设备"><a href="#可采用的存储设备" class="headerlink" title="可采用的存储设备"></a>可采用的存储设备</h1></li></ol><hr><p>使用此版本时，用户可以采用 SD 卡等外部存储设备。采用外部存储设备可加密和格式化设备，使其具有类似内部存储设备的行为。用户可以利用此特性在存储设备之间移动应用及其私有数据。移动应用时，系统会遵守清单中的 <code>android:installLocation</code> 首选项。</p><p>请注意，在内部存储设备与外部存储设备之间移动应用时，如果您的应用访问以下 API 或字段，它们返回的文件路径将会动态变化。强烈建议：在生成文件路径时，请始终动态调用这些 API。请勿使用硬编码文件路径或之前生成的永久性完全限定文件路径。</p><ul><li><code>Context</code> 方法：<ul><li><code>getFilesDir()</code></li><li><code>getCacheDir()</code></li><li><code>getCodeCacheDir()</code></li><li><code>getDatabasePath()</code></li><li><code>getDir()</code></li><li><code>getNoBackupFilesDir()</code></li><li><code>getFileStreamPath()</code></li><li><code>getPackageCodePath()</code></li><li><code>getPackageResourcePath()</code></li></ul></li><li><code>ApplicationInfo</code> 字段：<ul><li><code>dataDir</code></li><li><code>sourceDir</code></li><li><code>nativeLibraryDir</code></li><li><code>publicSourceDir</code></li><li><code>splitSourceDirs</code></li><li><code>splitPublicSourceDirs</code></li></ul></li></ul><p>要调试此功能，您可以将一个 USB 驱动器通过一根 USB On-The-Go (OTG) 电缆连接到 Android 设备并运行以下命令启用该 USB 驱动器：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell sm <span class="built_in">set</span>-force-adoptable <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><h1 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h1><hr><p>此版本针对通知功能引入了下列 API 变更：</p><ul><li>新增了 <code>INTERRUPTION_FILTER_ALARMS</code> 过滤级别，它对应于新增的“仅闹铃”免打扰模式。</li><li>新增了 <code>CATEGORY_REMINDER</code> 类别值，用于区分用户安排的提醒与其他事件 (<code>CATEGORY_EVENT</code>) 和闹铃 (<code>CATEGORY_ALARM</code>)。</li><li>新增了 <code>Icon</code> 类，您可以通过 <code>setSmallIcon()</code>方法和 <code>setLargeIcon()</code>方法将其附加到通知上。同理，<code>addAction()</code> 方法现在接受 <code>Icon</code> 对象，而不接受可绘制资源 ID。</li><li>新增了 <code>getActiveNotifications()</code> 方法，让您的应用能够了解哪些通知目前处于活动状态。要查看使用此功能的应用实现，请参阅 <code>ActiveNotifications</code> 示例。</li></ul><h1 id="蓝牙触控笔支持"><a href="#蓝牙触控笔支持" class="headerlink" title="蓝牙触控笔支持"></a>蓝牙触控笔支持</h1><hr><p>此版本改善了对用户使用蓝牙触控笔进行输入的支持。用户可将兼容的蓝牙触控笔与其手机或平板电脑配对并建立连接。连接后，来自触摸屏的位置信息将与来自触控笔的压力和按键信息融合，从而实现比单纯使用触摸屏更丰富的表达。您的应用可以通过在 Activity 中注册 <code>View.OnContextClickListener</code> 对象和 <code>GestureDetector.OnContextClickListener</code> 对象，侦听触控笔按键动作并执行辅助操作。</p><p>可使用 <code>MotionEvent</code> 方法和常量来检测触控笔按键交互：</p><ul><li>如果用户使用带按键的触控笔触按应用屏幕，<code>getTooltype()</code> 方法会返回 <code>TOOL_TYPE_STYLUS</code>。</li><li>对于以 Android 6.0（API 级别 23）为目标平台的应用，当用户按触控笔的主按键时，<code>getButtonState()</code> 方法会返回 <code>BUTTON_STYLUS_PRIMARY</code>。如果触控笔有辅助按键，当用户按下它时，该方法会返回 <code>BUTTON_STYLUS_SECONDARY</code>。如果用户同时按下两个按键，该方法会同时返回通过 OR 运算符连接起来的两个值 (<code>BUTTON_STYLUS_PRIMARY|BUTTON_STYLUS_SECONDARY</code>)。</li><li>对于以较低平台版本为目标的应用，<code>getButtonState()</code> 方法返回 <code>BUTTON_SECONDARY</code>（按下触控笔主按键时）、<code>BUTTON_TERTIARY</code>（按下触控笔辅助按键时）之一或同时返回这两者。</li></ul><h1 id="改进的蓝牙低功耗扫描"><a href="#改进的蓝牙低功耗扫描" class="headerlink" title="改进的蓝牙低功耗扫描"></a>改进的蓝牙低功耗扫描</h1><hr><p>如果您的应用执行蓝牙低功耗扫描，可以使用新增的 <code>setCallbackType()</code> 方法指定您只希望在下列条件下通知回调：首次找到与设置的 <code>ScanFilter</code> 匹配的播发数据包，或者已过很长时间后才再次看到该数据包。这种扫描方法与旧平台版本中提供的方法相比更加节能。</p><h1 id="Hotspot-2-0-第-1-版支持"><a href="#Hotspot-2-0-第-1-版支持" class="headerlink" title="Hotspot 2.0 第 1 版支持"></a>Hotspot 2.0 第 1 版支持</h1><hr><p>此版本在 Nexus 6 和 Nexus 9 设备上添加了对 Hotspot 2.0 第 1 版规范的支持。要在您的应用中配置 Hotspot 2.0 凭据，请使用 <code>WifiEnterpriseConfig</code> 类的新方法，如 <code>setPlmn()</code> 方法和 <code>setRealm()</code> 方法。在 <code>WifiConfiguration</code> 对象中，您可以设置 <code>FQDN</code> 字段和 <code>providerFriendlyName</code> 字段。新增的 <code>isPasspointNetwork()</code> 方法可指示检测到的网络是否为 Hotspot 2.0 接入点。</p><h1 id="4K-显示模式"><a href="#4K-显示模式" class="headerlink" title="4K 显示模式"></a>4K 显示模式</h1><hr><p>现在，平台允许应用在兼容硬件上请求将显示分辨率升级到 4K 渲染。要查询当前物理分辨率，请使用新增的 <code>Display.Mode</code> API。请注意，如果 UI 是以较低逻辑分辨率绘制并通过放大达到更高的物理分辨率，则 <code>getPhysicalWidth()</code> 方法返回的物理分辨率可能不同于 <code>getSize()</code> 所报告的逻辑分辨率。</p><p>您可以通过设置应用窗口的 <code>preferredDisplayModeId</code> 属性请求系统更改应用运行时的物理分辨率。如果您想切换到 4K 显示分辨率，此功能会很有帮助。在 4K 显示模式下，UI 仍然以原始分辨率（如 1080p）渲染，通过放大达到 4K，但 <code>SurfaceView</code> 对象可能会以原生分辨率显示内容。</p><h1 id="主题化-ColorStateList"><a href="#主题化-ColorStateList" class="headerlink" title="主题化 ColorStateList"></a>主题化 ColorStateList</h1><hr><p>对于运行 Android 6.0（API 级别 23）的设备，现在支持在 <code>ColorStateList</code> 中使用主题属性。<code>Resources.getColorStateList()</code> 方法和 <code>Resources.getColor()</code> 方法已弃用。如果您要调用这些 API，请改为调用新增的 <code>Context.getColorStateList()</code> 方法或 <code>Context.getColor()</code> 方法。还可在 v4 appcompat 库中通过 <code>ContextCompat</code> 使用这些方法。</p><h1 id="音频功能"><a href="#音频功能" class="headerlink" title="音频功能"></a>音频功能</h1><hr><p>此版本增强了 Android 上的音频处理功能，包括：</p><ul><li>通过新增的 <code>android.media.midi</code> API 提供了对 <code>MIDI</code> 协议的支持。使用这些 API 可发送和接收 <code>MIDI</code> 事件。</li><li>新增了 <code>AudioRecord.Builder</code> 类和 <code>AudioTrack.Builder</code> 类，分别用于创建数字音频采集和回放对象，还可用于配置音频源和接收器属性来替换系统默认值。</li><li>用于关联音频和输入设备的 API 钩子。如果您的应用允许用户通过与 Android TV 相连的游戏控制器或遥控器启动语音搜索，此功能尤为有用。系统会在用户启动搜索时调用新增的 <code>onSearchRequested()</code> 回调。要确定用户的输入设备是否内置麦克风，请从该回调检索 InputDevice 对象，然后调用新的 <code>hasMicrophone()</code> 方法。</li><li>新增了 <code>getDevices()</code> 方法，让您可以检索系统当前连接的所有音频设备的列表。如果您想让系统在音频设备连接或断开时通知应用，还可以注册一个 <code>AudioDeviceCallback</code> 对象。</li></ul><h1 id="视频功能"><a href="#视频功能" class="headerlink" title="视频功能"></a>视频功能</h1><hr><p>此版本为视频处理 API 添加了新功能，包括：</p><ul><li>新增了 <code>MediaSync</code> 类，可帮助应用同步渲染音频流和视频流。音频缓冲区以非锁定方式提交，并通过回调返回。此外，它还支持动态回放速率。</li><li>新增了 <code>EVENT_SESSION_RECLAIMED</code> 事件，它表示应用打开的会话已被资源管理器收回。如果您的应用使用 DRM 会话，则应处理此事件，并确保不使用收回的会话。</li><li>新增了 <code>ERROR_RECLAIMED</code> 错误代码，它表示资源管理器收回了编解码器使用的媒体资源。出现此异常时，必须释放编解码器，因为它已转入终止状态。</li><li>新增了 <code>getMaxSupportedInstances()</code> 接口，用于获取有关支持的编解码器实例最大并发数量的提示。</li><li>新增了 <code>setPlaybackParams()</code> 方法，用于设置快动作回放或慢动作回放的媒体回放速率。此外，它还会随视频一起自动拉长或加速音频回放。</li></ul><h2 id="相机功能"><a href="#相机功能" class="headerlink" title="#相机功能"></a>#相机功能</h2><p>此版本提供了下列用于访问相机闪光灯和相机图像再处理的新 API：</p><h2 id="Flashlight-API"><a href="#Flashlight-API" class="headerlink" title="Flashlight API"></a>Flashlight API</h2><p>如果相机设备带有闪光灯，您可以通过调用 <code>setTorchMode()</code> 方法，在不打开相机设备的情况下打开或关闭闪光灯的火炬模式。应用对闪光灯或相机设备不享有独占所有权。每当相机设备不可用，或者开启火炬的其他相机资源不可用时，火炬模式即会被关闭并变为不可用状态。其他应用也可调用 <code>setTorchMode()</code> 来关闭火炬模式。当最后一个开启火炬模式的应用关闭时，火炬模式就会被关闭。</p><p>您可以注册一个回调，通过调用 <code>registerTorchCallback()</code> 方法接收有关火炬模式状态的通知。第一次注册回调时，系统会立即调用它，并返回所有当前已知配备闪光灯的相机设备的火炬模式状态。如果成功开启或关闭火炬模式，系统会调用 <code>onTorchModeChanged()</code> 方法。</p><h2 id="Reprocessing-API"><a href="#Reprocessing-API" class="headerlink" title="Reprocessing API"></a>Reprocessing API</h2><p><code>Camera2</code> API 进行了扩展，以支持 YUV 和专用不透明格式图像再处理。要确定这些再处理功能是否可用，请调用 <code>getCameraCharacteristics()</code> 并检查有无 <code>REPROCESS_MAX_CAPTURE_STALL</code> 密钥。如果设备支持再处理，您可以通过调用 <code>createReprocessableCaptureSession()</code> 创建一个可再处理的相机采集会话并创建输入缓冲区再处理请求。</p><p>使用 <code>ImageWriter</code> 类可将输入缓冲区流与相机再处理输入相连。要获得空白缓冲区，请遵循以下编程模型：</p><ol><li>调用 <code>dequeueInputImage()</code> 方法。</li><li>在输入缓冲区中填充数据。</li><li>通过调用 <code>queueInputImage()</code>方法将缓冲区发送至相机。</li></ol><p>如果您将 <code>ImageWriter</code> 对象与 <code>PRIVATE</code> 图像一起使用，您的应用并不能直接访问图像数据。请改为调用 <code>queueInputImage()</code> 方法，将 <code>PRIVATE</code> 图像直接传递给 <code>ImageWriter</code>，而不进行任何缓冲区复制。</p><p><code>ImageReader</code> 类现在支持 PRIVATE 格式图像流。凭借此支持特性，您的应用可使 <code>ImageReader</code> 输出图像保持为循环图像队列，还可选择一个或多个图像并将其发送给 <code>ImageWriter</code> 进行相机再处理。</p><h1 id="Android-for-Work-功能"><a href="#Android-for-Work-功能" class="headerlink" title="Android for Work 功能"></a>Android for Work 功能</h1><hr><p>此版本提供了下列用于 Android for Work 的新 API：</p><ul><li><strong>用于企业所有、单一用途设备的增强型控件：</strong>现在，设备所有者可以通过控制以下设置来改善 企业所有、单一用途 (COSU) 设备的管理：<ul><li>通过 <code>setKeyguardDisabled()</code> 方法停用或重新启用键盘锁。</li><li>通过 <code>setStatusBarDisabled()</code> 方法停用或重新启用状态栏（包括快速设置、通知以及启动 Google 即时的向上划动导航手势）。</li><li>通过 <code>UserManager</code> 常量 <code>DISALLOW_SAFE_BOOT</code> 停用或重新启用安全启动。</li><li>通过 <code>STAY_ON_WHILE_PLUGGED_IN</code> 常量防止屏幕在插入电源的情况下关闭。</li></ul></li><li><strong>设备所有者静默式安装和卸载应用：</strong>现在，设备所有者可使用 <code>PackageInstaller</code> API 在不依赖 Google Play for Work 的情况下静默式安装和卸载应用。现在，您可以通过设备所有者配置设备，从而无需用户干预即可获取并安装应用。此功能可用于在不激活 Google 帐户的情况下实现信息亭或其他此类设备的一键式配置。</li><li><strong>静默式企业证书访问：</strong> 现在，当应用调用 <code>choosePrivateKeyAlias()</code> 时，配置文件所有者或设备所有者可以在系统提示用户选择证书前调用 <code>onChoosePrivateKeyAlias()</code> 方法，静默式向发出请求的应用提供别名。此功能让您可以在无需用户交互的情况下授予托管应用访问证书的权限。</li><li><strong>自动接受系统更新：</strong>现在，设备所有者可以通过 <code>setSystemUpdatePolicy()</code> 设置一个系统更新政策来自动接受系统更新（例如对于信息亭设备），或者推迟更新并在至多 30 天的时间内防止用户获取更新。此外，管理员还可设置每日必须获取更新的时间窗口，例如在信息亭设备无人使用的时段。有可用的系统更新时，系统会检查设备规范控制器应用是否设置了系统更新政策，并相应地执行操作。</li><li><strong>授权证书安装：</strong>配置文件所有者或设备所有者现在可以授权第三方应用调用以下 <code>DevicePolicyManager</code> 证书管理 API：<ul><li><code>getInstalledCaCerts()</code></li><li><code>hasCaCertInstalled()</code></li><li><code>installCaCert()</code></li><li><code>uninstallCaCert()</code></li><li><code>uninstallAllUserCaCerts()</code></li><li><code>installKeyPair()</code><br><img src="/2016/04/30/android-6-0/work-profile-screen.png" style="width:200px; float:right; margin_left:20px"></li></ul></li><li><strong>流量消耗情况跟踪：</strong>现在，配置文件所有者或设备所有者可以利用新增的 <code>NetworkStatsManager</code> 方法查询 <strong>Settings &gt; Data Usage</strong> 中显示的流量使用情况统计信息。配置文件所有者会被自动授予查询其管理的配置文件相关数据的权限，而设备所有者则被授予对其管理的主要用户使用情况数据的访问权。</li><li><p><strong>运行时权限管理：</strong>配置文件所有者或设备所有者可以利用 <code>setPermissionPolicy()</code> 设置适用于所有应用全部运行时请求的权限政策，以提示用户授予权限，或自动以静默方式授予或拒绝权限。如果设置后一种政策，则用户将无法修改配置文件所有者或设备所有者在应用权限屏幕的 Settings 内所做的选择。</p></li><li><p><strong>Settings 中的 VPN：</strong>现在，<strong>Settings &gt; More &gt; VPN</strong> 中会显示 VPN 应用。此外，现在，关于 VPN 使用情况的通知取决于该 VPN 的配置方式。对于配置文件所有者，通知取决于该 VPN 是针对托管配置文件、个人配置文件还是同时针对这两者进行配置。对于设备所有者，通知取决于 VPN 是否针对整个设备进行配置。</p></li><li><strong>工作状态通知：</strong>现在，每当来自托管配置文件的应用具有前台 Activity 时，状态栏就会出现一个公文包图标。此外，如果设备直接解锁到托管配置文件中某个应用的 Activity，则会显示一个 Toast，通知用户他们位于托管配置文件内。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Android 6.0 (M) 为用户和应用开发者提供了新功能。本文旨在介绍其中最值得关注的 API。&lt;/p&gt;
&lt;h2 id=&quot;着手开发&quot;&gt;&lt;a href=&quot;#着手开发&quot; class=&quot;headerlink&quot; title=&quot;着手开发&quot;&gt;&lt;/a&gt;着手开发&lt;/h2&gt;&lt;p&gt;要着手
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Marshmallow" scheme="http://yoursite.com/tags/Marshmallow/"/>
    
      <category term="Android 6.0" scheme="http://yoursite.com/tags/Android-6-0/"/>
    
  </entry>
  
  <entry>
    <title>Android 5.0 变更</title>
    <link href="http://yoursite.com/2015/08/27/android-5-0-changes/"/>
    <id>http://yoursite.com/2015/08/27/android-5-0-changes/</id>
    <published>2015-08-27T11:55:06.000Z</published>
    <updated>2018-04-10T01:34:32.542Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android-Runtime-ART"><a href="#Android-Runtime-ART" class="headerlink" title="Android Runtime (ART)"></a>Android Runtime (ART)</h1><hr><p>在 Android 5.0 中，ART 运行时取代 Dalvik 成为平台默认设置。Android 4.4 中已引入处于实验阶段的 ART 运行时。</p><p>有关 ART 的新功能概述，请参阅 <a href="https://source.android.com/devices/tech/dalvik/art.html" target="_blank" rel="noopener">ART 简介</a>部分主要的新功能包括：</p><ul><li>预先 (AOT) 编译</li><li>改进的垃圾回收 (GC)</li><li>改进的调试支持</li></ul><p>大多数 Android 应用无需任何更改就可以在 ART 下工作。不过，部分适合 Dalvik 的技术并不适用于 ART。如需了解有关最重要问题的信息，请参阅<a href="https://developer.android.com/guide/practices/verifying-apps-art.html" target="_blank" rel="noopener">在 Android Runtime (ART) 上验证应用行为</a>。如存在以下情况，应特别注意：</p><ul><li>您的应用使用 Java 原生接口 (JNI) 运行 C/C++ 代码。</li><li>您使用生成非标准代码的开发工具（例如，一些代码混淆工具）。</li><li>您使用与压缩垃圾回收不兼容的技术。</li></ul><h1 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h1><hr><p>请确保您的通知考虑了上述 Android 5.0 变更。要详细了解如何为 Android 5.0 及更高版本设计通知，请参阅<a href="https://material.google.com/patterns/notifications.html" target="_blank" rel="noopener">通知设计指南</a>。</p><h2 id="Material-Design-样式"><a href="#Material-Design-样式" class="headerlink" title="Material Design 样式"></a>Material Design 样式</h2><p>在白色（或非常浅）的背景上使用深色文本绘制通知，以便与新的 Material Design 小部件匹配。请确保您的所有通知都与新的配色方案协调一致。如果您的通知看上去不协调，请进行修正：</p><ul><li>使用 <code>setColor()</code> 在您的图标图像后面的圆形中设置重点色彩。</li><li>更新或移除使用色彩的资源。系统在操作图标和主要通知图标中忽略所有非阿尔法通道。您应假设这些图标仅支持阿尔法通道。系统用白色绘制通知图标，用深灰色绘制操作图标。</li></ul><h1 id="声音和振动"><a href="#声音和振动" class="headerlink" title="声音和振动"></a>声音和振动</h1><p>如果您当前使用 <code>Ringtone</code>、<code>MediaPlayer</code> 或 <code>Vibrator</code> 类向通知中添加声音和振动，则移除此代码，以便系统可以在“优先”模式中正确显示通知。取而代之的是，使用 <code>Notification.Builder</code> 方法添加声音和振动。</p><p>将设备设为 <code>RINGER_MODE_SILENT</code> 可使设备进入新的优先模式。如果您将设备设为 <code>RINGER_MODE_NORMAL</code> 或 <code>RINGER_MODE_VIBRATE</code>，则设备将退出优先模式。</p><p>以前，Android 使用 <code>STREAM_MUSIC</code> 作为主流式传输来控制平板电脑设备上的音量。在 Android 5.0 中，手机和平板电脑设备的主音量流式传输现已合并，由 <code>STREAM_RING</code> 或 <code>STREAM_NOTIFICATION</code> 进行控制。</p><h2 id="锁定屏幕可见性"><a href="#锁定屏幕可见性" class="headerlink" title="锁定屏幕可见性"></a>锁定屏幕可见性</h2><p>默认情况下，在 Android 5.0 中，通知现在显示在用户的锁定屏幕上。用户可以选择保护敏感信息不被公开，在此情况下，系统会自动删减通知显示的文本。要自定义此删减的通知，请使用 <code>setPublicVersion()</code>。</p><p>如果通知不包含个人信息，或者您想允许媒体播放控件显示在通知上，则调用 <code>setVisibility()</code> 方法并将通知的可见性级别设为 <code>VISIBILITY_PUBLIC</code>。</p><h1 id="媒体播放"><a href="#媒体播放" class="headerlink" title="媒体播放"></a>媒体播放</h1><p>如果您要实现显示媒体播放状态或传输控件的通知，请考虑使用新的 <code>Notification.MediaStyle</code> 模板，而不是自定义 <code>RemoteViews.RemoteView</code> 对象。无论您选择使用哪个方法，请务必将通知的可见性设为 <code>VISIBILITY_PUBLIC</code>，以便可通过锁定屏幕访问您的控件。请注意，从 Android 5.0 开始，系统不再将 <code>RemoteControlClient</code> 对象显示在锁定屏幕上。如需了解详细信息，请参阅如果您的应用使用 <code>RemoteControlClient</code>。</p><h2 id="浮动通知"><a href="#浮动通知" class="headerlink" title="浮动通知"></a>浮动通知</h2><p>现在，当设备处于活动状态时（即，设备未锁定且其屏幕已打开），通知可以显示在小型浮动窗口中（也称为“浮动通知”）。这些通知看上去类似于精简版的通知，只是浮动通知还显示操作按钮。用户可以在不离开当前应用的情况下处理或清除浮动通知。</p><p>可能触发浮动通知的条件示例包括：</p><ul><li>用户的 Activity 处于全屏模式中（应用使用 fullScreenIntent）</li><li>通知具有较高的优先级并使用铃声或振动</li></ul><p>如果您的应用在以上任何情形下实现通知，请确保系统正确显示浮动通知。</p><h1 id="媒体控件和-RemoteControlClient"><a href="#媒体控件和-RemoteControlClient" class="headerlink" title="媒体控件和 RemoteControlClient"></a>媒体控件和 RemoteControlClient</h1><hr><p><code>RemoteControlClient</code> 类现已弃用。请尽快切换到新的 <code>MediaSession</code> API。</p><p>Android 5.0 中的锁定屏幕不会为 <code>MediaSession</code> 或 <code>RemoteControlClient</code> 显示传输控件。不过，您的应用可以通过一个通知从锁定屏幕提供媒体播放控件。这让您的应用可以对媒体按钮的显示进行更多控制，同时为使用锁定设备和未锁定设备的用户提供一致的体验。</p><p>为实现此目的，Android 5.0 引入了一个新的 <code>Notification.MediaStyle</code> 模板。<code>Notification.MediaStyle</code> 将您使用 <code>Notification.Builder.addAction()</code> 添加的通知操作转换为精简按钮，嵌入到应用的媒体播放通知中。将您的会话令牌传递到 <code>setSession()</code> 方法以告知系统该通知控制进行中的媒体会话。</p><p>请务必将通知的可见性设为 <code>VISIBILITY_PUBLIC</code>，以将通知标记为安全，从而显示在任何锁定屏幕上（以安全方式或其他方式）。如需了解详细信息，请参阅锁定屏幕通知。</p><p>要让应用在 Android TV 或 Wear 平台上运行时显示媒体播放控件，则实现 MediaSession 类。如果您的应用需要在 Android 设备上接收媒体按钮事件，您还应实现 MediaSession。</p><h1 id="getRecentTasks"><a href="#getRecentTasks" class="headerlink" title="getRecentTasks()"></a>getRecentTasks()</h1><hr><p>Android 5.0 中引入新的“并发文档和 Activity 任务”功能后（请参阅下文<a href="https://developer.android.com/about/versions/android-5.0-changes.html#Recents" target="_blank" rel="noopener">最近使用的应用屏幕中的并发文档和 Activity</a>），为提升用户隐私的安全性，现已弃用 <code>ActivityManager.getRecentTasks()</code> 方法。对于向后兼容性，此方法仍会返回它的一小部分数据，包括调用应用自己的任务和可能的一些其他非敏感任务（如首页）。如果您的应用使用此方法检索它自己的任务，则改用 <code>getAppTasks()</code> 检索该信息。</p><h1 id="Android-NDK-中的-64-位支持"><a href="#Android-NDK-中的-64-位支持" class="headerlink" title="Android NDK 中的 64 位支持"></a>Android NDK 中的 64 位支持</h1><hr><p>Android 5.0 引入了对 64 位系统的支持。64 位增强功能可增加地址空间和提升性能，同时仍完全支持现有的 32 位应用。64 位支持也可改进用于加密的 OpenSSL 的性能。此外，该版本还引入了新的原生媒体 NDK API，以及原生 OpenGL ES (GLES) 3.1 支持。</p><p>要使用 Android 5.0 中提供的 64 位支持，请从 Android NDK 页面下载和安装 NDK Revision 10c。有关对 NDK 进行的重要变更和问题修复的更多信息，请参阅 Revision 10c 版本说明。</p><h1 id="绑定到服务"><a href="#绑定到服务" class="headerlink" title="绑定到服务"></a>绑定到服务</h1><hr><p><code>Context.bindService()</code> 方法现在需要显式 <code>Intent</code>，如果提供隐式 intent，将引发异常。为确保应用的安全性，请使用显式 intent 启动或绑定 <code>Service</code>，且不要为服务声明 intent 过滤器。</p><h1 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h1><hr><p>Android 5.0 更改了应用的默认行为。</p><ul><li>如果您的应用是面向 API 级别 21 或更高级别：<ul><li>默认情况下，系统会阻止混合内容和第三方 Cookie。要允许混合内容和第三方 Cookie，请分别使用 <code>setMixedContentMode()</code> 和 <code>setAcceptThirdPartyCookies()</code> 方法。</li><li>系统现在可以智能地选择要绘制的 HTML 文档部分。这个新的默认行为有助于减少内存占用和提升性能。如果您要一次渲染整个文档，可通过调用 <code>enableSlowWholeDocumentDraw()</code> 停用此优化。</li></ul></li><li>如果您的应用是面向低于 21 的 API 级别：系统允许混合内容和第三方 Cookie，并始终一次渲染整个文档。</li></ul><h1 id="自定义权限唯一性要求"><a href="#自定义权限唯一性要求" class="headerlink" title="自定义权限唯一性要求"></a>自定义权限唯一性要求</h1><hr><p>根据权限概述中所述，Android 应用可以定义以专有方式管理组件访问权限的自定义权限，无需使用平台预定义的系统权限。应用在其清单文件中声明的 <code>&lt;permission&gt;</code> 元素中定义自定义权限。</p><p>少数情况下定义自定义权限是合规且安全的方法。不过，创建自定义权限有时并无必要，甚至可能会给应用带来潜在风险，具体取决于分配给权限的保护级别。</p><p>Android 5.0 其中一项行为变更确保只有一个应用可以定义给定自定义权限，除非使用与定义权限的其他应用相同的密钥进行签名。</p><h2 id="使用重复的自定义权限的应用"><a href="#使用重复的自定义权限的应用" class="headerlink" title="使用重复的自定义权限的应用"></a>使用重复的自定义权限的应用</h2><p>任何应用都可以定义它需要的任何自定义权限，因此，可能会出现多个应用定义相同的自定义权限的情况。例如，如果两个应用提供相似的功能，它们可能会为其自定义权限派生出相同的逻辑名称。应用可能还纳入了本身包含相同自定义权限定义的通用公共库或代码示例。</p><p>在 Android 4.4 和更早的版本中，用户可以在给定设备上安装多个此类应用，不过系统会分配由第一个安装的应用指定的保护级别。</p><p>从 Android 5.0 开始，对于使用不同密钥签名的应用，系统会强制执行新的自定义权限唯一性限制。现在，设备上只有一个应用可以定义给定的自定义权限（按其名称确定），除非定义此权限的其他应用使用相同密钥签名。如果用户尝试安装的应用具有重复自定义权限且签名密钥不同于定义此权限的驻留应用，则系统将阻止安装。</p><h2 id="您的应用需要注意的事项"><a href="#您的应用需要注意的事项" class="headerlink" title="您的应用需要注意的事项"></a>您的应用需要注意的事项</h2><p>在 Android 5.0 和更新的版本中，应用可以和以前一样继续定义自己的自定义权限，并通过 <code>&lt;uses-permission&gt;</code> 机制请求其他应用的自定义权限。不过，对于 Android 5.0 中引入的新要求，您应仔细评估可能给您的应用带来的影响。</p><p>下面是一些需要考虑的因素：</p><ul><li>您的应用是否在其清单文件中声明任何 <code>&lt;permission&gt;</code> 元素？如果是，那么这些权限是否确实是您的应用或服务正常运行不可或缺的？或者，能否使用系统默认权限代替它们？</li><li>如果您的应用中具有 <code>&lt;permission&gt;</code> 元素，您是否知道它们来自哪里？</li><li>您实际上是否打算让其他应用通过 <code>&lt;uses-permission&gt;</code> 请求您的自定义权限？</li><li>您是否在您包含 <code>&lt;permission&gt;</code> 元素的应用中使用样板文件或示例代码？那些权限元素确实是不可或缺的吗？</li><li>您的自定义权限使用的名称是简单名称还是基于其他应用可能共享的通用术语？</li></ul><h2 id="新安装和更新"><a href="#新安装和更新" class="headerlink" title="新安装和更新"></a>新安装和更新</h2><p>如上所述，在运行 Android 4.4 或更早版本的设备上新安装和更新您的应用不会受影响，且行为没有任何变化。在运行 Android 5.0 或更新版本的设备上进行新安装和更新时，如果应用定义一个已由现有驻留应用定义的自定义权限，则系统会阻止安装您的应用。</p><h2 id="使用-Android-5-0-系统更新的现有安装"><a href="#使用-Android-5-0-系统更新的现有安装" class="headerlink" title="使用 Android 5.0 系统更新的现有安装"></a>使用 Android 5.0 系统更新的现有安装</h2><p>如果您的应用使用自定义更新且已广泛分发和安装，那么，当用户收到将设备升级到 Android 5.0 的更新时，您的应用可能会受影响。在安装系统更新后，系统重新验证已安装的应用，包括检查它们的自定义权限。如果您的应用定义一个已由另一个通过验证的应用定义的自定义权限，且您的应用没有使用与该应用相同的密钥签名，则系统不会重新安装您的应用。</p><h2 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h2><p>在运行 Android 5.0 或更新版本的设备上，我们建议您立即检查您的应用，进行任何所需的调整，并尽快向您的用户发布更新版本。</p><ul><li>如果您在应用中使用自定义权限，则考虑它们的来源以及您是否确实需要它们。从您的应用中移除所有 <code>&lt;permission&gt;</code> 元素，除非您确定它们是应用正常运行所必需的元素。</li><li>尽可能考虑使用系统默认权限替代您的自定义权限。</li><li>如果您的应用需要自定义权限，则重命名您的自定义权限，使其成为您的应用独有的权限，例如，将它们追加到应用的完整软件包名称。</li><li>如果您有一组使用不同密钥签名的应用，且这些应用通过自定义权限访问共享组件，则确保此自定义权限在共享组件中仅定义一次。使用共享组件的应用不应自己定义自定义权限，而应通过 <code>&lt;uses-permission&gt;</code> 机制请求访问权限。</li><li>如果您有一组使用相同密钥签名的应用，则每个应用都可以根据需要定义相同的 自定义权限， 系统允许以常规方式安装这些应用。</li></ul><h1 id="TLS-SSL-默认配置变更"><a href="#TLS-SSL-默认配置变更" class="headerlink" title="TLS/SSL 默认配置变更"></a>TLS/SSL 默认配置变更</h1><p>Android 5.0 针对 HTTPS 和其他 TLS/SSL 通信引入了对应用使用的默认 TLS/SSL 配置的变更：</p><ul><li>TLSv1.2 和 TLSv1.1 协议现已启用，</li><li>AES-GCM (AEAD) 加密套件现已启用，</li><li>MD5、3DES、导出和静态密钥 ECDH 加密套件现已停用，</li><li>首选使用 Forward Secrecy 加密套件（ECDHE 和 DHE）。</li></ul><p>在下面列出的少数情况下，这些变更可能会导致 HTTPS 或 TLS/SSL 连接断开。</p><p>请注意，来自 Google Play 服务的安全性 ProviderInstaller 自 Android 2.3 开始就已在 Android 平台版本上提供这些变更。</p><h2 id="服务器不支持任何已启用的加密套件"><a href="#服务器不支持任何已启用的加密套件" class="headerlink" title="服务器不支持任何已启用的加密套件"></a>服务器不支持任何已启用的加密套件</h2><p>例如，服务器可能仅支持 3DES 或 MD5 加密套件。首选的修复方法是改进服务器的配置，以启用更强更现代的加密套件和协议。理想情况下，应启用 TLSv1.2 和 AES-GCM 以及 Forward Secrecy 加密套件（ECDHE、DHE），且最好使用后者。</p><p>也可以修改应用以使用自定义 SSLSocketFactory 与服务器通信。出厂时应精心设计以创建 SSLSocket 实例，除默认加密套件外，此实例还应启用服务器所需的部分加密套件。</p><h2 id="应用对用于连接服务器的加密套件做出错误的假设"><a href="#应用对用于连接服务器的加密套件做出错误的假设" class="headerlink" title="应用对用于连接服务器的加密套件做出错误的假设"></a>应用对用于连接服务器的加密套件做出错误的假设</h2><p>例如，某些应用包含中断的自定义 X509TrustManager，因为它预计 authType 参数将成为 RSA，但出现了 ECDHE_RSA 或 DHE_RSA。</p><h2 id="服务器不支持-TLSv1-1、TLSv1-2-或新的-TLS-扩展"><a href="#服务器不支持-TLSv1-1、TLSv1-2-或新的-TLS-扩展" class="headerlink" title="服务器不支持 TLSv1.1、TLSv1.2 或新的 TLS 扩展"></a>服务器不支持 TLSv1.1、TLSv1.2 或新的 TLS 扩展</h2><p>例如，与服务器握手的 TLS/SSL 被错误地拒绝或出现停顿。首选的修复方法是升级服务器以符合 TLS/SSL 协议。这使服务器可以成功地协商这些更新的协议或协商 TLSv1 或更早的协议，并忽略它不理解的传输层安全协议扩展程序。在某些情况下，在服务器上禁用 TLSv1.1 和 TLSv1.2 可以作为权宜之计，直到升级服务器软件。</p><p>也可以修改应用以使用自定义 SSLSocketFactory 与服务器通信。出厂时应精心设计以创建 SSLSocket 实例，该实例仅包含已启用且服务器可以正确为其提供支持的协议。</p><h1 id="支持托管配置文件"><a href="#支持托管配置文件" class="headerlink" title="支持托管配置文件"></a>支持托管配置文件</h1><hr><p>设备管理员可以向设备添加托管配置文件。此配置文件由管理员所有，让管理员控制托管配置文件的同时，允许由用户控制其自己的个人配置文件及其存储空间。此变更会通过下列方式影响您的现有应用的行为。</p><h2 id="处理-Intent"><a href="#处理-Intent" class="headerlink" title="处理 Intent"></a>处理 Intent</h2><p>设备管理员可以从托管配置文件限制对系统应用的访问权限。在此情况下，如果应用从托管文件触发一个通常由该应用处理的 intent，且托管文件上没有适合此 intent 的处理程序，则此 intent 会引发异常。例如，设备管理员可以限制托管配置文件上的应用访问系统的相机应用。如果您的应用在托管配置文件上运行，并为 <code>MediaStore.ACTION_IMAGE_CAPTURE</code> 调用 <code>startActivityForResult()</code>，且托管配置文件上没有可以处理此 intent 的应用，则会导致 <code>ActivityNotFoundException</code>。</p><p>为防止出现此情况，您可以在触发任何 intent 之前检查是否至少有一个适合此 intent 的处理程序。要检查是否存在有效的处理程序，请调用 <code>Intent.resolveActivity()</code>。您可以在<a href="https://developer.android.com/training/camera/photobasics.html#TaskCaptureIntent" target="_blank" rel="noopener">轻松拍照：使用相机应用拍摄照片</a>中查看执行上述操作的示例。</p><h2 id="在各个配置文件中共享文件"><a href="#在各个配置文件中共享文件" class="headerlink" title="在各个配置文件中共享文件"></a>在各个配置文件中共享文件</h2><p>每个配置文件都有自己的文件存储空间。文件 URI 指的是文件存储空间中的特定位置，这意味着在一个配置文件上有效的文件 URI 在另一个文件上是无效的。对于只访问自己创建的文件的应用而言，这通常不是什么问题。不过，如果应用向某个 intent 附加文件，则附加文件 URI 并不安全，因为在某些情况下，可能会在其他配置文件上处理该 intent。例如，设备管理员可能会指定图像采集事件应由个人配置文件上的相机应用处理。如果此 intent 由托管配置文件上的应用触发，则相机需要能够将图像写入托管配置文件的应用可以读取的位置。</p><p>为安全起见，如果您需要将文件附加到某个可能会从一个配置文件移动到另一个配置文件的 intent，您应为该文件创建并使用内容 URI。有关共享文件及内容 URI 的更多信息，请参阅<a href="https://developer.android.com/training/secure-file-sharing/index.html" target="_blank" rel="noopener">共享文件</a>。例如，设备管理员可能会制定将由个人配置文件中的相机处理的 ACTION_IMAGE_CAPTURE 白名单。触发的 intent 的 EXTRA_OUTPUT 应包含指定照片应存储在何处的内容 URI。相机应用可以将图像写入该 URI 指定的位置，触发 intent 的应用将能够读取该文件，即使应用位于其他配置文件上。</p><h2 id="已移除锁定屏幕小部件支持"><a href="#已移除锁定屏幕小部件支持" class="headerlink" title="已移除锁定屏幕小部件支持"></a>已移除锁定屏幕小部件支持</h2><p>Android 5.0 移除了对锁定屏幕小部件的支持；它继续为主屏幕上的小组件提供支持。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Android-Runtime-ART&quot;&gt;&lt;a href=&quot;#Android-Runtime-ART&quot; class=&quot;headerlink&quot; title=&quot;Android Runtime (ART)&quot;&gt;&lt;/a&gt;Android Runtime (ART)&lt;/h1&gt;&lt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Lollipop" scheme="http://yoursite.com/tags/Lollipop/"/>
    
      <category term="Android 5.0" scheme="http://yoursite.com/tags/Android-5-0/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
  </entry>
  
  <entry>
    <title>Android 5.0 API 概述</title>
    <link href="http://yoursite.com/2015/08/23/android-5-0/"/>
    <id>http://yoursite.com/2015/08/23/android-5-0/</id>
    <published>2015-08-23T14:12:13.000Z</published>
    <updated>2018-04-10T01:34:14.485Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用户界面"><a href="#用户界面" class="headerlink" title="用户界面"></a>用户界面</h1><hr><h2 id="Material-Design-支持"><a href="#Material-Design-支持" class="headerlink" title="Material Design 支持"></a>Material Design 支持</h2><p>Android 5.0 添加了对 Android 的新 Material Design 样式的支持。您可以创建具有 Material Design 功能的应用，实现动态视觉效果，利用其中的 UI 元素转换赋予用户自然的感觉。此支持包括：</p><ul><li>Material Design 主题</li><li>视图阴影</li><li>RecyclerView 小部件</li><li>可绘制动画和造型效果</li><li>Material Design 动画和 Activity 转换效果</li><li>针对基于视图状态的视图属性的动画生成器</li><li>可自定义的 UI 小部件和具有可由您控制的调色板的应用栏</li><li>基于 XML 矢量图形的动画和非动画可绘制对象</li><li>要详细了解如何为您的应用添加 Material Design 功能，请参阅 <a href="https://developer.android.com/training/material/index.html" target="_blank" rel="noopener">Material Design</a></li></ul><h2 id="最近使用的应用屏幕中的并发文档和-Activity"><a href="#最近使用的应用屏幕中的并发文档和-Activity" class="headerlink" title="最近使用的应用屏幕中的并发文档和 Activity"></a>最近使用的应用屏幕中的并发文档和 Activity</h2><p>在之前的版本中，<a href="https://developer.android.com/guide/components/recents.html" target="_blank" rel="noopener">最近使用的应用屏幕</a>只能为最近与用户交互过的每个应用显示一项任务。现在，您的应用可以根据需要为其他并发文档 Activity 打开更多任务。此功能简化了多任务处理，通过在所有应用中提供一致的切换体验，让用户能够在最近使用的应用屏幕中的各个 Activity 和文档之间快速切换。此类并行任务示例可能包括：网络浏览器应用中打开的标签页、效率类应用中的文档、游戏中的并行对局或信息应用中的聊天。您的应用可以通过 <code>ActivityManager.AppTask</code> 类管理它的任务。</p><p>为插入逻辑换行符以便系统将您的 Activity 视为新任务，请在使用 <code>startActivity()</code> 启动 Activity 时使用 <code>FLAG_ACTIVITY_NEW_DOCUMENT</code>。您还可以通过在清单中将 <code>&lt;activity&gt;</code> 元素的 <code>documentLaunchMode</code> 属性设置为 “intoExisting” 或 “always” 来获得此行为。</p><p>为避免使最近使用的应用屏幕变得混乱，您可以在应用中设置该屏幕中可显示的任务数上限。要实现此目的，请设置 <code>&lt;application&gt;</code> 属性 <code>android:maxRecents</code>。目前可指定的上限为每位用户 50 个任务（RAM 较低设备为 25 个）。</p><p>可将最近使用的应用屏幕中的任务设置为在重启后保留。要控制持久化行为，请使用 <code>android:persistableMode</code> 属性。您还可以通过调用 <code>setTaskDescription()</code> 方法，更改 Activity 在最近使用的应用屏幕中的视觉属性，如 Activity 的颜色、标签和图标。</p><h2 id="WebView-更新"><a href="#WebView-更新" class="headerlink" title="WebView 更新"></a>WebView 更新</h2><p>Android 5.0 将 <code>WebView</code> 实现更新至 Chromium M37，增强了安全性和稳定性，并修复了一些问题。运行在 Android 5.0 上的 <code>WebView</code> 的默认用户代理字符串已更新，以纳入 37.0.0.0 作为版本号。</p><p>此版本引入了 <code>PermissionRequest</code> 类，让您的应用可以通过 <code>getUserMedia()</code> 等网络 API 授予 WebView 访问相机和麦克风之类受保护资源的权限。您的应用必须对这些资源拥有相应的 Android 权限，才能向 WebView 授予权限。</p><p>借助新的 <code>onShowFileChooser()</code> 方法，您现在可以在 WebView 中使用输入表单字段，然后启动文件选择器从 Android 设备中选择图像和文件。</p><p>此外，此版本还提供了对 <code>WebAudio</code>、<code>WebGL</code> 和 <code>WebRTC</code> 开放标准的支持。要详细了解此版本包含的新功能，请参阅 <a href="https://developer.chrome.com/multidevice/webview/overview" target="_blank" rel="noopener">WebView for Android</a>。</p><h2 id="屏幕采集和共享"><a href="#屏幕采集和共享" class="headerlink" title="屏幕采集和共享"></a>屏幕采集和共享</h2><p>Android 5.0 引入了新的 <code>android.media.projection API</code>，让您可以为应用添加屏幕采集和屏幕共享功能。例如，如果您想在视频会议应用中启用屏幕共享，便可使用此功能。</p><p>新增的 <code>createVirtualDisplay()</code> 方法允许您的应用将主屏幕（默认显示）的内容采集到一个 <code>Surface</code> 对象中，然后您的应用便可将其发送至整个网络。该 API 只允许采集非安全屏幕内容，不允许采集系统音频。要开始采集屏幕，您的应用必须先使用通过 <code>createScreenCaptureIntent()</code> 方法获得的 <code>Intent</code> 启动屏幕采集对话框，请求用户授予权限。</p><p>如需查看新 API 使用方法的示例，请参阅示例项目中的 <code>MediaProjectionDemo</code> 类。</p><h1 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h1><hr><h2 id="锁定屏幕通知"><a href="#锁定屏幕通知" class="headerlink" title="锁定屏幕通知"></a>锁定屏幕通知</h2><p>Android 5.0 中的锁定屏幕可以显示通知。用户可以通过“Settings” 选择是否允许在安全的锁定屏幕上显示敏感的通知内容。</p><p>您的应用可以控制在安全锁定屏幕上显示的通知中可见信息的详细程度。要控制可见性级别，请调用 <code>setVisibility()</code>，然后指定以下值之一：</p><ul><li><code>VISIBILITY_PRIVATE</code>：显示通知图标等基本信息，但隐藏通知的完整内容。</li><li><code>VISIBILITY_PUBLIC</code>：显示通知的完整内容。</li><li><code>VISIBILITY_SECRET</code>：不显示任何内容，甚至不显示通知图标。<br>当可视性级别为 VISIBILITY_PRIVATE 时，您还可以提供隐藏个人详情的删减版通知内容。例如，短信应用可能会显示一条通知，指出“您有3 条新短信”，但是隐藏了短信内容和发件人。要提供此替换版本的通知，请先使用 <code>Notification.Builder</code> 创建替换通知。创建专用通知对象时，请通过 <code>setPublicVersion()</code> 方法为其附加替换通知。</li></ul><h2 id="通知元数据"><a href="#通知元数据" class="headerlink" title="通知元数据"></a>通知元数据</h2><p>Android 5.0 使用与您的应用通知关联的元数据，以更智能的方式对通知排序。要设置元数据，请在构建通知时调用 <code>Notification.Builder</code> 中的下列方法：</p><ul><li><code>setCategory()</code>：当设备处于“优先”模式时，指示系统如何处理应用通知（例如，通知代表来电、即时通讯还是闹铃）。</li><li><code>setPriority()</code>：标记通知的重要性是高于还是低于普通通知。如果优先级字段设置为 <code>PRIORITY_MAX</code> 或<code>PRIORITY_HIGH</code> 的通知还有声音或振动，则会将其显示在小型浮动窗口中。</li><li><code>addPerson()</code>：让您可以添加一名或多名与通知有关的人员。您的应用可以使用此名单指示系统将指定人员发出的通知归成一组，或者将这些人员发出的通知视为更重要的通知。<h1 id="图形"><a href="#图形" class="headerlink" title="图形"></a>图形</h1></li></ul><hr><h2 id="对-OpenGL-ES-3-1-的支持"><a href="#对-OpenGL-ES-3-1-的支持" class="headerlink" title="对 OpenGL ES 3.1 的支持"></a>对 OpenGL ES 3.1 的支持</h2><p>Android 5.0 添加了 Java 接口和对 OpenGLES 3.1 的原生支持。OpenGL ES 3.1 中提供的主要新功能包括：</p><ul><li>计算着色器</li><li>单独的着色器对象</li><li>间接绘制命令</li><li>多重采样和模具纹理</li><li>着色语言改进</li><li>高级混合模式和调试专用扩展</li><li>向后兼容 OpenGL ES 2.0 和 3.0</li></ul><p>Android 上 OpenGL ES 3.1 的 Java 接口随 GLES31 提供。使用 OpenGL ES 3.1 时，请务必在清单文件中使用 <code>&lt;uses-feature&gt;</code> 标记和 <code>android:glEsVersion</code> 属性对其进行声明。例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-feature</span> <span class="attr">android:glEsVersion</span>=<span class="string">"0x00030001"</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>如需了解有关如何使用 OpenGL ES（包括如何在运行时检查设备支持的 OpenGL ES 版本）的详细信息，请参阅 <a href="https://developer.android.com/guide/topics/graphics/opengl.html" target="_blank" rel="noopener">OpenGL ES API 指南</a>。</p><h2 id="Android-扩展包"><a href="#Android-扩展包" class="headerlink" title="Android 扩展包"></a>Android 扩展包</h2><p>除了 OpenGL ES 3.1 外，此版本还提供了一个扩展包，其中包括 Java 接口和对高级图形功能的原生支持。Android 将这些扩展视作单个软件包。（如果存在 <code>ANDROID_extension_pack_es31a</code> 扩展，您的应用可以假定扩展包中的所有扩展都存在，只需使用一条 <code>#extension</code> 语句便可启用着色语言功能。）</p><p>该扩展包支持：</p><ul><li>有保证的着色器存储缓冲区、图像和原子 Fragment 着色器支持（在 OpenGL ES 3.1 中，Fragment 着色器支持为可选支持）。</li><li>镶嵌和几何着色器</li><li>ASTC (LDR) 纹理压缩格式</li><li>每采样内插和着色</li><li>帧缓冲区中每个颜色附件采用不同混合模式</li></ul><p>该扩展包的 Java 接口随 GLES31Ext 提供。在您的应用清单中，您可以将应用声明为必须安装在支持该扩展包的设备上。例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-feature</span> <span class="attr">android:name</span>=<span class="string">“android.hardware.opengles.aep”</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:required</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h1><hr><h2 id="用于高级相机功能的-Camera-API"><a href="#用于高级相机功能的-Camera-API" class="headerlink" title="用于高级相机功能的 Camera API"></a>用于高级相机功能的 Camera API</h2><p>Android 5.0 引入了新的 <code>android.hardware.camera2</code> API 来简化精细照片采集和图像处理。您现在可以使用 <code>getCameraIdList()</code> 通过编程方式访问可供系统使用的相机设备，以及使用 <code>openCamera()</code> 通过编程方式连接特定设备。要开始采集图像，请创建一个 <code>CameraCaptureSession</code> 并指定用于发送已采集图像的 <code>Surface</code> 对象。可将 <code>CameraCaptureSession</code> 配置为进行单张拍摄或多张连拍。</p><p>要在采集新图像时得到通知，请实现 <code>CameraCaptureSession.CaptureCallback</code> 侦听器，并在您的采集请求中进行设置。现在，当系统完成图像采集请求时，您的 <code>CameraCaptureSession.CaptureCallback</code> 侦听器会收到对 <code>onCaptureCompleted()</code> 的调用，并在 <code>CaptureResult</code> 中为您提供图像采集元数据。</p><p><code>CameraCharacteristics</code> 类可让您的应用检测到设备上可用的相机功能。该对象的 <code>INFO_SUPPORTED_HARDWARE_LEVEL</code> 属性代表相机的功能级别。</p><ul><li>所有设备都至少支持 <code>INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY</code> 硬件级别，该级别具有的能力大致与弃用的 <code>Camera API</code> 相当。</li><li>支持 <code>INFO_SUPPORTED_HARDWARE_LEVEL_FULL</code> 硬件级别的设备可手动控制采集和后期处理，以及以高帧速率采集高分辨率图像。</li></ul><p>要了解如何使用更新后的 Camera API，请参阅此版本中的 Camera2Basic 和 Camera2Video 实现示例。</p><h2 id="音频回放"><a href="#音频回放" class="headerlink" title="音频回放"></a>音频回放</h2><p>此版本加入了对 <code>AudioTrack</code> 的下列更改：</p><ul><li>您的应用现在可以提供浮点格式 (<code>ENCODING_PCM_FLOAT</code>) 的音频数据。这可以实现更大的动态范围、更一致的精度和更多的动态余量。浮点算法在进行中间计算时特别有用。回放端点为音频数据使用位深度更低的整型格式。（在Android 5.0中，部分内部管道尚未采用浮点格式。）</li><li>您的应用现在可以提供音频数据作为 <code>ByteBuffer</code>，数据使用的格式与 <code>MediaCodec</code> 提供的格式相同。</li><li><code>WRITE_NON_BLOCKING</code> 选项可简化某些应用的缓冲和多线程处理。</li></ul><h2 id="媒体回放控制"><a href="#媒体回放控制" class="headerlink" title="媒体回放控制"></a>媒体回放控制</h2><p>使用新增的通知和媒体 API 可确保系统 UI 了解您的媒体回放情况，并可提取和显示专辑封面。现在，可以利用新增的 <code>MediaSession</code> 类和 <code>MediaController</code> 类更轻松地在整个 UI 和服务范围内控制媒体回放。</p><p>新增的 <code>MediaSession</code> 类替代了弃用的 RemoteControlClient 类，仅提供一套回调方法来处理传输控制和媒体按钮。如果您的应用提供媒体回放，并运行在 Android TV 或 Wear 平台上，请使用 <code>MediaSession</code> 类，通过同样的回调方法来处理您的传输控制。</p><p>现在，您可以使用新增的 <code>MediaController</code> 类开发自己的媒体控制器应用。该类可通过您的应用的 UI 进程，以线程安全方式监控和控制媒体回放。请在创建控制器时指定一个 <code>MediaSession.Token</code> 对象，以便您的应用可与给定 <code>MediaSession</code> 交互。您可以利用 <code>MediaController.TransportControls</code> 方法，通过发送 <code>play()</code>、<code>stop()</code>、<code>skipToNext()</code> 和 <code>setRating()</code> 等命令来控制该会话上的媒体回放。对于控制器，您还可以注册一个 <code>MediaController.Callback</code> 对象来侦听该会话上的元数据和状态变化。</p><p>此外，您还可以利用新增的 <code>Notification.MediaStyle</code> 类创建允许将回放控制与媒体会话绑定的丰富通知。</p><h2 id="媒体浏览"><a href="#媒体浏览" class="headerlink" title="媒体浏览"></a>媒体浏览</h2><p>Android 5.0 引入了通过新增的 <code>android.media.browse</code> API 让应用能够浏览其他应用媒体内容库的功能。要公开您应用内的媒体内容，请扩展 <code>MediaBrowserService</code> 类。您实现的 <code>MediaBrowserService</code> 应提供对 <code>MediaSession.Token</code> 的访问权限，以便应用能播放通过您的服务提供的媒体内容。</p><p>要与媒体浏览器服务交互，请使用 <code>MediaBrowser</code> 类。在您创建 <code>MediaBrowser</code> 实例时为 <code>MediaSession</code> 指定组件名称。然后，您的应用便可利用该浏览器实例连接到关联的服务并获得 <code>MediaSession.Token</code> 对象，以播放通过该服务公开的内容。</p><h1 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h1><hr><h2 id="目录选择"><a href="#目录选择" class="headerlink" title="目录选择"></a>目录选择</h2><p>Android 5.0 扩展了<a href="https://developer.android.com/guide/topics/providers/document-provider.html" target="_blank" rel="noopener">存储访问框架</a>，允许用户选择整个目录子树，从而授予应用对所含全部文档的读/写权限，无需用户逐项确认。</p><p>要选择目录子树，请生成并发送一个 <code>OPEN_DOCUMENT_TREE</code> intent。系统会显示所有支持子树选择的 <code>DocumentsProvider</code> 实例，并允许用户浏览和选择目录。返回的 URI 代表对所选子树的访问权限。然后，您就可以使用 <code>buildChildDocumentsUriUsingTree()</code> 和 <code>buildDocumentUriUsingTree()</code> 以及 <code>query()</code> 来探索子树。</p><p>新增的 <code>createDocument()</code> 方法允许您在该子树下的任何位置新建文档或目录。要管理现有文档，请使用 <code>renameDocument()</code> 和 <code>deleteDocument()</code>。检查 <code>COLUMN_FLAGS</code> 以验证提供程序是否支持这些调用，然后再发出调用。</p><p>如果您要实现 <code>DocumentsProvider</code> 并想支持子树选择，请实现 <code>isChildDocument()</code> 并在您的 <code>COLUMN_FLAGS</code> 中加入 <code>FLAG_SUPPORTS_IS_CHILD</code>。</p><p>Android 5.0 还在共享的存储空间上引入了新的软件包专属目录，您的应用可在其中放置供加入到 <code>MediaStore</code> 中的媒体文件。新增的 <code>getExternalMediaDirs()</code> 返回所有共享存储设备上这些目录的路径。您的应用无需额外权限便可访问返回的路径，这与 <code>getExternalFilesDir()</code> 类似。平台会定期扫描这些目录中的新媒体，但您也可利用 <code>MediaScannerConnection</code> 显式扫描新内容。</p><h1 id="无线和连接"><a href="#无线和连接" class="headerlink" title="无线和连接"></a>无线和连接</h1><hr><h2 id="多个网络连接"><a href="#多个网络连接" class="headerlink" title="多个网络连接"></a>多个网络连接</h2><p>Android 5.0 提供了新的多网络 API，允许您的应用动态扫描具有特定能力的可用网络，并与它们建立连接。当您的应用需要 SUPL、彩信或运营商计费网络等专业化网络时，或者您想使用特定类型的传输协议发送数据时，就可以使用此功能。</p><p>要从您的应用以动态方式选择并连接网络，请执行以下步骤：</p><ol><li>创建一个 <code>ConnectivityManager</code>。</li><li>使用 <code>NetworkRequest.Builder</code> 类创建一个 <code>NetworkRequest</code> 对象，并指定您的应用感兴趣的网络功能和传输类型。</li><li>要扫描合适的网络，请调用 <code>requestNetwork()</code> 或 <code>registerNetworkCallback()</code>，并传入 <code>NetworkRequest</code> 对象和 <code>ConnectivityManager.NetworkCallback</code> 的实现。如果您想在检测到合适的网络时主动切换到该网络，请使用 <code>requestNetwork()</code> 方法；如果只是接收已扫描网络的通知而不需要主动切换，请改用 <code>registerNetworkCallback()</code> 方法。</li></ol><p>当系统检测到合适的网络时，它会连接到该网络并调用 <code>onAvailable()</code> 回调。您可以使用回调中的 <code>Network</code> 对象来获取有关网络的更多信息，或者引导通信使用所选网络。</p><h2 id="蓝牙低功耗"><a href="#蓝牙低功耗" class="headerlink" title="蓝牙低功耗"></a>蓝牙低功耗</h2><p>Android 4.3 为发挥核心作用的蓝牙低功耗（蓝牙 LE）引入了平台支持。在 Android 5.0 中，Android 设备现在可以发挥蓝牙 LE 外围设备的作用。应用可以利用此功能让附近设备发现它。例如，您可以开发这样的应用：让设备发挥计步器或健康监测仪的作用，并与其他蓝牙 LE 设备进行数据通信。</p><p>新增的 <code>android.bluetooth.le</code> API 让您的应用可以发布广告、扫描响应以及与附近的蓝牙 LE 设备建立连接。要使用新增的广告和扫描功能，请在您的清单中添加 <code>BLUETOOTH_ADMIN</code> 权限。当用户更新您的应用或从 Play 商店下载您的应用时，会被要求向您的应用授予以下权限：“Bluetooth connection information:Allows the app to control Bluetooth, including broadcasting to or getting information about nearby Bluetooth devices.”</p><p>要启动蓝牙 LE 广播，以便其他设备能发现您的应用，请调用 <code>startAdvertising()</code>，并传入 <code>AdvertiseCallback</code> 类的实现。回调对象会收到广播操作成功或失败的报告。</p><p>Android 5.0 引入了 <code>ScanFilter</code> 类，让您的应用可以只扫描其感兴趣的特定类型设备。要开始扫描蓝牙 LE 设备，请调用 <code>startScan()</code>，并传入筛选器列表。在方法调用中，您还必须提供 <code>ScanCallback</code> 的实现，以便在发现蓝牙 LE 广播时进行报告。</p><h2 id="NFC-增强功能"><a href="#NFC-增强功能" class="headerlink" title="NFC 增强功能"></a>NFC 增强功能</h2><p>Android 5.0 添加这些增强功能是为了扩大 NFC 的使用范围和提高 NFC 的使用灵活性：</p><ul><li>Android Beam 现已出现在 share 菜单中。</li><li>您的应用可通过调用 <code>invokeBeam()</code> 来调用用户设备上的 Android Beam 进行数据分享。这样一来，用户不必手动用设备接触另一台具有 NFC 功能的设备，便可完成数据传送。</li><li>您可以使用新增的 <code>createTextRecord()</code> 方法来创建一条包含 UTF-8 文本数据的 NDEF 记录。</li><li>如果您要开发支付应用，现在可以通过调用 <code>registerAidsForService()</code> 动态注册 NFC 应用 ID (AID)。您还可以使用 <code>setPreferredService()</code> 来设置应在特定 Activity 位于前台时使用的首选卡模拟服务。</li></ul><h1 id="Volta-项目"><a href="#Volta-项目" class="headerlink" title="Volta 项目"></a>Volta 项目</h1><p>除了提供新功能外，Android 5.0 还重视电池寿命的改善。可以利用新增的 API 和工具来了解和优化您的应用的功耗。</p><h2 id="计划排定作业"><a href="#计划排定作业" class="headerlink" title="计划排定作业"></a>计划排定作业</h2><p>Android 5.0 新增了一个 <code>JobScheduler</code> API，允许您定义一些系统在稍后或指定条件下（如设备充电时）以异步方式运行的作业，从而优化电池寿命。下列情形下，作业计划排定功能很有用：</p><ul><li>应用具有不面向用户并且可以推迟的作业<br>-应用具有您更愿意在设备插入电源时再进行的作业</li><li>应用具有一项需要接入网络或连接 WLAN 的任务。</li><li>应用具有多项您希望定期以批处理方式运行的任务。</li></ul><p>一个作业单位由一个 <code>JobInfo</code> 对象封装。该对象指定计划排定标准。</p><p>使用 <code>JobInfo.Builder</code> 类可配置应如何运行已排计划的任务。您可以安排任务在特定条件下运行，例如：</p><ul><li>在设备充电时启动</li><li>在设备连入无限流量网络时启动</li><li>在设备空闲时启动</li><li>在特定期限前或以最低延迟完成</li></ul><p>例如，您可以添加一段如下代码，在无限流量网络上运行您的任务：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">JobInfo uploadTask = <span class="keyword">new</span> JobInfo.Builder(mJobId,</span><br><span class="line">                                         mServiceComponent <span class="comment">/* JobService component */</span>)</span><br><span class="line">        .setRequiredNetworkCapabilities(JobInfo.NetworkType.UNMETERED)</span><br><span class="line">        .build();</span><br><span class="line">JobScheduler jobScheduler =</span><br><span class="line">        (JobScheduler) context.getSystemService(Context.JOB_SCHEDULER_SERVICE);</span><br><span class="line">jobScheduler.schedule(uploadTask);</span><br></pre></td></tr></table></figure></p><p>如果设备有稳定的电源（也就是说，设备已插入电源超过 2 分钟，并且电池处于<a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_BATTERY_OKAY" target="_blank" rel="noopener">健康水平</a>），系统将运行任何已做好运行准备的计划作业，无论作业期限是否已过。</p><p>要查看如何使用 <code>JobScheduler</code> API 的示例，请参阅此版本中的 <code>JobSchedulerSample</code> 实现示例。</p><h2 id="电池使用开发者工具"><a href="#电池使用开发者工具" class="headerlink" title="电池使用开发者工具"></a>电池使用开发者工具</h2><p>新增的 <strong>dumpsys batterystats</strong> 命令可生成值得关注的设备电池使用情况统计数据，这些数据按唯一身份用户 ID (UID) 加以组织。统计数据包括：</p><ul><li>电池相关事件的历史记录</li><li>设备的全局统计数据</li><li>每个 UID 和系统组件的近似耗电情况</li><li>每个应用的每数据包移动 ms</li><li>系统 UID 汇总统计数据</li><li>应用 UID 汇总统计数据</li></ul><p>可使用 –help 选项来了解各种输出定制选项的相关信息。例如，要打印设备上次充电后某个给定应用软件包的电池使用情况统计信息，请运行以下命令：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys batterystats --charged &lt;package-name&gt;</span><br></pre></td></tr></table></figure></p><p>您可以使用<a href="https://github.com/google/battery-historian" target="_blank" rel="noopener">电池耗电历史</a>工具对 dumpsys 命令输出的数据进行处理，根据日志生成用电相关事件的 HTML 可视化形式。这些信息可方便您了解和诊断任何电池相关问题。</p><h1 id="工作场所和教育领域中的-Android"><a href="#工作场所和教育领域中的-Android" class="headerlink" title="工作场所和教育领域中的 Android"></a>工作场所和教育领域中的 Android</h1><hr><h2 id="托管配置"><a href="#托管配置" class="headerlink" title="托管配置"></a>托管配置</h2><p>Android 5.0 提供了用于在企业环境内运行应用的新功能。如果用户已有个人帐户，则设备管理员可启动托管配置进程，向设备添加共存但独立的托管配置文件。与托管配置文件关联的应用与非托管应用一并出现在用户的启动器、最近使用的应用屏幕和通知中。</p><p>要启动托管配置进程，请通过 <code>Intent</code> 发送 <code>ACTION_PROVISION_MANAGED_PROFILE</code>。如果调用成功，系统会触发 <code>onProfileProvisioningComplete()</code> 回调。然后您就可以调用 <code>setProfileEnabled()</code> 来启用此托管配置文件。</p><p>默认情况下，托管配置文件中只启用了一小部分应用。您可以通过调用 <code>enableSystemApp()</code> 在托管配置文件中安装更多应用。</p><p>如果您要开发启动器应用，可以使用新增的 <code>LauncherApps</code> 类获取可为当前用户启动的 Activity 以及任何关联托管配置文件的列表。您的启动器可通过向可绘制图标追加工作徽章，以醒目方式显示托管应用。要检索带徽章的图标，请调用 <code>getUserBadgedIcon()</code>。</p><p>要查看如何使用新功能，请参阅此版本中的 <strong>BasicManagedProfile</strong> 实现示例。</p><h2 id="设备所有者"><a href="#设备所有者" class="headerlink" title="设备所有者"></a>设备所有者</h2><p>Android 5.0 引入了部署设备所有者应用的功能。设备所有者是一种专业化类型的设备管理员，额外拥有在设备上创建和移除二级用户以及配置全局设置的能力。您的设备所有者应用可以使用 <code>DevicePolicyManager</code> 类中的方法对托管设备上的配置、安全性和应用进行精细控制。一台设备在同一时间只能有一名活动的设备所有者。</p><p>要部署和激活设备所有者，您必须在设备处于未配置状态时执行从编程应用到设备的 NFC 数据传送。此数据传送发送的信息与托管配置中所述配置 intent 中发送的信息相同。</p><h2 id="固定屏幕"><a href="#固定屏幕" class="headerlink" title="固定屏幕"></a>固定屏幕</h2><p>Android 5.0 引入了一个全新的固定屏幕 API，可让您暂时限制用户离开您的任务或被通知打断。举例来说，如果您要开发一款教育应用来支持 Android 上的高风险评估要求，或者您要开发单一用途或信息亭模式下的应用，便可使用此 API。您的应用激活固定屏幕后，在其退出该模式前，用户将无法看到通知，无法访问其他应用，也无法返回主屏幕。</p><p>激活固定屏幕的方式有两种：</p><ul><li><strong>手动方式：</strong>用户可以在 <em>Settings &gt; Security &gt; Screen Pinning</em> 中启用固定屏幕，然后通过触摸最近使用的应用屏幕中的绿色大头针图标选择其想固定的任务。</li><li><strong>编程方式：</strong>要以编程方式激活固定屏幕，请在您的应用内调用 <code>startLockTask()</code>。如果请求应用不是设备所有者，系统会提示用户进行确认。设备所有者应用可以调用 <code>setLockTaskPackages()</code> 方法，无需执行用户确认步骤便可使应用变为可固定应用。</li></ul><p>激活任务锁定时，会发生以下行为：</p><ul><li>状态栏空白，并隐藏用户通知和状态信息。</li><li>“主屏幕”按钮和“最近用过的应用”按钮处于隐藏状态。</li><li>其他应用无法启动新 Activity</li><li>当前应用可以启动新 Activity，前提是这样做不会创建新任务。</li><li>当设备所有者调用固定屏幕时，用户将一直锁定于您的应用，直至应用调用 stopLockTask()。</li><li>如果固定屏幕是由并非设备所有者的其他应用启动的 Activity，或者是由用户直接启动，则用户可通过同时按住“Back”按钮和“Recent”按钮退出。<h1 id="打印框架"><a href="#打印框架" class="headerlink" title="打印框架"></a>打印框架</h1></li></ul><hr><p>##将 PDF 渲染成位图<br>您现在可以利用新增的 <code>PdfRenderer</code> 类，将 PDF 文档页面渲染成位图图像后进行打印。您必须指定一个可查找（即内容可随机访问的） <code>ParcelFileDescriptor</code>，系统会在其上写入可打印内容。您的应用可通过 <code>openPage()</code> 获得要渲染的页面，然后调用 <code>render()</code> 将打开的 <code>PdfRenderer.Page</code> 转换成位图。如果您只想将文档的一部分转换成位图图像（例如，为了实现平铺渲染以便放大文档），还可以设置其他参数。</p><p>要查看新 API 使用方法的示例，请参阅 <strong>PdfRendererBasic</strong> 示例。</p><h1 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h1><hr><h2 id="应用使用情况统计信息"><a href="#应用使用情况统计信息" class="headerlink" title="应用使用情况统计信息"></a>应用使用情况统计信息</h2><p>现在可以利用新增的 <code>android.app.usage</code> API 访问 Android 设备上的应用使用历史记录。此 API 提供比已弃用的 <code>getRecentTasks()</code> 方法更为详细的使用信息。要使用此 API，您必须先在清单中声明 <strong>“android.permission.PACKAGE_USAGE_STATS”</strong> 权限。用户还必须通过 <em>Settings &gt; Security &gt; Apps</em> 为该应用启用访问使用情况的权限。</p><p>系统以应用为单位收集使用数据，按天、周、月和年汇总数据。系统保留这些数据的最长持续时间如下：</p><ul><li>每日数据：7 天</li><li>每周数据：4 周</li><li>每月数据：6 个月</li><li>每年数据：2 年</li></ul><p>系统会为每个应用记录以下数据：</p><ul><li>最后一次使用应用的时间</li><li>在该时间间隔（以天、周、月或年为单位）内应用位于前台的总时长</li><li>一天之中当组件（以软件包和 Activity 名称标识）转入前台或后台时记录的时间戳</li><li>设备配置发生变化（如设备屏幕方向因旋转而发生变化）时记录的时间戳</li></ul><h1 id="测试与辅助工具"><a href="#测试与辅助工具" class="headerlink" title="测试与辅助工具"></a>测试与辅助工具</h1><hr><h2 id="测试与辅助工具改进"><a href="#测试与辅助工具改进" class="headerlink" title="测试与辅助工具改进"></a>测试与辅助工具改进</h2><p>Android 5.0 添加了以下测试与无障碍功能支持：</p><ul><li>新增的 <code>getWindowAnimationFrameStats()</code>和 <code>getWindowContentFrameStats()</code>方法可采集窗口动画和内容的帧统计信息。这些方法让您可以编写仪器测试，以评估应用渲染帧时的刷新频率是否足以提供流畅的用户体验。</li><li>新增的 <code>executeShellCommand()</code> 方法让您可以在仪器测试中执行 shell 命令。命令的执行方式与从已连接到设备的主机运行 <strong>adb shell</strong> 类似，允许您使用 <strong>dumpsys</strong>、<strong>am</strong>、<strong>content</strong> 和 <strong>pm</strong> 等基于 shell 的工具。</li><li>使用无障碍功能 API 的无障碍服务和测试工具（如 UiAutomator）现在可以检索视力健全的用户可与之交互的屏幕上各窗口属性的相关详细信息。要检索 <code>AccessibilityWindowInfo</code> 对象列表，请调用新增的 <code>getWindows()</code> 方法。</li><li>新增的 <code>AccessibilityNodeInfo.AccessibilityAction</code> 类允许您定义要在 <code>AccessibilityNodeInfo</code> 上执行的标准或自定义操作。新增的 <code>AccessibilityNodeInfo.AccessibilityAction</code> 类取代了以前在 <code>AccessibilityNodeInfo</code> 中提供的与操作有关的 API。</li><li>Android 5.0 可对您应用内的文本语音转换合成进行更精细的控制。新增的 Voice 类允许您的应用使用关联了特定语言区域、质量和延时评级以及文本语音转换引擎专属参数的语音配置文件。</li></ul><h1 id="IME"><a href="#IME" class="headerlink" title="IME"></a>IME</h1><hr><h2 id="更方便的输入语言切换"><a href="#更方便的输入语言切换" class="headerlink" title="更方便的输入语言切换"></a>更方便的输入语言切换</h2><p>从 Android 5.0 开始，用户可以更方便地在平台支持的所有输入法编辑器 (IME) 之间切换。执行指定的切换操作（通常是触摸软键盘上的地球图标）可在所有此类 IME 中循环切换。此行为变更是由 shouldOfferSwitchingToNextInputMethod() 方法实现的。</p><p>此外，框架现在会检查下一个 IME 是否具有切换机制（并进而检查该 IME 是否支持切换到其后的 IME）。具有切换机制的 IME 将不会循环切换到不具有该机制的 IME。此行为变更是由 switchToNextInputMethod() 方法实现的。</p><p>要查看如何使用更新后的 IME 切换 API 的示例，请参阅此版本中更新后的软键盘实现示例。要详细了解如何实现 IME 切换，请参阅创建输入法。</p><h1 id="清单声明"><a href="#清单声明" class="headerlink" title="清单声明"></a>清单声明</h1><hr><h2 id="可声明的必备功能"><a href="#可声明的必备功能" class="headerlink" title="可声明的必备功能"></a>可声明的必备功能</h2><p>现在支持在 <code>&lt;uses-feature&gt;</code> 元素中使用以下值，以便您确保只在提供应用所需功能的设备上安装您的应用。</p><ul><li><code>FEATURE_AUDIO_OUTPUT</code></li><li><code>FEATURE_CAMERA_CAPABILITY_MANUAL_POST_PROCESSING</code></li><li><code>FEATURE_CAMERA_CAPABILITY_MANUAL_SENSOR</code></li><li><code>FEATURE_CAMERA_CAPABILITY_RAW</code></li><li><code>FEATURE_CAMERA_LEVEL_FULL</code></li><li><code>FEATURE_GAMEPAD</code></li><li><code>FEATURE_LIVE_TV</code></li><li><code>FEATURE_MANAGED_USERS</code></li><li><code>FEATURE_LEANBACK</code></li><li><code>FEATURE_OPENGLES_EXTENSION_PACK</code></li><li><code>FEATURE_SECURELY_REMOVES_USERS</code></li><li><code>FEATURE_SENSOR_AMBIENT_TEMPERATURE</code></li><li><code>FEATURE_SENSOR_HEART_RATE_ECG</code></li><li><code>FEATURE_SENSOR_RELATIVE_HUMIDITY</code></li><li><code>FEATURE_VERIFIED_BOOT</code></li><li><code>FEATURE_WEBVIEW</code><h2 id="用户权限"><a href="#用户权限" class="headerlink" title="用户权限"></a>用户权限</h2>现在，<code>&lt;uses-permission&gt;</code> 元素中支持以下权限，以声明您的应用访问特定 API 所需的权限。</li></ul><p><code>BIND_DREAM_SERVICE</code>：如果针对的是 API 级别 21 及更高级别，则互动屏保服务必须获得该权限才能确保只有系统可与其绑定。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;用户界面&quot;&gt;&lt;a href=&quot;#用户界面&quot; class=&quot;headerlink&quot; title=&quot;用户界面&quot;&gt;&lt;/a&gt;用户界面&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;Material-Design-支持&quot;&gt;&lt;a href=&quot;#Material-Design-支持&quot; cl
      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="Lollipop" scheme="http://yoursite.com/tags/Lollipop/"/>
    
      <category term="Android Developers" scheme="http://yoursite.com/tags/Android-Developers/"/>
    
      <category term="Android  5.0" scheme="http://yoursite.com/tags/Android-5-0/"/>
    
  </entry>
  
  <entry>
    <title>任务和返回栈</title>
    <link href="http://yoursite.com/2014/04/10/tasks-and-back-stack/"/>
    <id>http://yoursite.com/2014/04/10/tasks-and-back-stack/</id>
    <published>2014-04-10T01:27:34.000Z</published>
    <updated>2018-05-03T03:06:13.764Z</updated>
    
    <content type="html"><![CDATA[<p>应用通常包含多个 Activity。每个 Activity 均应围绕用户可以执行的特定操作设计，并且能够启动其他 Activity。 例如，电子邮件应用可能有一个 Activity 显示新邮件的列表。用户选择某邮件时，会打开一个新 Activity 以查看该邮件。</p><p>一个 Activity 甚至可以启动设备上其他应用中存在的 Activity。例如，如果应用想要发送电子邮件，则可将 Intent 定义为执行“发送”操作并加入一些数据，如电子邮件地址和电子邮件。 然后，系统将打开其他应用中声明自己处理此类 Intent 的 Activity。在这种情况下，Intent 是要发送电子邮件，因此将启动电子邮件应用的“撰写”Activity（如果多个 Activity 支持相同 Intent，则系统会让用户选择要使用的 Activity）。发送电子邮件时，Activity 将恢复，看起来好像电子邮件 Activity 是您的应用的一部分。 即使这两个 Activity 可能来自不同的应用，但是 Android 仍会将 Activity 保留在相同的任务中，以维护这种无缝的用户体验。</p><p>任务是指在执行特定作业时与用户交互的一系列 Activity。 这些 Activity 按照各自的打开顺序排列在堆栈（即返回栈）中。</p><p>设备主屏幕是大多数任务的起点。当用户触摸应用启动器中的图标（或主屏幕上的快捷方式）时，该应用的任务将出现在前台。 如果应用不存在任务（应用最近未曾使用），则会创建一个新任务，并且该应用的“主”Activity 将作为堆栈中的根 Activity 打开。</p><p>当前 Activity 启动另一个 Activity 时，该新 Activity 会被推送到堆栈顶部，成为焦点所在。 前一个 Activity 仍保留在堆栈中，但是处于停止状态。Activity 停止时，系统会保持其用户界面的当前状态。 用户按“返回”按钮时，当前 Activity 会从堆栈顶部弹出（Activity 被销毁），而前一个 Activity 恢复执行（恢复其 UI 的前一状态）。 堆栈中的 Activity 永远不会重新排列，仅推入和弹出堆栈：由当前 Activity 启动时推入堆栈；用户使用“返回”按钮退出时弹出堆栈。 因此，返回栈以“后进先出”对象结构运行。 图 1 通过时间线显示 Activity 之间的进度以及每个时间点的当前返回栈，直观呈现了这种行为。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2014/04/10/tasks-and-back-stack/diagram_backstack.png" alt="t1" title="">                </div>                <div class="image-caption">t1</div>            </figure></p><font style="font-size: 12px">图 1. 显示任务中的每个新 Activity 如何向返回栈添加项目。 用户按“返回”按钮时，当前 Activity 随即被销毁，而前一个 Activity 恢复执行。</font><p>如果用户继续按“返回”，堆栈中的相应 Activity 就会弹出，以显示前一个 Activity，直到用户返回主屏幕为止（或者，返回任务开始时正在运行的任意 Activity）。 当所有 Activity 均从堆栈中移除后，任务即不复存在。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2014/04/10/tasks-and-back-stack/diagram_multitasking.png" alt="t2" title="">                </div>                <div class="image-caption">t2</div>            </figure><font style="font-size:12px">图 2. 两个任务：任务 B 在前台接收用户交互，而任务 A 则在后台等待恢复。</font><p>任务是一个有机整体，当用户开始新任务或通过“主页”按钮转到主屏幕时，可以移动到“后台”。 尽管在后台时，该任务中的所有 Activity 全部停止，但是任务的返回栈仍旧不变，也就是说，当另一个任务发生时，该任务仅仅失去焦点而已，如图 2 中所示。然后，任务可以返回到“前台”，用户就能够回到离开时的状态。 例如，假设当前任务（任务 A）的堆栈中有三个 Activity，即当前 Activity 下方还有两个 Activity。 用户先按“主页”按钮，然后从应用启动器启动新应用。 显示主屏幕时，任务 A 进入后台。新应用启动时，系统会使用自己的 Activity 堆栈为该应用启动一个任务（任务 B）。与该应用交互之后，用户再次返回主屏幕并选择最初启动任务 A 的应用。现在，任务 A 出现在前台，其堆栈中的所有三个 Activity 保持不变，而位于堆栈顶部的 Activity 则会恢复执行。 此时，用户还可以通过转到主屏幕并选择启动该任务的应用图标（或者，通过从<a href="https://developer.android.com/guide/components/recents.html" target="_blank" rel="noopener">概览屏幕</a>选择该应用的任务）切换回任务 B。这是 Android 系统中的一个多任务示例。</p><blockquote><p><strong>注：</strong>后台可以同时运行多个任务。但是，如果用户同时运行多个后台任务，则系统可能会开始销毁后台 Activity，以回收内存资源，从而导致 Activity 状态丢失。请参阅下面有关 <a href="https://developer.android.com/guide/components/tasks-and-back-stack.html#ActivityState" target="_blank" rel="noopener">Activity 状态</a>的部分。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2014/04/10/tasks-and-back-stack/diagram_multiple_instances.png" alt="t3" title="">                </div>                <div class="image-caption">t3</div>            </figure><font style="font-size:12px">图 3. 一个 Activity 将多次实例化。</font><p>由于返回栈中的 Activity 永远不会重新排列，因此如果应用允许用户从多个 Activity 中启动特定 Activity，则会创建该 Activity 的新实例并推入堆栈中（而不是将 Activity 的任一先前实例置于顶部）。 因此，应用中的一个 Activity 可能会多次实例化（即使 Activity 来自不同的任务），如图 3 所示。因此，如果用户使用“返回”按钮向后导航，则会按 Activity 每个实例的打开顺序显示这些实例（每个实例的 UI 状态各不相同）。 但是，如果您不希望 Activity 多次实例化，则可修改此行为。 具体操作方法将在后面的管理任务部分中讨论。</p><p><strong>Activity 和任务的默认行为总结如下：</strong></p><ul><li>当 Activity A 启动 Activity B 时，Activity A 将会停止，但系统会保留其状态（例如，滚动位置和已输入表单中的文本）。如果用户在处于 Activity B 时按“返回”按钮，则 Activity A 将恢复其状态，继续执行。</li><li>用户通过按“主页”按钮离开任务时，当前 Activity 将停止且其任务会进入后台。 系统将保留任务中每个 Activity 的状态。如果用户稍后通过选择开始任务的启动器图标来恢复任务，则任务将出现在前台并恢复执行堆栈顶部的 Activity。</li><li>如果用户按“返回”按钮，则当前 Activity 会从堆栈弹出并被销毁。 堆栈中的前一个 Activity 恢复执行。销毁 Activity 时，系统不会保留该 Activity 的状态。</li><li>即使来自其他任务，Activity 也可以多次实例化。</li></ul><blockquote><p><strong>导航设计</strong><br>如需了解有关 Android 应用导航工作方式的详细信息，请阅读 Android 设计的导航指南。</p></blockquote><h1 id="保存-Activity-状态"><a href="#保存-Activity-状态" class="headerlink" title="保存 Activity 状态"></a>保存 Activity 状态</h1><hr><p>正如上文所述，当 Activity 停止时，系统的默认行为会保留其状态。 这样一来，当用户导航回到上一个 Activity 时，其用户界面与用户离开时一样。 但是，在 Activity 被销毁且必须重建时，您可以而且应当主动使用回调方法保留 Activity 的状态。</p><p>系统停止您的一个 Activity 时（例如，新 Activity 启动或任务转到前台），如果系统需要回收系统内存资源，则可能会完全销毁该 Activity。 发生这种情况时，有关该 Activity 状态的信息将会丢失。如果发生这种情况，系统仍会知道该 Activity 存在于返回栈中，但是当该 Activity 被置于堆栈顶部时，系统一定会重建 Activity（而不是恢复 Activity）。 为了避免用户的工作丢失，您应主动通过在 Activity 中实现 onSaveInstanceState() 回调方法来保留工作。</p><p>如需了解有关如何保存 Activity 状态的详细信息，请参阅 Activity 文档。</p><h1 id="管理任务"><a href="#管理任务" class="headerlink" title="管理任务"></a>管理任务</h1><hr><p>Android 管理任务和返回栈的方式（如上所述，即：将所有连续启动的 Activity 放入同一任务和“后进先出”堆栈中）非常适用于大多数应用，而您不必担心 Activity 如何与任务关联或者如何存在于返回栈中。 但是，您可能会决定要中断正常行为。 也许您希望应用中的 Activity 在启动时开始新任务（而不是放置在当前任务中）；或者，当启动 Activity 时，您希望将其现有实例上移一层（而不是在返回栈的顶部创建新实例）；或者，您希望在用户离开任务时，清除返回栈中除根 Activity 以外的所有其他 Activity。</p><p>通过使用 <code>&lt;activity&gt;</code> 清单文件元素中的属性和传递给 <code>startActivity()</code> 的 Intent 中的标志，您可以执行所有这些操作以及其他操作。</p><p>在这一方面，您可以使用的主要 <code>&lt;activity&gt;</code> 属性包括：</p><p><code>taskAffinity</code><br><code>launchMode</code><br><code>allowTaskReparenting</code><br><code>clearTaskOnLaunch</code><br><code>alwaysRetainTaskState</code><br><code>finishOnTaskLaunch</code><br>您可以使用的主要 Intent 标志包括：</p><p><code>FLAG_ACTIVITY_NEW_TASK</code><br><code>FLAG_ACTIVITY_CLEAR_TOP</code><br><code>FLAG_ACTIVITY_SINGLE_TOP</code><br>在下文中，您将了解如何使用这些清单文件属性和 Intent 标志定义 Activity 与任务的关联方式，以及 Activity 在返回栈中的行为方式。</p><p>此外，我们还单独介绍了有关如何在概览屏幕中显示和管理任务与 Activity 的注意事项。 如需了解详细信息，请参阅概览屏幕。 通常，您应该允许系统定义任务和 Activity 在概览屏幕中的显示方法，并且无需修改此行为。</p><blockquote><p><strong>注意：</strong>大多数应用都不得中断 Activity 和任务的默认行为： 如果确定您的 Activity 必须修改默认行为，当使用“返回”按钮从其他 Activity 和任务导航回到该 Activity 时，请务必要谨慎并确保在启动期间测试该 Activity 的可用性。请确保测试导航行为是否有可能与用户的预期行为冲突。</p></blockquote><h2 id="定义启动模式"><a href="#定义启动模式" class="headerlink" title="定义启动模式"></a>定义启动模式</h2><p>启动模式允许您定义 Activity 的新实例如何与当前任务关联。 您可以通过两种方法定义不同的启动模式：</p><p><strong>使用清单文件</strong><br>在清单文件中声明 Activity 时，您可以指定 Activity 在启动时应该如何与任务关联。</p><p><strong>使用 Intent 标志</strong><br>调用 <code>startActivity()</code> 时，可以在 <code>Intent</code> 中加入一个标志，用于声明新 Activity 如何（或是否）与当前任务关联。</p><p>因此，如果 Activity A 启动 Activity B，则 Activity B 可以在其清单文件中定义它应该如何与当前任务关联（如果可能），并且 Activity A 还可以请求 Activity B 应该如何与当前任务关联。如果这两个 Activity 均定义 Activity B 应该如何与任务关联，则 Activity A 的请求（如 Intent 中所定义）优先级要高于 Activity B 的请求（如其清单文件中所定义）。</p><blockquote><p><strong>注：</strong>某些适用于清单文件的启动模式不可用作 Intent 标志，同样，某些可用作 Intent 标志的启动模式无法在清单文件中定义。</p></blockquote><h4 id="使用清单文件"><a href="#使用清单文件" class="headerlink" title="使用清单文件"></a>使用清单文件</h4><p>在清单文件中声明 Activity 时，您可以使用 <code>&lt;activity&gt;</code> 元素的 <code>launchMode</code> 属性指定 Activity 应该如何与任务关联。</p><p><code>launchMode</code> 属性指定有关应如何将 Activity 启动到任务中的指令。您可以分配给 <code>launchMode</code> 属性的启动模式共有四种：</p><p><strong>“standard”（默认模式）</strong><br>默认。系统在启动 Activity 的任务中创建 Activity 的新实例并向其传送 Intent。Activity 可以多次实例化，而每个实例均可属于不同的任务，并且一个任务可以拥有多个实例。<br><strong>“singleTop”</strong><br>如果当前任务的顶部已存在 Activity 的一个实例，则系统会通过调用该实例的 <code>onNewIntent()</code> 方法向其传送 Intent，而不是创建 Activity 的新实例。Activity 可以多次实例化，而每个实例均可属于不同的任务，并且一个任务可以拥有多个实例（但前提是位于返回栈顶部的 Activity 并不是 Activity 的现有实例）。<br>例如，假设任务的返回栈包含根 Activity A 以及 Activity B、C 和位于顶部的 D（堆栈是 A-B-C-D；D 位于顶部）。收到针对 D 类 Activity 的 Intent。如果 D 具有默认的 “standard” 启动模式，则会启动该类的新实例，且堆栈会变成 A-B-C-D-D。但是，如果 D 的启动模式是 “singleTop”，则 D 的现有实例会通过 <code>onNewIntent()</code> 接收 Intent，因为它位于堆栈的顶部；而堆栈仍为 A-B-C-D。但是，如果收到针对 B 类 Activity 的 Intent，则会向堆栈添加 B 的新实例，即便其启动模式为 “singleTop” 也是如此。</p><blockquote><p><strong>注：</strong>为某个 Activity 创建新实例时，用户可以按“返回”按钮返回到前一个 Activity。 但是，当 Activity 的现有实例处理新 Intent 时，则在新 Intent 到达 onNewIntent() 之前，用户无法按“返回”按钮返回到 Activity 的状态。</p></blockquote><p><strong>“singleTask”</strong><br>系统创建新任务并实例化位于新任务底部的 Activity。但是，如果该 Activity 的一个实例已存在于一个单独的任务中，则系统会通过调用现有实例的 onNewIntent() 方法向其传送 Intent，而不是创建新实例。一次只能存在 Activity 的一个实例。</p><blockquote><p><strong>注：</strong>尽管 Activity 在新任务中启动，但是用户按“返回”按钮仍会返回到前一个 Activity。</p></blockquote><p><strong>“singleInstance”.</strong><br>与 “singleTask” 相同，只是系统不会将任何其他 Activity 启动到包含实例的任务中。该 Activity 始终是其任务唯一仅有的成员；由此 Activity 启动的任何 Activity 均在单独的任务中打开。</p><p>我们再来看另一示例，Android 浏览器应用声明网络浏览器 Activity 应始终在其自己的任务中打开（通过在 <code>&lt;activity&gt;</code> 元素中指定 singleTask 启动模式）。这意味着，如果您的应用发出打开 Android 浏览器的 Intent，则其 Activity 与您的应用位于不同的任务中。相反，系统会为浏览器启动新任务，或者如果浏览器已有任务正在后台运行，则会将该任务上移一层以处理新 Intent。</p><p>无论 Activity 是在新任务中启动，还是在与启动 Activity 相同的任务中启动，用户按“返回”按钮始终会转到前一个 Activity。 但是，如果启动指定 <code>singleTask</code> 启动模式的 Activity，则当某后台任务中存在该 Activity 的实例时，整个任务都会转移到前台。此时，返回栈包括上移到堆栈顶部的任务中的所有 Activity。 图 4 显示了这种情况。<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/2014/04/10/tasks-and-back-stack/diagram_backstack_singletask_multiactivity.png" alt="t4" title="">                </div>                <div class="image-caption">t4</div>            </figure></p><font style="font-size:14px">图 4. 显示如何将启动模式为“singleTask”的 Activity 添加到返回栈。 如果 Activity 已经是某个拥有自己的返回栈的后台任务的一部分，则整个返回栈也会上移到当前任务的顶部。</font><p>如需了解有关在清单文件中使用启动模式的详细信息，请参阅 <activity> 元素文档，其中更详细地讨论了 launchMode 属性和可接受的值。</activity></p><blockquote><p><strong>注：</strong>使用 launchMode 属性为 Activity 指定的行为可由 Intent 附带的 Activity 启动标志替代，下文将对此进行讨论。</p></blockquote><h4 id="使用-Intent-标志"><a href="#使用-Intent-标志" class="headerlink" title="使用 Intent 标志"></a>使用 Intent 标志</h4><p>启动 Activity 时，您可以通过在传递给 startActivity() 的 Intent 中加入相应的标志，修改 Activity 与其任务的默认关联方式。可用于修改默认行为的标志包括：</p><p><code>FLAG_ACTIVITY_NEW_TASK</code><br>　　在新任务中启动 Activity。如果已为正在启动的 Activity 运行任务，则该任务会转到前台并恢复其最后状态，同时 Activity 会在 <code>onNewIntent()</code> 中收到新 Intent。<br>正如前文所述，这会产生与<code>&quot;singleTask&quot;</code>launchMode 值相同的行为。</p><p><code>FLAG_ACTIVITY_SINGLE_TOP</code><br>　　如果正在启动的 Activity 是当前 Activity（位于返回栈的顶部），则 现有实例会接收对 <code>onNewIntent()</code> 的调用，而不是创建 Activity 的新实例。<br>正如前文所述，这会产生与 <code>&quot;singleTop&quot;</code>launchMode 值相同的行为。</p><p><code>FLAG_ACTIVITY_CLEAR_TOP</code><br>　　如果正在启动的 Activity 已在当前任务中运行，则会销毁当前任务顶部的所有 Activity，并通过 <code>onNewIntent()</code> 将此 Intent 传递给 Activity 已恢复的实例（现在位于顶部），而不是启动该 Activity 的新实例。<br>产生这种行为的 launchMode 属性没有值。</p><p><code>FLAG_ACTIVITY_CLEAR_TOP</code> 通常与 <code>FLAG_ACTIVITY_NEW_TASK</code> 结合使用。一起使用时，通过这些标志，可以找到其他任务中的现有 Activity，并将其放入可从中响应 Intent 的位置。</p><blockquote><p><strong>注：</strong>如果指定 Activity 的启动模式为 “standard”，则该 Activity 也会从堆栈中移除，并在其位置启动一个新实例，以便处理传入的 Intent。 这是因为当启动模式为 “standard” 时，将始终为新 Intent 创建新实例。</p></blockquote><h2 id="处理关联"><a href="#处理关联" class="headerlink" title="处理关联"></a>处理关联</h2><p>“关联”指示 Activity 优先属于哪个任务。默认情况下，同一应用中的所有 Activity 彼此关联。 因此，默认情况下，同一应用中的所有 Activity 优先位于相同任务中。 不过，您可以修改 Activity 的默认关联。 在不同应用中定义的 Activity 可以共享关联，或者可为在同一应用中定义的 Activity 分配不同的任务关联。</p><p>可以使用 <code>&lt;activity&gt;</code> 元素的 <code>taskAffinity</code> 属性修改任何给定 Activity 的关联。</p><p>taskAffinity 属性取字符串值，该值必须不同于在 <code>&lt;manifest&gt;</code> 元素中声明的默认软件包名称，因为系统使用该名称标识应用的默认任务关联。</p><p>在两种情况下，关联会起作用：</p><ul><li><p>启动 Activity 的 Intent 包含 FLAG_ACTIVITY_NEW_TASK 标志。<br>默认情况下，新 Activity 会启动到调用 startActivity() 的 Activity 任务中。它将推入与调用方相同的返回栈。 但是，如果传递给 startActivity() 的 Intent 包含 FLAG_ACTIVITY_NEW_TASK 标志，则系统会寻找其他任务来储存新 Activity。这通常是新任务，但未做强制要求。 如果现有任务与新 Activity 具有相同关联，则会将 Activity 启动到该任务中。 否则，将开始新任务。<br>如果此标志导致 Activity 开始新任务，且用户按“主页”按钮离开，则必须为用户提供导航回任务的方式。 有些实体（如通知管理器）始终在外部任务中启动 Activity，而从不作为其自身的一部分启动 Activity，因此它们始终将 FLAG_ACTIVITY_NEW_TASK 放入传递给 startActivity() 的 Intent 中。请注意，如果 Activity 能够由可以使用此标志的外部实体调用，则用户可以通过独立方式返回到启动的任务，例如，使用启动器图标（任务的根 Activity 具有 CATEGORY_LAUNCHER Intent 过滤器；请参阅下面的启动任务部分）。</p></li><li><p>Activity 将其 <code>allowTaskReparenting</code> 属性设置为 “true”。<br>在这种情况下，Activity 可以从其启动的任务移动到与其具有关联的任务（如果该任务出现在前台）。</p></li></ul><p>例如，假设将报告所选城市天气状况的 Activity 定义为旅行应用的一部分。 它与同一应用中的其他 Activity 具有相同的关联（默认应用关联），并允许利用此属性重定父级。当您的一个 Activity 启动天气预报 Activity 时，它最初所属的任务与您的 Activity 相同。 但是，当旅行应用的任务出现在前台时，系统会将天气预报 Activity 重新分配给该任务并显示在其中。</p><blockquote><p><strong>提示：</strong>如果从用户的角度来看，一个 .apk 文件包含多个“应用”，则您可能需要使用 <code>taskAffinity</code> 属性将不同关联分配给与每个“应用”相关的 Activity。</p></blockquote><h2 id="清理返回栈"><a href="#清理返回栈" class="headerlink" title="清理返回栈"></a>清理返回栈</h2><p>如果用户长时间离开任务，则系统会清除所有 Activity 的任务，根 Activity 除外。 当用户再次返回到任务时，仅恢复根 Activity。系统这样做的原因是，经过很长一段时间后，用户可能已经放弃之前执行的操作，返回到任务是要开始执行新的操作。</p><p>您可以使用下列几个 Activity 属性修改此行为：</p><p><code>alwaysRetainTaskState</code><br>　　如果在任务的根 Activity 中将此属性设置为 “true”，则不会发生刚才所述的默认行为。即使在很长一段时间后，任务仍将所有 Activity 保留在其堆栈中。<br><code>clearTaskOnLaunch</code><br>　　如果在任务的根 Activity 中将此属性设置为 “true”，则每当用户离开任务然后返回时，系统都会将堆栈清除到只剩下根 Activity。 换而言之，它与 alwaysRetainTaskState 正好相反。 即使只离开任务片刻时间，用户也始终会返回到任务的初始状态。<br><code>finishOnTaskLaunch</code><br>　　此属性类似于 clearTaskOnLaunch，但它对单个 Activity 起作用，而非整个任务。 此外，它还有可能会导致任何 Activity 停止，包括根 Activity。 设置为 “true” 时，Activity 仍是任务的一部分，但是仅限于当前会话。如果用户离开然后返回任务，则任务将不复存在。</p><h2 id="启动任务"><a href="#启动任务" class="headerlink" title="启动任务"></a>启动任务</h2><p>通过为 Activity 提供一个以 “android.intent.action.MAIN” 为指定操作、以 “android.intent.category.LAUNCHER” 为指定类别的 Intent 过滤器，您可以将 Activity 设置为任务的入口点。 例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">...</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span> <span class="attr">...</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>此类 Intent 过滤器会使 Activity 的图标和标签显示在应用启动器中，让用户能够启动 Activity 并在启动之后随时返回到创建的任务中。</p><p>第二个功能非常重要：用户必须能够在离开任务后，再使用此 Activity 启动器返回该任务。 因此，只有在 Activity 具有 <code>ACTION_MAIN</code> 和 <code>CATEGORY_LAUNCHER</code> 过滤器时，才应该使用将 Activity 标记为“始终启动任务”的两种启动模式，即 <strong>“singleTask”</strong> 和 <strong>“singleInstance”</strong>。例如，我们可以想像一下如果缺少过滤器会发生什么情况： Intent 启动一个 “singleTask” Activity，从而启动一个新任务，并且用户花了些时间处理该任务。然后，用户按“主页”按钮。 任务现已发送到后台，而且不可见。现在，用户无法返回到任务，因为该任务未显示在应用启动器中。</p><p>如果您并不想用户能够返回到 Activity，对于这些情况，请将 <code>&lt;activity&gt;</code> 元素的 finishOnTaskLaunch 设置为 “true”（请参阅清理堆栈）。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;应用通常包含多个 Activity。每个 Activity 均应围绕用户可以执行的特定操作设计，并且能够启动其他 Activity。 例如，电子邮件应用可能有一个 Activity 显示新邮件的列表。用户选择某邮件时，会打开一个新 Activity 以查看该邮件。&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
      <category term="LaunchMode" scheme="http://yoursite.com/tags/LaunchMode/"/>
    
  </entry>
  
</feed>
